/*global jQuery, document, redux_opts, confirm, relid:true, console, jsonView */function verify_fold(e){jQuery(document).ready(function(t){if(e.hasClass("redux-info")||e.hasClass("redux-typography")){return}var n=e.parents(".redux-field:first").data("id");var r=e.val();if(redux_opts.folds[n]){if(redux_opts.folds[n].children){var i={};t.each(redux_opts.folds[n].children,function(e,s){t.each(s,function(t,s){if(!i[s]){i[s]={show:false,hidden:false}}if(e==r||i[s]===true){i[s].show=true}if(i[s].show===true&&jQuery("#"+n).parents("tr:first").hasClass("hiddenFold")){i[s].show=false}if(i[s].show===true&&jQuery("#"+redux_opts.folds[n].parent).hasClass("hiddenFold")){i[s].show=false}i[s].hidden=jQuery("#"+s).parents("tr:first").hasClass("hiddenFold")})});t.each(i,function(e){var t=jQuery("#"+e).parents("tr:first");if(i[e].show===true){t.fadeIn("medium",function(){t.removeClass("hiddenFold");if(redux_opts.folds[e]&&redux_opts.folds[e].children){}})}else if(i[e].hidden===false){t.fadeOut("medium",function(){t.addClass("hiddenFold");if(redux_opts.folds[e].children){}})}})}}})}function redux_change(e){if(e.is("input[type=hidden]")||jQuery(e).parents("fieldset:eq(0)").is(".redux-container-image_select"))jQuery("body").trigger("check_dependencies",e);if(e.hasClass("compiler")){jQuery("#redux-compiler-hook").val(1)}if(e.hasClass("foldParent")){}window.onbeforeunload=confirmOnPageExit;if(jQuery(e).hasClass("redux-field-error")){jQuery(e).removeClass("redux-field-error");jQuery(e).parent().find(".redux-th-error").slideUp();var t=jQuery(e).closest(".redux-group-tab").attr("id");var n=true;jQuery("#"+t+" .redux-field-error").each(function(){n=false});if(n){jQuery("#"+t+"_li .redux-menu-error").hide();jQuery("#"+t+"_li .redux-group-tab-link-a").removeClass("hasError")}}jQuery("#redux-save-warn").slideDown()}(function(e){"use strict";e.redux=e.redux||{};var t=e("body");e(document).ready(function(){jQuery.fn.isOnScreen=function(){if(!window){return}var e=jQuery(window);var t={top:e.scrollTop(),left:e.scrollLeft()};t.right=t.left+e.width();t.bottom=t.top+e.height();var n=this.offset();n.right=n.left+this.outerWidth();n.bottom=n.top+this.outerHeight();return!(t.right<n.left||t.left>n.right||t.bottom<n.top||t.top>n.bottom)};e.redux.required();t.on("check_dependencies",function(t,n){e.redux.check_dependencies(t,n)})});e.redux.required=function(){e(".hiddenFold , .showFold").each(function(){var t=e(this),n=t.parents("tr:eq(0)"),r=t.data();if(t.hasClass("hiddenFold")){n.addClass("hiddenFold").attr("data-check-field",r.checkField).attr("data-check-comparison",r.checkComparison).attr("data-check-value",r.checkValue).attr("data-check-id",r.id).hide();t.removeClass("hiddenFold").removeAttr("data-check-field").removeAttr("data-check-comparison").removeAttr("data-check-value")}else{n.attr("data-check-field",r.checkField).attr("data-check-comparison",r.checkComparison).attr("data-check-value",r.checkValue).attr("data-check-id",r.id);t.removeClass("showFold").removeAttr("data-check-field").removeAttr("data-check-comparison").removeAttr("data-check-value")}});e(".fold").promise().done(function(){e(".foldParent").each(function(){if(e(this).attr("type")=="radio"&&e(this).attr("checked")!="checked"){return}var t=e(this).parents(".redux-field:first").data("id");if(redux_opts.folds[t]){if(!redux_opts.folds[t].parent){e.redux.verify_fold(e(this))}}})});t.on("change","#redux-main select, #redux-main radio, #redux-main input[type=checkbox], #redux-main input[type=hidden]",function(t){e.redux.check_dependencies(t,this)})};e.redux.check_dependencies=function(n,r){var i=e(r),s=i.parents(".redux-group-tab:eq(0)");if(!s.length)s=t;var o=i.parents(".redux-field:first").data("id"),u=s.find('tr[data-check-field="'+o+'"]'),a=r.value,f=i.parents("tr:eq(0)").is(".hiddenFold");if(!u.length)return;u.each(function(){var t=e(this),n=t.data(),i=n.checkValue,s=false;if(!f){switch(n.checkComparison){case"=":case"equals":if(i.toString().indexOf("|")!==-1){var o=i.split("|");if(e.inArray(a,o)!=-1){s=true}}else{if(a==i)s=true}break;case"!=":case"not":if(i.indexOf("|")!==-1){var o=i.split("|");if(e.inArray(a,o)==-1){s=true}}else{if(a!=i)s=true}break;case">":case"greater":case"is_larger":if(parseFloat(a)>parseFloat(i))s=true;break;case"<":case"less":case"is_smaller":if(parseFloat(a)<parseFloat(i))s=true;break;case"contains":if(a.indexOf(i)!=-1)s=true;break;case"doesnt_contain":if(a.indexOf(i)==-1)s=true;break;case"is_empty_or":if(a==""||a==i)s=true;break;case"not_empty_and":if(a!=""&&a!=i)s=true;break}}e.redux.verify_fold(e(r))})};e.redux.verify_fold=function(t){var n=t.parents(".redux-field:first").data("id");var r=t.val();var i=t.parents(".redux-groups-accordion-group:first").length>0?t.parents(".redux-groups-accordion-group:first"):t.parents(".redux-group-tab:eq(0)");if(redux_opts.folds[n]){if(redux_opts.folds[n].children){var s={};e.each(redux_opts.folds[n].children,function(t,o){e.each(o,function(e,o){if(!s[o]){s[o]={show:false,hidden:false}}if(t==r||s[o]===true){s[o].show=true}if(s[o].show===true&&i.find('tr[data-check-id="'+n+'"]').hasClass("hiddenFold")){s[o].show=false}if(s[o].show===true&&i.find('tr[data-check-id="'+redux_opts.folds[n].parent+'"]').hasClass("hiddenFold")){s[o].show=false}s[o].hidden=i.find('tr[data-check-id="'+o+'"]').hasClass("hiddenFold")})});e.each(s,function(t){var n=i.find('tr[data-check-id="'+t+'"]');if(s[t].show===true){n.fadeIn("medium",function(){n.removeClass("hiddenFold");if(redux_opts.folds[t]&&redux_opts.folds[t].children){e.redux.verify_fold(n.find("select, radio, input[type=checkbox], input[type=hidden]"))}})}else if(s[t].hidden===false){n.fadeOut("medium",function(){n.addClass("hiddenFold");if(redux_opts.folds[t].children){e.redux.verify_fold(n.find("select, radio, input[type=checkbox], input[type=hidden]"))}})}})}}}})(jQuery);jQuery.noConflict();var confirmOnPageExit=function(e){e=e||window.event;var t=redux_opts.save_pending;if(e){e.returnValue=t}window.onbeforeunload=null;return t};jQuery(document).ready(function(e){function t(e){return decodeURI(((new RegExp(e+"="+"(.+?)(&|$)")).exec(location.search)||[,""])[1])}function s(){var e=jQuery("#info_bar").width()-2;if(!jQuery("#info_bar").isOnScreen()&&!jQuery("#redux-footer-sticky").isOnScreen()){jQuery("#redux-footer").css({position:"fixed",bottom:"0",width:e});jQuery("#redux-footer").addClass("sticky-footer-fixed");jQuery("#redux-sticky-padder").show()}else{jQuery("#redux-footer").css({background:"#eee",position:"inherit",bottom:"inherit",width:"inherit"});jQuery("#redux-sticky-padder").hide();jQuery("#redux-footer").removeClass("sticky-footer-fixed")}}jQuery(".redux-action_bar, .redux-presets-bar").on("click",function(){window.onbeforeunload=null});if(jQuery().tipsy){e(".tips").tipsy({fade:true,gravity:"s",opacity:.7})}e("#toplevel_page_"+redux_opts.slug+" .wp-submenu a").click(function(t){t.preventDefault();var n=e(this).attr("href").split("&tab=");e("#"+n[1]+"_section_group_li_a").click();console.log(n[1]);return false});jQuery(".redux-group-tab-link-a").click(function(){relid=jQuery(this).data("rel");e("#toplevel_page_"+redux_opts.slug+" .wp-submenu a.current").removeClass("current");e("#toplevel_page_"+redux_opts.slug+" .wp-submenu li.current").removeClass("current");e("#toplevel_page_"+redux_opts.slug+" .wp-submenu a").each(function(){var t=e(this).attr("href").split("&tab=");if(t[1]==relid){e(this).addClass("current");e(this).parent().addClass("current")}});var t=jQuery(".redux-group-tab-link-li.active .redux-group-tab-link-a").data("rel");jQuery("#"+t+"_section_group_li").removeClass("active");jQuery("#"+t+"_section_group").hide();jQuery("#"+relid+"_section_group").fadeIn(300,function(){s()});jQuery("#"+relid+"_section_group_li").addClass("active")});var n=t("tab");if(n!==""){if(e.cookie("redux_current_tab_get")!==n){e.cookie("redux_current_tab",n,{expires:7,path:"/"});e.cookie("redux_current_tab_get",n,{expires:7,path:"/"});jQuery("#"+n+"_section_group_li").click()}}else if(e.cookie("redux_current_tab_get")!==""){e.removeCookie("redux_current_tab_get")}var r=jQuery("#"+e.cookie("redux_current_tab")+"_section_group_li_a");if(e.cookie("redux_current_tab")===null||typeof e.cookie("redux_current_tab")==="undefined"||r.length===0){jQuery(".redux-group-tab-link-a:first").click()}else{r.click()}jQuery('input[name="'+redux_opts.opt_name+'[defaults]"]').click(function(){if(!confirm(redux_opts.reset_confirm)){return false}window.onbeforeunload=null});jQuery("#expand_options").click(function(e){e.preventDefault();var t=jQuery("#expand_options");var n=jQuery("#redux-sidebar").width();var r=jQuery("#redux-group-menu .active a").data("rel")+"_section_group";if(t.hasClass("expanded")){t.removeClass("expanded");jQuery("#redux-main").removeClass("expand");jQuery("#redux-sidebar").stop().animate({"margin-left":"0px"},500);jQuery("#redux-main").stop().animate({"margin-left":n},500);jQuery(".redux-group-tab").each(function(){if(jQuery(this).attr("id")!==r){jQuery(this).fadeOut("fast")}})}else{t.addClass("expanded");jQuery("#redux-main").addClass("expand");jQuery("#redux-sidebar").stop().animate({"margin-left":-n-2},500);jQuery("#redux-main").stop().animate({"margin-left":"0px"},500);jQuery(".redux-group-tab").fadeIn()}return false});jQuery("#redux-import").click(function(e){if(jQuery("#import-code-value").val()===""&&jQuery("#import-link-value").val()===""){e.preventDefault();return false}});if(jQuery("#redux-save").is(":visible")){jQuery("#redux-save").slideDown()}if(jQuery("#redux-imported").is(":visible")){jQuery("#redux-imported").slideDown()}jQuery("input, textarea, select").on("change",function(){if(!jQuery(this).hasClass("noUpdate")){redux_change(jQuery(this))}});jQuery("#redux-import-code-button").click(function(){if(jQuery("#redux-import-link-wrapper").is(":visible")){jQuery("#redux-import-link-wrapper").fadeOut("fast");jQuery("#import-link-value").val("")}jQuery("#redux-import-code-wrapper").fadeIn("slow")});jQuery("#redux-import-link-button").click(function(){if(jQuery("#redux-import-code-wrapper").is(":visible")){jQuery("#redux-import-code-wrapper").fadeOut("fast");jQuery("#import-code-value").val("")}jQuery("#redux-import-link-wrapper").fadeIn("slow")});jQuery("#redux-export-code-copy").click(function(){if(jQuery("#redux-export-link-value").is(":visible")){jQuery("#redux-export-link-value").fadeOut("slow")}jQuery("#redux-export-code").toggle("fade")});jQuery("#redux-export-link").click(function(){if(jQuery("#redux-export-code").is(":visible")){jQuery("#redux-export-code").fadeOut("slow")}jQuery("#redux-export-link-value").toggle("fade")});var i=jQuery("#redux-footer").height();jQuery("#redux-sticky-padder").css({height:i});jQuery(window).scroll(function(){s()});jQuery(window).resize(function(){s()});jQuery("#redux-save, #redux-imported").delay(4e3).slideUp();jQuery("#redux-field-errors").delay(8e3).slideUp();jQuery(".redux-save").click(function(){window.onbeforeunload=null});e("#consolePrintObject").on("click",function(){console.log(jQuery.parseJSON(jQuery("#redux-object-json").html()))});if(typeof jsonView==="function"){jsonView("#redux-object-json","#redux-object-browser")}if(redux_opts.errors!==undefined){jQuery("#redux-field-errors span").html(redux_opts.errors.total);jQuery("#redux-field-errors").show();jQuery.each(redux_opts.errors.errors,function(e,t){jQuery("#"+e+"_section_group_li_a").prepend('<span class="redux-menu-error">'+t.total+"</span>");jQuery("#"+e+"_section_group_li_a").addClass("hasError");jQuery.each(t.errors,function(e,t){jQuery("#"+t.id).addClass("redux-field-error");jQuery("#"+t.id).parents("td:first").append('<span class="redux-th-error">'+t.msg+"</span>")})})}if(redux_opts.warnings!==undefined){jQuery("#redux-field-warnings span").html(redux_opts.warnings.total);jQuery("#redux-field-warnings").show();jQuery.each(redux_opts.warnings.warnings,function(e,t){jQuery("#"+e+"_section_group_li_a").prepend('<span class="redux-menu-warning">'+t.total+"</span>");jQuery("#"+e+"_section_group_li_a").addClass("hasWarning");jQuery.each(t.warnings,function(e,t){jQuery("#"+t.id).addClass("redux-field-warning");jQuery("#"+t.id).parents("td:first").append('<span class="redux-th-warning">'+t.msg+"</span>")})})}jQuery(".redux-section-tabs div").hide();jQuery(".redux-section-tabs div:first").show();jQuery(".redux-section-tabs ul li:first").addClass("active");jQuery(".redux-section-tabs ul li a").click(function(){jQuery(".redux-section-tabs ul li").removeClass("active");jQuery(this).parent().addClass("active");var t=e(this).attr("href");jQuery(".redux-section-tabs div").hide();jQuery(t).fadeIn();return false})});