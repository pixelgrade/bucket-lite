!function(e,t,i){function o(e){"use strict";var t,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e,!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return o.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return o.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return o.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){return o.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){return o.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return o.prototype.onTouchCancel.apply(i,arguments)},o.notNeeded(e)||(this.deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,o){var n=Node.prototype.removeEventListener;"click"===t?n.call(e,t,i.hijacked||i,o):n.call(e,t,i,o)},e.addEventListener=function(t,i,o){var n=Node.prototype.addEventListener;"click"===t?n.call(e,t,i.hijacked||(i.hijacked=function(e){e.propagationStopped||i(e)}),o):n.call(e,t,i,o)}),"function"==typeof e.onclick&&(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null))}function n(){!function(e,t){return"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.salvattore=t()}(this,function(){var e,t,o,n,r,s,a,l,c,d,u,h,p,f,m,g,v;return a=[],t=function(e,t,i){var o;return o=e.dataset,o?o[t]=i:e.setAttribute("data-"+t,i)},u=function(e){var t,i,o,n,r,s,a;return i=getComputedStyle(e,":before"),o=i.getPropertyValue("content").slice(1,-1),n=o.match(/^\s*(\d+)(?:\s?\.(.+))?\s*$/),n?(r=n[1],t=(null!=(s=n[2])?s.split("."):void 0)||["column"]):(n=o.match(/^\s*\.(.+)\s+(\d+)\s*$/),t=n[1],r=null!=(a=n[2])?a.split("."):void 0),{numberOfColumns:r,columnClasses:t}},e=function(e,i){var o,n,r,s,a,l,c;for(c=u(e),a=c.numberOfColumns,o=c.columnClasses,r=new Array(+a),s=a;0!==s--;)l="[data-columns] > *:nth-child("+a+"n-"+s+")",r.push(i.querySelectorAll(l));return n=document.createDocumentFragment(),r.forEach(function(e){var t,i;return t=document.createElement("div"),t.className=o.join(" "),i=document.createDocumentFragment(),Array.prototype.forEach.call(e,function(e){return i.appendChild(e)}),t.appendChild(i),n.appendChild(t)}),e.appendChild(n),t(e,"columns",a)},m=function(e){var i,o,n,r,s,a;return s=document.createRange(),s.selectNodeContents(e),i=Array.prototype.filter.call(s.extractContents().childNodes,function(e){return e instanceof HTMLElement}),n=i.length,r=i[0].childNodes.length,a=new Array(r*n),Array.prototype.forEach.call(i,function(e,t){return Array.prototype.forEach.call(e.children,function(e,i){return a[i*n+t]=e})}),o=document.createElement("div"),t(o,"columns",0),a.filter(function(e){return null!=e}).forEach(function(e){return o.appendChild(e)}),o},p=function(t){return requestAnimationFrame(function(){var i;return i=m(t),e(t,i)})},l=function(e){return e.matches?Array.prototype.forEach.call(a,p):void 0},r=function(e){var t,i;try{t=e.sheet.cssRules}catch(o){return i=o,[]}return t?t:[]},s=function(){return Array.prototype.concat.call(Array.prototype.slice.call(document.querySelectorAll('style[type="text/css"]')),Array.prototype.slice.call(document.querySelectorAll('link[rel="stylesheet"]')))},c=function(e){var t,o;for(t=e.length;t--;)if(o=e[t],o.selectorText!==i&&o.selectorText.match(/\[data-columns\](.*)::?before$/))return!0;return!1},g=function(){var e;if("undefined"!=typeof matchMedia&&null!==matchMedia)return e=[],s().forEach(function(t){return Array.prototype.forEach.call(r(t),function(t){return null!=t.media&&c(t.cssRules)?e.push(matchMedia(t.media.mediaText)):void 0})}),e.forEach(function(e){return e.addListener(l)})},d=function(e){var t,i,o,n,r,s,a,l;for(i=e.children,s=i.length,r=a=0,l=i.length;l>a&&(t=i[r],o=t.children.length,!(0!==r&&n>o));r=++a){if(r+1===s){r=0;break}n=o}return r},n=function(e){var t,i;for(t=new Array(e),i=0;i!==e;)t[i]=document.createDocumentFragment(),i++;return t},o=function(e,t){var i,o,r,s;return o=e.children,s=o.length,r=n(s),i=d(e,t[0]),t.forEach(function(e){return r[i].appendChild(e),i===s-1?i=0:i++}),Array.prototype.forEach.call(o,function(e,t){return e.appendChild(r[t])})},h=function(e,t){var i,o,r,s,a,l;for(o=e.children,a=o.length,s=n(a),i=a-1,t.forEach(function(e){var t;return t=s[i],t.insertBefore(e,t.firstChild),0===i?i=a-1:i--}),Array.prototype.forEach.call(o,function(e,t){return e.insertBefore(s[t],e.firstChild)}),r=document.createDocumentFragment(),l=t.length%a;0!==l--;)r.appendChild(e.lastChild);return e.insertBefore(r,e.firstChild)},f=function(i){var o,n;if("none"!==getComputedStyle(i).display)return n=document.createRange(),n.selectNodeContents(i),o=document.createElement("div"),o.appendChild(n.extractContents()),t(o,"columns",0),e(i,o),a.push(i)},v=function(){return Array.prototype.forEach.call(document.querySelectorAll("[data-columns]"),f),g()},v(),{append_elements:o,prepend_elements:h,register_grid:f}})}function r(){M=e(t).height(),E=e(t).width(),z=e(document).height(),L=E/M}function s(){e.support.touch="ontouchend"in document;var i=navigator.userAgent.toLowerCase(),o=navigator.platform.toLowerCase(),n=o.indexOf("iphone"),r=o.indexOf("ipod"),s=o.indexOf("android"),a=-1!=i.indexOf("safari")&&-1==i.indexOf("chrome")?!0:!1;t.SVGAngle?!0:!1,document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?!0:!1,/gecko/i.test(i)&&/rv:1.9/i.test(i)?!0:!1,C=n>-1||r>-1||s>-1?!0:!1,k=e.support.touch?!0:!1,T=e.support.leadingWhitespace?!1:!0,I="undefined"==typeof t.atob?!0:!1;var l=e("body");k&&l.addClass("touch"),a&&l.addClass("safari"),C&&l.addClass("phone")}function a(){var o=e("body").data("smoothscrolling")!==i;o&&e(t).width()>680&&!k&&!j&&(e("html").addClass("nicescroll"),e("[data-smoothscrolling]").niceScroll({zindex:9999,cursoropacitymin:.8,cursorwidth:7,cursorborder:0,mousescrollstep:60,scrollspeed:80,cursorcolor:"#000000"}))}function l(){function t(e,t,i){return Array(t-String(e).length+1).join(i||"0")+e}e(".wp-gallery").each(function(){var t=e(this),i=t.find("img"),o=e('<div class="pixslider js-pixslider" data-royalslider data-customarrows data-autoscale>');i.prependTo(o).addClass("rsImg"),t.replaceWith(o)}),e(".js-pixslider").each(function(){var i=e(this),o="undefined"!=typeof i.data("arrows"),n="undefined"!=typeof i.data("bullets")?"bullets":"none",r="undefined"!=typeof i.data("autoheight"),s="undefined"!=typeof i.data("customarrows"),a="undefined"!=typeof i.data("slidesspacing")?parseInt(i.data("slidesspacing")):0,l="undefined"!=typeof i.data("fullscreen");rs_imageScale="undefined"!=typeof i.data("imagescale")?i.data("imagescale"):"fill",s&&(arrows=!1),r?i.royalSlider({autoHeight:!0,autoScaleSlider:!1,loop:!0,imageScaleMode:"none",imageAlignCenter:!0,slidesSpacing:a,arrowsNav:o,controlNavigation:n,keyboardNavEnabled:l}):i.royalSlider({autoScaleSlider:!0,autoHeight:!1,loop:!0,imageScaleMode:rs_imageScale,imageAlignCenter:!0,slidesSpacing:a,arrowsNav:o,controlNavigation:n,keyboardNavEnabled:l});var c=i.data("royalSlider");if(c&&s){var d=c.numSlides,u=e('<div class="gallery-control gallery-control--gallery-fullscreen"><a href="#" class="control-item arrow-button arrow-button--left js-slider-arrow-prev"></a><div class="control-item count js-gallery-current-slide"><span class="highlighted js-decimal">0</span><span class="js-unit">1</span><sup class="js-gallery-slides-total">03</sup></div><a href="#" class="control-item arrow-button arrow-button--right js-slider-arrow-next"></a></div>');"left"==i.data("customarrows")&&u.addClass("gallery-control--left"),l?u.insertAfter(".pixslider"):u.insertAfter(i),d=10>d?t(d,2):d,u.find(".js-gallery-slides-total").html(d),c.ev.on("rsBeforeAnimStart",function(){var e=c.currSlideId+1;10>e?u.find(".js-gallery-current-slide .js-unit").html(e):(u.find(".js-gallery-current-slide .js-decimal").html(e/10),u.find(".js-gallery-current-slide .js-unit").html(e%10))}),u.on("click",".js-slider-arrow-prev",function(e){e.preventDefault(),c.prev()}),u.on("click",".js-slider-arrow-next",function(e){e.preventDefault(),c.next()})}})}function c(){e(".js-gallery").each(function(){e(this).magnificPopup({delegate:".mosaic__item a",type:"image",removalDelay:500,mainClass:"mfp-fade",image:{titleSrc:function(e){return e.el.attr("title")}},gallery:{enabled:!0,navigateByImgClick:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:'<div class="gallery-control gallery-control--popup"><a href="#" class="control-item arrow-button arrow-button--left js-arrow-popup-prev"></a><div class="control-item count js-gallery-current-slide"><span class="js-unit">%curr%</span><sup class="js-gallery-slides-total">%total%</sup></div><a href="#" class="control-item arrow-button arrow-button--right js-arrow-popup-next"></a></div>'},open:function(){console.log("open!"),e(".js-arrow-popup-prev").on("click",function(t){t.preventDefault();var i=e.magnificPopup.instance;i.prev()}),e(".js-arrow-popup-next").on("click",function(t){t.preventDefault();var i=e.magnificPopup.instance;i.next()})}})}),e(".js-project-gallery").each(function(){e(this).magnificPopup({delegate:"a",type:"image",removalDelay:500,mainClass:"mfp-fade",image:{titleSrc:function(e){return e.el.attr("title")}},gallery:{enabled:!0,navigateByImgClick:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:'<div class="gallery-control gallery-control--popup"><a href="#" class="control-item arrow-button arrow-button--left js-arrow-popup-prev"></a><div class="control-item count js-gallery-current-slide"><span class="js-unit">%curr%</span><sup class="js-gallery-slides-total">%total%</sup></div><a href="#" class="control-item arrow-button arrow-button--right js-arrow-popup-next"></a></div>'},open:function(){e(".js-arrow-popup-prev").on("click",function(t){t.preventDefault();var i=e.magnificPopup.instance;i.prev()}),e(".js-arrow-popup-next").on("click",function(t){t.preventDefault();var i=e.magnificPopup.instance;i.next()})}})})}function d(){e(".mosaic").mixitup({targetSelector:".mosaic__item",easing:"snap"}),e(".mosaic__item .image_item-meta--portfolio .image_item-table").each(function(){e(this).hoverdir()})}function u(){function t(e,t){var i=t.split("?")[1];if("undefined"==typeof i)return i;i=i.split("&");for(var o=0;o<i.length;o++){var n=i[o].split("=");if(n[0]==e)return n[1]}}if(e("#gmap").length){var i,o,n,r;if(i=e("#gmap").data("url"),r="undefined"!=typeof e("#gmap").data("customstyle")?"style1":google.maps.MapTypeId.ROADMAP,Math.log=function(){var e=Math.log;return function(t,i){return e(t)/(i?e(i):1)}}(),i){var o=t("ll",i);if("undefined"==typeof o&&(o=t("sll",i)),"undefined"==typeof o){var s,a,l;split=i.split("!3d"),s=split[1],split=split[0].split("!2d"),a=split[1],split=split[0].split("!1d"),l=split[1];var n=21-Math.round(Math.log(Math.round(l/218),2)),c=[s,a]}else{var n=t("z",i);"undefined"==typeof n&&(n=10);var c=o.split(",")}}e("#gmap").gmap3({map:{options:{center:new google.maps.LatLng(c[0],c[1]),zoom:parseInt(n),mapTypeId:r,mapTypeControlOptions:{mapTypeIds:[]},scrollwheel:!1}},overlay:{latLng:new google.maps.LatLng(c[0],c[1]),options:{content:'<div class="pin_ring pin_ring--outer"><div class="pin_ring pin_ring--inner"></div></div>'}},styledmaptype:{id:"style1",options:{name:"Style 1"},styles:[{stylers:[{saturation:-100}]}]}})}}function h(){var t=e(".video-wrap iframe, video");t.each(function(){e(this).data("aspectRatio",this.width/this.height).removeAttr("height").removeAttr("width")}),e(".featured-image iframe").each(function(){var t=e(this).attr("src");console.log(t),e(this).attr("src",t+"?wmode=transparent")})}function p(){var t=e(".video-wrap iframe, video");t.each(function(){var t=e(this),i=t.data("aspectRatio"),o=t.css("width","100%").width(),n=o/i;t.height(n)})}function f(){if(k=!1,r(),s(),e("body").data("ajaxloading")!==i){var n=function(t){var i=this;i.replaceWith(t),setTimeout(function(){e("html").removeClass("loading")})};e("body").djax(".djax-updatable",["pdf","doc","eps","png","zip","admin","wp-","feed","#"],n)}var a=t.retina||t.devicePixelRatio>1;if(a&&e(".site-logo--image-2x").length){var l=e(".site-logo--image-2x").find("img");l.data("logo2x")!==i&&l.attr("src",l.data("logo2x"))}e("html").addClass("loaded");var c=e(t).height(),d=e(".site-header__branding").outerHeight(!0),u=e(".site-header").outerHeight(!0),h=e(".site-footer").outerHeight(!0);u+d+h>c&&e(".site-footer").css({position:"static","margin-left":0,"padding-right":"24px"}),e(function(){o.attach(document.body)}),v(),_()}function m(){var t=e(".progressbar");t.addClass("is-visible"),t.length&&t.each(function(){var t=e(this).find(".progressbar__progress");t.css({width:t.data("value")})})}function g(){a(),h(),p(),m(),w(),e(".masonry").length&&n(),l(),c(),d(),u(),e(".pixcode-tabs").tab(),x("in"),S("in")}function v(){e(".js-nav-trigger").on("click",function(){e("html").toggleClass("navigation--is-visible")})}function y(){e(document).on("click",".can_like .like-link",function(t){t.preventDefault();var i=e(this).find("i");i.addClass("animate-like").delay(1e3).queue(function(){e(this).addClass("like-complete")})})}function _(){e(".menu-item--parent").hoverIntent({over:function(){e(this).addClass("js--is-active"),e(this).children(".site-navigation__sub-menu").slideDown(200,"easeInOutSine")},out:function(){e(this).removeClass("js--is-active"),e(this).children(".site-navigation__sub-menu").slideUp(200,"easeInOutSine")},timeout:300}),y()}function b(t){var i=e(t);i.closest(".mosaic__item").addClass("js--is-loaded"),setTimeout(function(){i.closest(".mosaic__item").addClass("slide-in")},40*Math.floor(10*Math.random()+1))}function w(){var t=e(".js-lazy-load");t.each(function(){var t=e(this),i=t.attr("data-src");t.on("load",b(t[0])).attr("src",i)})}function x(t){t="in"==t?t:"out",e(".mosaic__item").each(function(){var i=e(this);setTimeout(function(){i.addClass("slide-"+t)},40*Math.floor(10*Math.random()+1))})}function S(t){t="in"==t?t:"out";var o=new Array,n=new Array,r=e(".masonry .span .masonry__item").length;e(".masonry .span").each(function(t){n[t]=e(this).children(".masonry__item"),o[t]=n[t].length});for(var s=Math.max.apply(null,o),a=0;s>a;a++)e(n).each(function(o){if(n[o][a]!==i)if("in"==t){var l=e(n[o][a]),c=a*s+o;setTimeout(function(){l.addClass("is-loaded")},100*c)}else{var l=e(n[o][a]),c=r-(a*s+o);setTimeout(function(){l.removeClass("is-loaded")},100*c)}})}var C,k,T,I,M,E,z,L,O=navigator.userAgent,P=t.location.toString(),A=O.match(/webkit/i),B=O.match(/gecko/i),N=O.match(/msie (9|([1-9][0-9]))/i);O.match(/msie/i)&&!N,O.match(/msie 6/i),O.match(/mobile/i);var j=O.match(/(iPad|iPhone|iPod|Macintosh)/g)?!0:!1,D=!0;O.match(/msie 9/i)||P.match(/transform\=2d/i);var H,F={webkit:"webkitTransform",firefox:"MozTransform",ie:"msTransform",w3c:"transform"};D&&(A?H=F.webkit:B?H=F.firefox:N&&(H=F.ie)),t.matchMedia=t.matchMedia||function(e){"use strict";var t,i=e.documentElement,o=i.firstElementChild||i.firstChild,n=e.createElement("body"),r=e.createElement("div");return r.id="mq-test-1",r.style.cssText="position:absolute;top:-100em",n.style.background="none",n.appendChild(r),function(e){return r.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(n,o),t=42===r.offsetWidth,i.removeChild(n),{matches:t,media:e}}}(document),function(e){"use strict";function t(){w(!0)}var i={};if(e.respond=i,i.update=function(){},i.mediaQueriesSupported=e.matchMedia&&e.matchMedia("only all").matches,!i.mediaQueriesSupported){var o,n,r,s=e.document,a=s.documentElement,l=[],c=[],d=[],u={},h=30,p=s.getElementsByTagName("head")[0]||a,f=s.getElementsByTagName("base")[0],m=p.getElementsByTagName("link"),g=[],v=function(){for(var t=0;m.length>t;t++){var i=m[t],o=i.href,n=i.media,r=i.rel&&"stylesheet"===i.rel.toLowerCase();o&&r&&!u[o]&&(i.styleSheet&&i.styleSheet.rawCssText?(_(i.styleSheet.rawCssText,o,n),u[o]=!0):(!/^([a-zA-Z:]*\/\/)/.test(o)&&!f||o.replace(RegExp.$1,"").split("/")[0]===e.location.host)&&g.push({href:o,media:n}))}y()},y=function(){if(g.length){var t=g.shift();x(t.href,function(i){_(i,t.href,t.media),u[t.href]=!0,e.setTimeout(function(){y()},0)})}},_=function(e,t,i){var o=e.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),n=o&&o.length||0;t=t.substring(0,t.lastIndexOf("/"));var r=function(e){return e.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+t+"$2$3")},s=!n&&i;t.length&&(t+="/"),s&&(n=1);for(var a=0;n>a;a++){var d,u,h,p;s?(d=i,c.push(r(e))):(d=o[a].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,c.push(RegExp.$2&&r(RegExp.$2))),h=d.split(","),p=h.length;for(var f=0;p>f;f++)u=h[f],l.push({media:u.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:c.length-1,hasquery:u.indexOf("(")>-1,minw:u.match(/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:u.match(/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}w()},b=function(){var e,t=s.createElement("div"),i=s.body,o=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",i||(i=o=s.createElement("body"),i.style.background="none"),i.appendChild(t),a.insertBefore(i,a.firstChild),e=t.offsetWidth,o?a.removeChild(i):i.removeChild(t),e=r=parseFloat(e)},w=function(t){var i="clientWidth",u=a[i],f="CSS1Compat"===s.compatMode&&u||s.body[i]||u,g={},v=m[m.length-1],y=(new Date).getTime();if(t&&o&&h>y-o)return e.clearTimeout(n),n=e.setTimeout(w,h),void 0;o=y;for(var _ in l)if(l.hasOwnProperty(_)){var x=l[_],S=x.minw,C=x.maxw,k=null===S,T=null===C,I="em";S&&(S=parseFloat(S)*(S.indexOf(I)>-1?r||b():1)),C&&(C=parseFloat(C)*(C.indexOf(I)>-1?r||b():1)),x.hasquery&&(k&&T||!(k||f>=S)||!(T||C>=f))||(g[x.media]||(g[x.media]=[]),g[x.media].push(c[x.rules]))}for(var M in d)d.hasOwnProperty(M)&&d[M]&&d[M].parentNode===p&&p.removeChild(d[M]);for(var E in g)if(g.hasOwnProperty(E)){var z=s.createElement("style"),L=g[E].join("\n");z.type="text/css",z.media=E,p.insertBefore(z,v.nextSibling),z.styleSheet?z.styleSheet.cssText=L:z.appendChild(s.createTextNode(L)),d.push(z)}},x=function(e,t){var i=S();i&&(i.open("GET",e,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||t(i.responseText)},4!==i.readyState&&i.send(null))},S=function(){var t=!1;try{t=new e.XMLHttpRequest}catch(i){t=new e.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}();v(),i.update=v,e.addEventListener?e.addEventListener("resize",t,!1):e.attachEvent&&e.attachEvent("onresize",t)}}(this),t.Modernizr=function(e,t,i){function o(e){y.cssText=e}function n(e,t){return typeof e===t}function r(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var o in e){var n=e[o];if(!r(n,"-")&&y[n]!==i)return"pfx"==t?n:!0}return!1}function a(e,t,o){for(var r in e){var s=t[e[r]];if(s!==i)return o===!1?e[r]:n(s,"function")?s.bind(o||t):s}return!1}function l(e,t,i){var o=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+w.join(o+" ")+o).split(" ");return n(t,"string")||n(t,"undefined")?s(r,t):(r=(e+" "+x.join(o+" ")+o).split(" "),a(r,t,i))}var c,d,u,h="2.6.2",p={},f=!0,m=t.documentElement,g="modernizr",v=t.createElement(g),y=v.style,_=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),b="Webkit Moz O ms",w=b.split(" "),x=b.toLowerCase().split(" "),S={},C=[],k=C.slice,T=function(e,i,o,n){var r,s,a,l,c=t.createElement("div"),d=t.body,u=d||t.createElement("body");if(parseInt(o,10))for(;o--;)a=t.createElement("div"),a.id=n?n[o]:g+(o+1),c.appendChild(a);return r=["&#173;",'<style id="s',g,'">',e,"</style>"].join(""),c.id=g,(d?c:u).innerHTML+=r,u.appendChild(c),d||(u.style.background="",u.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(u)),s=i(c,e),d?c.parentNode.removeChild(c):(u.parentNode.removeChild(u),m.style.overflow=l),!!s},I={}.hasOwnProperty;u=n(I,"undefined")||n(I.call,"undefined")?function(e,t){return t in e&&n(e.constructor.prototype[t],"undefined")}:function(e,t){return I.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=k.call(arguments,1),o=function(){if(this instanceof o){var n=function(){};n.prototype=t.prototype;var r=new n,s=t.apply(r,i.concat(k.call(arguments)));return Object(s)===s?s:r}return t.apply(e,i.concat(k.call(arguments)))};return o}),S.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:T(["@media (",_.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i},S.cssanimations=function(){return l("animationName")},S.csstransforms=function(){return!!l("transform")},S.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in m.style&&T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},S.csstransitions=function(){return l("transition")};for(var M in S)u(S,M)&&(d=M.toLowerCase(),p[d]=S[M](),C.push((p[d]?"":"no-")+d));return p.addTest=function(e,t){if("object"==typeof e)for(var o in e)u(e,o)&&p.addTest(o,e[o]);else{if(e=e.toLowerCase(),p[e]!==i)return p;t="function"==typeof t?t():t,"undefined"!=typeof f&&f&&(m.className+=" "+(t?"":"no-")+e),p[e]=t}return p},o(""),v=c=null,function(e,t){function i(e,t){var i=e.createElement("p"),o=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",o.insertBefore(i.lastChild,o.firstChild)}function o(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function n(e){var t=g[e[f]];return t||(t={},m++,e[f]=m,g[m]=t),t}function r(e,i,o){if(i||(i=t),d)return i.createElement(e);o||(o=n(i));var r;return r=o.cache[e]?o.cache[e].cloneNode():p.test(e)?(o.cache[e]=o.createElem(e)).cloneNode():o.createElem(e),r.canHaveChildren&&!h.test(e)?o.frag.appendChild(r):r}function s(e,i){if(e||(e=t),d)return e.createDocumentFragment();i=i||n(e);for(var r=i.frag.cloneNode(),s=0,a=o(),l=a.length;l>s;s++)r.createElement(a[s]);return r}function a(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return v.shivMethods?r(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+o().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function l(e){e||(e=t);var o=n(e);return v.shivCSS&&!c&&!o.hasCSS&&(o.hasCSS=!!i(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),d||a(e,o),e}var c,d,u=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",m=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(i){c=!0,d=!0}}();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:u.shivCSS!==!1,supportsUnknownElements:d,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:l,createElement:r,createDocumentFragment:s};e.html5=v,l(t)}(this,t),p._version=h,p._prefixes=_,p._domPrefixes=x,p._cssomPrefixes=w,p.testProp=function(e){return s([e])},p.testAllProps=l,p.testStyles=T,m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+C.join(" "):""),p}(this,this.document),function(e,t,i){function o(e){return"[object Function]"==g.call(e)}function n(e){return"string"==typeof e}function r(){}function s(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function a(){var e=v.shift();y=1,e?e.t?f(function(){("c"==e.t?h.injectCss:h.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),a()):y=0}function l(e,i,o,n,r,l,c){function d(t){if(!p&&s(u.readyState)&&(_.r=p=1,!y&&a(),u.onload=u.onreadystatechange=null,t)){"img"!=e&&f(function(){w.removeChild(u)},50);for(var o in T[i])T[i].hasOwnProperty(o)&&T[i][o].onload()}}var c=c||h.errorTimeout,u=t.createElement(e),p=0,g=0,_={t:o,s:i,e:r,a:l,x:c};1===T[i]&&(g=1,T[i]=[]),"object"==e?u.data=i:(u.src=i,u.type=e),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){d.call(this,g)},v.splice(n,0,_),"img"!=e&&(g||2===T[i]?(w.insertBefore(u,b?null:m),f(d,c)):T[i].push(u))}function c(e,t,i,o,r){return y=0,t=t||"j",n(e)?l("c"==t?S:x,e,t,this.i++,i,o,r):(v.splice(this.i++,0,e),1==v.length&&a()),this}function d(){var e=h;return e.loader={load:c,i:0},e}var u,h,p=t.documentElement,f=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,_="MozAppearance"in p.style,b=_&&!!t.createRange().compareNode,w=b?p:m.parentNode,p=e.opera&&"[object Opera]"==g.call(e.opera),p=!!t.attachEvent&&!p,x=_?"object":p?"script":"img",S=p?"script":x,C=Array.isArray||function(e){return"[object Array]"==g.call(e)},k=[],T={},I={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};h=function(e){function t(e){var t,i,o,e=e.split("!"),n=k.length,r=e.pop(),s=e.length,r={url:r,origUrl:r,prefixes:e};for(i=0;s>i;i++)o=e[i].split("="),(t=I[o.shift()])&&(r=t(r,o));for(i=0;n>i;i++)r=k[i](r);return r}function s(e,n,r,s,a){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(n&&(n=o(n)?n:n[e]||n[s]||n[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,n,r,s,a):(T[l.url]?l.noexec=!0:T[l.url]=1,r.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(o(n)||o(c))&&r.load(function(){d(),n&&n(l.origUrl,a,s),c&&c(l.origUrl,a,s),T[l.url]=2})))}function a(e,t){function i(e,i){if(e){if(n(e))i||(u=function(){var e=[].slice.call(arguments);h.apply(this,e),p()}),s(e,u,t,0,c);else if(Object(e)===e)for(l in a=function(){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(),e)e.hasOwnProperty(l)&&(!i&&!--a&&(o(u)?u=function(){var e=[].slice.call(arguments);h.apply(this,e),p()}:u[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),p()}}(h[l])),s(e[l],u,t,l,c))}else!i&&p()}var a,l,c=!!e.test,d=e.load||e.both,u=e.callback||r,h=u,p=e.complete||r;i(c?e.yep:e.nope,!!d),d&&i(d)}var l,c,u=this.yepnope.loader;if(n(e))s(e,0,u,0);else if(C(e))for(l=0;l<e.length;l++)c=e[l],n(c)?s(c,0,u,0):C(c)?h(c):Object(c)===c&&a(c,u);else Object(e)===e&&a(e,u)},h.addPrefix=function(e,t){I[e]=t},h.addFilter=function(e){k.push(e)},h.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=d(),e.yepnope.executeStack=a,e.yepnope.injectJs=function(e,i,o,n,l,c){var d,u,p=t.createElement("script"),n=n||h.errorTimeout;p.src=e;for(u in o)p.setAttribute(u,o[u]);i=c?a:i||r,p.onreadystatechange=p.onload=function(){!d&&s(p.readyState)&&(d=1,i(),p.onload=p.onreadystatechange=null)},f(function(){d||(d=1,i(1))},n),l?p.onload():m.parentNode.insertBefore(p,m)},e.yepnope.injectCss=function(e,i,o,n,s,l){var c,n=t.createElement("link"),i=l?a:i||r;n.href=e,n.rel="stylesheet",n.type="text/css";for(c in o)n.setAttribute(c,o[c]);s||(m.parentNode.insertBefore(n,m),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(t,[].slice.call(arguments,0))},function(e){e.fn.hoverIntent=function(t,i,o){var n={interval:100,sensitivity:7,timeout:0};n="object"==typeof t?e.extend(n,t):e.isFunction(i)?e.extend(n,{over:t,out:i,selector:o}):e.extend(n,{over:t,out:t,selector:i});var r,s,a,l,c=function(e){r=e.pageX,s=e.pageY},d=function(t,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(a-r)+Math.abs(l-s)<n.sensitivity?(e(i).off("mousemove.hoverIntent",c),i.hoverIntent_s=1,n.over.apply(i,[t])):(a=r,l=s,i.hoverIntent_t=setTimeout(function(){d(t,i)},n.interval),void 0)},u=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,n.out.apply(t,[e])},h=function(t){var i=jQuery.extend({},t),o=this;o.hoverIntent_t&&(o.hoverIntent_t=clearTimeout(o.hoverIntent_t)),"mouseenter"==t.type?(a=i.pageX,l=i.pageY,e(o).on("mousemove.hoverIntent",c),1!=o.hoverIntent_s&&(o.hoverIntent_t=setTimeout(function(){d(i,o)},n.interval))):(e(o).off("mousemove.hoverIntent",c),1==o.hoverIntent_s&&(o.hoverIntent_t=setTimeout(function(){u(i,o)},n.timeout)))};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},n.selector)}}(jQuery),e.HoverDir=function(t,i){this.$el=e(i),this._init(t)},e.HoverDir.defaults={speed:300,easing:"ease",hoverDelay:0,inverse:!1},e.HoverDir.prototype={_init:function(t){this.options=e.extend(!0,{},e.HoverDir.defaults,t),this.transitionProp="all "+this.options.speed+"ms "+this.options.easing,this.support=Modernizr.csstransitions,this._loadEvents()},_loadEvents:function(){var t=this;this.$el.on("mouseenter.hoverdir, mouseleave.hoverdir",function(i){var o=e(this),n=o.find("div"),r=t._getDir(o,{x:i.pageX,y:i.pageY}),s=t._getStyle(r);"mouseenter"===i.type?(n.hide().css(s.from),clearTimeout(t.tmhover),t.tmhover=setTimeout(function(){n.show(0,function(){var i=e(this);t.support&&i.css("transition",t.transitionProp),t._applyAnimation(i,s.to,t.options.speed)})},t.options.hoverDelay)):(t.support&&n.css("transition",t.transitionProp),clearTimeout(t.tmhover),t._applyAnimation(n,s.from,t.options.speed))})},_getDir:function(e,t){var i=e.width(),o=e.height(),n=(t.x-e.offset().left-i/2)*(i>o?o/i:1),r=(t.y-e.offset().top-o/2)*(o>i?i/o:1),s=Math.round((Math.atan2(r,n)*(180/Math.PI)+180)/90+3)%4;return s},_getStyle:function(e){var t,i,o={transform:"translate3d(0,-50%, 0)"},n={transform:"translate3d(0, 50%, 0)"},r={transform:"translate3d(-20%, 0, 0)"},s={transform:"translate3d(20%, 0, 0)"},a={transform:"none"},l={transform:"none"};switch(e){case 0:t=this.options.inverse?n:o,i=a;break;case 1:t=this.options.inverse?r:s,i=l;break;case 2:t=this.options.inverse?o:n,i=a;break;case 3:t=this.options.inverse?s:r,i=l}return{from:t,to:i}},_applyAnimation:function(t,i,o){e.fn.applyStyle=this.support?e.fn.css:e.fn.animate,t.stop().applyStyle(i,e.extend(!0,[],{duration:o+"ms"}))}};var R=function(e){t.console&&t.console.error(e)};e.fn.hoverdir=function(t){var i=e.data(this,"hoverdir");if("string"==typeof t){var o=Array.prototype.slice.call(arguments,1);this.each(function(){return i?e.isFunction(i[t])&&"_"!==t.charAt(0)?(i[t].apply(i,o),void 0):(R("no such method '"+t+"' for hoverdir instance"),void 0):(R("cannot call methods on hoverdir prior to initialization; attempted to call method '"+t+"'"),void 0)})}else this.each(function(){i?i._init():i=e.data(this,"hoverdir",new e.HoverDir(t,this))});return i},jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,o,n){return jQuery.easing[jQuery.easing.def](e,t,i,o,n)},easeInQuad:function(e,t,i,o,n){return o*(t/=n)*t+i},easeOutQuad:function(e,t,i,o,n){return-o*(t/=n)*(t-2)+i},easeInOutQuad:function(e,t,i,o,n){return(t/=n/2)<1?o/2*t*t+i:-o/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,o,n){return o*(t/=n)*t*t+i},easeOutCubic:function(e,t,i,o,n){return o*((t=t/n-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,o,n){return(t/=n/2)<1?o/2*t*t*t+i:o/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,o,n){return o*(t/=n)*t*t*t+i
},easeOutQuart:function(e,t,i,o,n){return-o*((t=t/n-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,o,n){return(t/=n/2)<1?o/2*t*t*t*t+i:-o/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,o,n){return o*(t/=n)*t*t*t*t+i},easeOutQuint:function(e,t,i,o,n){return o*((t=t/n-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,o,n){return(t/=n/2)<1?o/2*t*t*t*t*t+i:o/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,o,n){return-o*Math.cos(t/n*(Math.PI/2))+o+i},easeOutSine:function(e,t,i,o,n){return o*Math.sin(t/n*(Math.PI/2))+i},easeInOutSine:function(e,t,i,o,n){return-o/2*(Math.cos(Math.PI*t/n)-1)+i},easeInExpo:function(e,t,i,o,n){return 0==t?i:o*Math.pow(2,10*(t/n-1))+i},easeOutExpo:function(e,t,i,o,n){return t==n?i+o:o*(-Math.pow(2,-10*t/n)+1)+i},easeInOutExpo:function(e,t,i,o,n){return 0==t?i:t==n?i+o:(t/=n/2)<1?o/2*Math.pow(2,10*(t-1))+i:o/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,o,n){return-o*(Math.sqrt(1-(t/=n)*t)-1)+i},easeOutCirc:function(e,t,i,o,n){return o*Math.sqrt(1-(t=t/n-1)*t)+i},easeInOutCirc:function(e,t,i,o,n){return(t/=n/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+i:o/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,o,n){var r=1.70158,s=0,a=o;if(0==t)return i;if(1==(t/=n))return i+o;if(s||(s=.3*n),a<Math.abs(o)){a=o;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(o/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*2*Math.PI/s))+i},easeOutElastic:function(e,t,i,o,n){var r=1.70158,s=0,a=o;if(0==t)return i;if(1==(t/=n))return i+o;if(s||(s=.3*n),a<Math.abs(o)){a=o;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(o/a);return a*Math.pow(2,-10*t)*Math.sin((t*n-r)*2*Math.PI/s)+o+i},easeInOutElastic:function(e,t,i,o,n){var r=1.70158,s=0,a=o;if(0==t)return i;if(2==(t/=n/2))return i+o;if(s||(s=n*.3*1.5),a<Math.abs(o)){a=o;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(o/a);return 1>t?-.5*a*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*2*Math.PI/s)+i:.5*a*Math.pow(2,-10*(t-=1))*Math.sin((t*n-r)*2*Math.PI/s)+o+i},easeInBack:function(e,t,o,n,r,s){return s==i&&(s=1.70158),n*(t/=r)*t*((s+1)*t-s)+o},easeOutBack:function(e,t,o,n,r,s){return s==i&&(s=1.70158),n*((t=t/r-1)*t*((s+1)*t+s)+1)+o},easeInOutBack:function(e,t,o,n,r,s){return s==i&&(s=1.70158),(t/=r/2)<1?n/2*t*t*(((s*=1.525)+1)*t-s)+o:n/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+o},easeInBounce:function(e,t,i,o,n){return o-jQuery.easing.easeOutBounce(e,n-t,0,o,n)+i},easeOutBounce:function(e,t,i,o,n){return(t/=n)<1/2.75?o*7.5625*t*t+i:2/2.75>t?o*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?o*(7.5625*(t-=2.25/2.75)*t+.9375)+i:o*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,o,n){return n/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,o,n)+i:.5*jQuery.easing.easeOutBounce(e,2*t-n,0,o,n)+.5*o+i}}),function(e){function i(){var e=document.getElementsByTagName("script"),t=e[e.length-1].src.split("?")[0];return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}function o(e,t,i){for(var o=0;o<t.length;o++)i(e,t[o])}var n=!1,r=!1,s=5e3,a=2e3,l=0,c=e,d=i(),u=["ms","moz","webkit","o"],h=t.requestAnimationFrame||!1,p=t.cancelAnimationFrame||!1;if(!h)for(var f in u){var m=u[f];h||(h=t[m+"RequestAnimationFrame"]),p||(p=t[m+"CancelAnimationFrame"]||t[m+"CancelRequestAnimationFrame"])}var g=t.MutationObserver||t.WebKitMutationObserver||!1,v={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1,oneaxismousemode:"auto"},y=!1,_=function(){function e(){var e=["-moz-grab","-webkit-grab","grab"];(o.ischrome&&!o.ischrome22||o.isie)&&(e=[]);for(var t=0;t<e.length;t++){var n=e[t];if(i.style.cursor=n,i.style.cursor==n)return n}return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}if(y)return y;var i=document.createElement("DIV"),o={};o.haspointerlock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,o.isopera="opera"in t,o.isopera12=o.isopera&&"getUserMedia"in navigator,o.isoperamini="[object OperaMini]"===Object.prototype.toString.call(t.operamini),o.isie="all"in document&&"attachEvent"in i&&!o.isopera,o.isieold=o.isie&&!("msInterpolationMode"in i.style),o.isie7=!(!o.isie||o.isieold||"documentMode"in document&&7!=document.documentMode),o.isie8=o.isie&&"documentMode"in document&&8==document.documentMode,o.isie9=o.isie&&"performance"in t&&document.documentMode>=9,o.isie10=o.isie&&"performance"in t&&document.documentMode>=10,o.isie9mobile=/iemobile.9/i.test(navigator.userAgent),o.isie9mobile&&(o.isie9=!1),o.isie7mobile=!o.isie9mobile&&o.isie7&&/iemobile/i.test(navigator.userAgent),o.ismozilla="MozAppearance"in i.style,o.iswebkit="WebkitAppearance"in i.style,o.ischrome="chrome"in t,o.ischrome22=o.ischrome&&o.haspointerlock,o.ischrome26=o.ischrome&&"transition"in i.style,o.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in t,o.hasmstouch=t.navigator.msPointerEnabled||!1,o.ismac=/^mac$/i.test(navigator.platform),o.isios=o.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),o.isios4=o.isios&&!("seal"in Object),o.isandroid=/android/i.test(navigator.userAgent),o.trstyle=!1,o.hastransform=!1,o.hastranslate3d=!1,o.transitionstyle=!1,o.hastransition=!1,o.transitionend=!1;for(var n=["transform","msTransform","webkitTransform","MozTransform","OTransform"],r=0;r<n.length;r++)if("undefined"!=typeof i.style[n[r]]){o.trstyle=n[r];break}o.hastransform=0!=o.trstyle,o.hastransform&&(i.style[o.trstyle]="translate3d(1px,2px,3px)",o.hastranslate3d=/translate3d/.test(i.style[o.trstyle])),o.transitionstyle=!1,o.prefixstyle="",o.transitionend=!1;for(var n=["transition","webkitTransition","MozTransition","OTransition","OTransition","msTransition","KhtmlTransition"],s=["","-webkit-","-moz-","-o-","-o","-ms-","-khtml-"],a=["transitionend","webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd","msTransitionEnd","KhtmlTransitionEnd"],r=0;r<n.length;r++)if(n[r]in i.style){o.transitionstyle=n[r],o.prefixstyle=s[r],o.transitionend=a[r];break}return o.ischrome26&&(o.prefixstyle=s[1]),o.hastransition=o.transitionstyle,o.cursorgrabvalue=e(),o.hasmousecapture="setCapture"in i,o.hasMutationObserver=g!==!1,i=null,y=o,o},b=function(e,i){function o(){var e=b.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function u(e,t,i){var o=e.css(t),n=parseFloat(o);if(isNaN(n)){n=k[o]||0;var r=3==n?i?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1;return b.isie8&&n&&(n+=1),r?n:0}return n}function f(e,i,o,n){b._bind(e,i,function(n){var n=n?n:t.event,r={original:n,target:n.target||n.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return n.preventDefault?n.preventDefault():n.returnValue=!1,!1},stopImmediatePropagation:function(){n.stopImmediatePropagation?n.stopImmediatePropagation():n.cancelBubble=!0}};return"mousewheel"==i?(r.deltaY=-1/40*n.wheelDelta,n.wheelDeltaX&&(r.deltaX=-1/40*n.wheelDeltaX)):r.deltaY=n.detail,o.call(e,r)},n)}function m(e,t,i){var o,n;if(0==e.deltaMode?(o=-Math.floor(e.deltaX*(b.opt.mousescrollstep/54)),n=-Math.floor(e.deltaY*(b.opt.mousescrollstep/54))):1==e.deltaMode&&(o=-Math.floor(e.deltaX*b.opt.mousescrollstep),n=-Math.floor(e.deltaY*b.opt.mousescrollstep)),t&&b.opt.oneaxismousemode&&0==o&&n&&(o=n,n=0),o&&(b.scrollmom&&b.scrollmom.stop(),b.lastdeltax+=o,b.debounced("mousewheelx",function(){var e=b.lastdeltax;b.lastdeltax=0,b.rail.drag||b.doScrollLeftBy(e)},120)),n){if(b.opt.nativeparentscrolling&&i&&!b.ispage&&!b.zoomactive)if(0>n){if(b.getScrollTop()>=b.page.maxh)return!0}else if(b.getScrollTop()<=0)return!0;b.scrollmom&&b.scrollmom.stop(),b.lastdeltay+=n,b.debounced("mousewheely",function(){var e=b.lastdeltay;b.lastdeltay=0,b.rail.drag||b.doScrollBy(e)},120)}return e.stopImmediatePropagation(),e.preventDefault()}function y(){var e=b.doc.css(S.trstyle);return e&&"matrix"==e.substr(0,6)?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}var b=this;if(this.version="3.5.1 BETA1",this.name="nicescroll",this.me=i,this.opt={doc:c("body"),win:!1},c.extend(this.opt,v),this.opt.snapbackspeed=80,e)for(var x in b.opt)"undefined"!=typeof e[x]&&(b.opt[x]=e[x]);this.doc=b.opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/BODY|HTML/.test(b.opt.win?b.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=b.opt.win!==!1,this.win=b.opt.win||(this.ispage?c(t):this.doc),this.docscroll=this.ispage&&!this.haswrapper?c(t):this.win,this.body=c("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=b.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.checkrtlmode=!1,this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1;do this.id="ascrail"+a++;while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.overflowx=b.opt.overflowx,this.overflowy=b.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=_();var S=c.extend({},this.detected);this.canhwscroll=S.hastransform&&b.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&b.haswrapper,this.istouchcapable=!1,S.cantouch&&S.ischrome&&!S.isios&&!S.isandroid&&(this.istouchcapable=!0,S.cantouch=!1),S.cantouch&&S.ismozilla&&!S.isios&&!S.isandroid&&(this.istouchcapable=!0,S.cantouch=!1),b.opt.enablemouselockapi||(S.hasmousecapture=!1,S.haspointerlock=!1),this.delayed=function(e,t,i,o){var n=b.delaylist[e],r=(new Date).getTime();return!o&&n&&n.tt?!1:(n&&n.tt&&clearTimeout(n.tt),n&&n.last+i>r&&!n.tt?b.delaylist[e]={last:r+i,tt:setTimeout(function(){b.delaylist[e].tt=0,t.call()},i)}:n&&n.tt||(b.delaylist[e]={last:r,tt:0},setTimeout(function(){t.call()},0)),void 0)},this.debounced=function(e,t,i){var o=b.delaylist[e];(new Date).getTime(),b.delaylist[e]=t,o||setTimeout(function(){var t=b.delaylist[e];b.delaylist[e]=!1,t.call()},i)};var C=!1;this.synched=function(e,t){function i(){C||(h(function(){C=!1;for(e in b.synclist){var t=b.synclist[e];t&&t.call(b),b.synclist[e]=!1}}),C=!0)}return b.synclist[e]=t,i(),e},this.unsynched=function(e){b.synclist[e]&&(b.synclist[e]=!1)},this.css=function(e,t){for(var i in t)b.saved.css.push([e,i,e.css(i)]),e.css(i,t[i])},this.scrollTop=function(e){return"undefined"==typeof e?b.getScrollTop():b.setScrollTop(e)},this.scrollLeft=function(e){return"undefined"==typeof e?b.getScrollLeft():b.setScrollLeft(e)},BezierClass=function(e,t,i,o,n,r,s){this.st=e,this.ed=t,this.spd=i,this.p1=o||0,this.p2=n||1,this.p3=r||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=(new Date).getTime(),t=1-(e-this.ts)/this.spd,i=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*i)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},S.hastranslate3d&&S.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=y();if(t)return 16==t.length?-t[13]:-t[5];if(b.timerscroll&&b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=y();if(t)return 16==t.length?-t[12]:-t[4];if(b.timerscroll&&b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(e){var i=document.createEvent("UIEvents");i.initUIEvent("scroll",!1,!0,t,1),e.dispatchEvent(i)}:document.fireEvent?function(e){var t=document.createEventObject();e.fireEvent("onscroll"),t.cancelBubble=!0}:function(){},S.hastranslate3d&&b.opt.enabletranslate3d?(this.setScrollTop=function(e,t){b.doc.translate.y=e,b.doc.translate.ty=-1*e+"px",b.doc.css(S.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)"),t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e,b.doc.translate.tx=-1*e+"px",b.doc.css(S.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)"),t||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(e,t){b.doc.translate.y=e,b.doc.translate.ty=-1*e+"px",b.doc.css(S.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e,b.doc.translate.tx=-1*e+"px",b.doc.css(S.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),t||b.notifyScrollEvent(b.win[0])})):(this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(e){return b.docscroll.scrollTop(e)},this.getScrollLeft=function(){return b.docscroll.scrollLeft()},this.setScrollLeft=function(e){return b.docscroll.scrollLeft(e)}),this.getTarget=function(e){return e?e.target?e.target:e.srcElement?e.srcElement:!1:!1},this.hasParent=function(e,t){if(!e)return!1;for(var i=e.target||e.srcElement||e||!1;i&&i.id!=t;)i=i.parentNode||!1;return i!==!1};var k={thin:1,medium:3,thick:5};this.getOffset=function(){if(b.isfixed)return{top:parseFloat(b.win.css("top")),left:parseFloat(b.win.css("left"))};if(!b.viewport)return b.win.offset();var e=b.win.offset(),t=b.viewport.offset();return{top:e.top-t.top+b.viewport.scrollTop(),left:e.left-t.left+b.viewport.scrollLeft()}},this.updateScrollBar=function(e){if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()}),b.railh&&b.railh.css({width:b.win.innerWidth()});else{var t=b.getOffset(),i={top:t.top,left:t.left};i.top+=u(b.win,"border-top-width",!0),(b.win.outerWidth()-b.win.innerWidth())/2,i.left+=b.rail.align?b.win.outerWidth()-u(b.win,"border-right-width")-b.rail.width:u(b.win,"border-left-width");var o=b.opt.railoffset;if(o&&(o.top&&(i.top+=o.top),b.rail.align&&o.left&&(i.left+=o.left)),b.locked||b.rail.css({top:i.top,left:i.left,height:e?e.h:b.win.innerHeight()}),b.zoom&&b.zoom.css({top:i.top+1,left:1==b.rail.align?i.left-20:i.left+b.rail.width+4}),b.railh&&!b.locked){var i={top:t.top,left:t.left},n=b.railh.align?i.top+u(b.win,"border-top-width",!0)+b.win.innerHeight()-b.railh.height:i.top+u(b.win,"border-top-width",!0),r=i.left+u(b.win,"border-left-width");b.railh.css({top:n,left:r,width:b.railh.width})}}},this.doRailClick=function(e,t,i){var o,n,r,s;b.locked||(b.cancelEvent(e),t?(o=i?b.doScrollLeft:b.doScrollTop,r=i?(e.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(e.pageY-b.rail.offset().top-b.cursorheight/2)*b.scrollratio.y,o(r)):(o=i?b.doScrollLeftBy:b.doScrollBy,r=i?b.scroll.x:b.scroll.y,s=i?e.pageX-b.railh.offset().left:e.pageY-b.rail.offset().top,n=i?b.view.w:b.view.h,r>=s?o(n):o(-n)))},b.hasanimationframe=h,b.hascancelanimationframe=p,b.hasanimationframe?b.hascancelanimationframe||(p=function(){b.cancelAnimationFrame=!0}):(h=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},p=clearInterval),this.init=function(){function e(t){if(b.selectiondrag){if(t){var i=b.win.outerHeight(),o=t.pageY-b.selectiondrag.top;o>0&&i>o&&(o=0),o>=i&&(o-=i),b.selectiondrag.df=o}if(0!=b.selectiondrag.df){var n=2*-Math.floor(b.selectiondrag.df/6);b.doScrollBy(n),b.debounced("doselectionscroll",function(){e()},50)}}}function i(){b.iframexd=!1;try{var e="contentDocument"in this?this.contentDocument:this.contentWindow.document;e.domain}catch(i){b.iframexd=!0,e=!1}if(b.iframexd)return"console"in t&&console.log("NiceScroll error: policy restriced iframe"),!0;if(b.forcescreen=!0,b.isiframe&&(b.iframe={doc:c(e),html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=c(b.iframe.body)),!S.isios&&b.opt.iframeautoresize&&!b.isiframe){b.win.scrollTop(0),b.doc.height("");var o=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);b.doc.height(o)}b.lazyResize(30),S.isie7&&b.css(c(b.iframe.html),{"overflow-y":"hidden"}),b.css(c(b.iframe.body),{"overflow-y":"hidden"}),S.isios&&b.haswrapper&&b.css(c(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(e,"scroll",b.onscroll),b.opt.enablemousewheel&&b.bind(e,"mousewheel",b.onmousewheel),b.opt.enablekeyboard&&b.bind(e,S.isopera?"keypress":"keydown",b.onkeypress),(S.cantouch||b.opt.touchbehavior)&&(b.bind(e,"mousedown",b.ontouchstart),b.bind(e,"mousemove",function(e){b.ontouchmove(e,!0)}),b.opt.grabcursorenabled&&S.cursorgrabvalue&&b.css(c(e.body),{cursor:S.cursorgrabvalue})),b.bind(e,"mouseup",b.ontouchend),b.zoom&&(b.opt.dblclickzoom&&b.bind(e,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(e,"gestureend",b.ongesturezoom))}if(b.saved.css=[],S.isie7mobile)return!0;if(S.isoperamini)return!0;if(S.hasmstouch&&b.css(b.ispage?c("html"):b.win,{"-ms-touch-action":"none"}),b.zindex="auto",b.zindex=b.ispage||"auto"!=b.opt.zindex?b.opt.zindex:o()||"auto",b.ispage||"auto"==b.zindex||b.zindex>l&&(l=b.zindex),b.isie&&0==b.zindex&&"auto"==b.opt.zindex&&(b.zindex="auto"),!b.ispage||!S.cantouch&&!S.isieold&&!S.isie9mobile){var a=b.docscroll;b.ispage&&(a=b.haswrapper?b.win:b.doc),S.isie9mobile||b.css(a,{"overflow-y":"hidden"}),b.ispage&&S.isie7&&("BODY"==b.doc[0].nodeName?b.css(c("html"),{"overflow-y":"hidden"}):"HTML"==b.doc[0].nodeName&&b.css(c("body"),{"overflow-y":"hidden"})),!S.isios||b.ispage||b.haswrapper||b.css(c("body"),{"-webkit-overflow-scrolling":"touch"});var u=c(document.createElement("div"));u.css({position:"relative",top:0,"float":"right",width:b.opt.cursorwidth,height:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius}),u.hborder=parseFloat(u.outerHeight()-u.innerHeight()),b.cursor=u;var h=c(document.createElement("div"));h.attr("id",b.id),h.addClass("nicescroll-rails");var p,f,m=["left","right"];for(var v in m)f=m[v],p=b.opt.railpadding[f],p?h.css("padding-"+f,p+"px"):b.opt.railpadding[f]=0;h.append(u),h.width=Math.max(parseFloat(b.opt.cursorwidth),u.outerWidth())+b.opt.railpadding.left+b.opt.railpadding.right,h.css({width:h.width+"px",zIndex:b.zindex,background:b.opt.background,cursor:"default"}),h.visibility=!0,h.scrollable=!0,h.align="left"==b.opt.railalign?0:1,b.rail=h,b.rail.drag=!1;var y=!1;if(!b.opt.boxzoom||b.ispage||S.isieold||(y=document.createElement("div"),b.bind(y,"click",b.doZoom),b.zoom=c(y),b.zoom.css({cursor:"pointer","z-index":b.zindex,backgroundImage:"url("+d+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),b.opt.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),S.cantouch&&b.opt.gesturezoom&&(b.ongesturezoom=function(e){return e.scale>1.5&&b.doZoomIn(e),e.scale<.8&&b.doZoomOut(e),b.cancelEvent(e)},b.bind(b.win,"gestureend",b.ongesturezoom))),b.railh=!1,b.opt.horizrailenabled){b.css(a,{"overflow-x":"hidden"});var u=c(document.createElement("div"));u.css({position:"relative",top:0,height:b.opt.cursorwidth,width:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius}),u.wborder=parseFloat(u.outerWidth()-u.innerWidth()),b.cursorh=u;var _=c(document.createElement("div"));_.attr("id",b.id+"-hr"),_.addClass("nicescroll-rails"),_.height=Math.max(parseFloat(b.opt.cursorwidth),u.outerHeight()),_.css({height:_.height+"px",zIndex:b.zindex,background:b.opt.background}),_.append(u),_.visibility=!0,_.scrollable=!0,_.align="top"==b.opt.railvalign?0:1,b.railh=_,b.railh.drag=!1}if(b.ispage)h.css({position:"fixed",top:"0px",height:"100%"}),h.align?h.css({right:"0px"}):h.css({left:"0px"}),b.body.append(h),b.railh&&(_.css({position:"fixed",left:"0px",width:"100%"}),_.align?_.css({bottom:"0px"}):_.css({top:"0px"}),b.body.append(_));else{if(b.ishwscroll){"static"==b.win.css("position")&&b.css(b.win,{position:"relative"});var x="HTML"==b.win[0].nodeName?b.body:b.win;b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":h.width+4}),x.append(b.zoom)),h.css({position:"absolute",top:0}),h.align?h.css({right:0}):h.css({left:0}),x.append(h),_&&(_.css({position:"absolute",left:0,bottom:0}),_.align?_.css({bottom:0}):_.css({top:0}),x.append(_))}else{b.isfixed="fixed"==b.win.css("position");var C=b.isfixed?"fixed":"absolute";b.isfixed||(b.viewport=b.getViewport(b.win[0])),b.viewport&&(b.body=b.viewport,0==/fixed|relative|absolute/.test(b.viewport.css("position"))&&b.css(b.viewport,{position:"relative"})),h.css({position:C}),b.zoom&&b.zoom.css({position:C}),b.updateScrollBar(),b.body.append(h),b.zoom&&b.body.append(b.zoom),b.railh&&(_.css({position:C}),b.body.append(_))}S.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),S.isie&&b.opt.disableoutline&&b.win.attr("hideFocus","true"),S.iswebkit&&b.opt.disableoutline&&b.win.css({outline:"none"})}if(b.opt.autohidemode===!1?(b.autohidedom=!1,b.rail.css({opacity:b.opt.cursoropacitymax}),b.railh&&b.railh.css({opacity:b.opt.cursoropacitymax})):b.opt.autohidemode===!0||"leave"===b.opt.autohidemode?(b.autohidedom=c().add(b.rail),S.isie8&&(b.autohidedom=b.autohidedom.add(b.cursor)),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh)),b.railh&&S.isie8&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"scroll"==b.opt.autohidemode?(b.autohidedom=c().add(b.rail),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh))):"cursor"==b.opt.autohidemode?(b.autohidedom=c().add(b.cursor),b.railh&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"hidden"==b.opt.autohidemode&&(b.autohidedom=!1,b.hide(),b.locked=!1),S.isie9mobile){b.scrollmom=new w(b),b.onmangotouch=function(){var e=b.getScrollTop(),t=b.getScrollLeft();if(e==b.scrollmom.lastscrolly&&t==b.scrollmom.lastscrollx)return!0;var i=e-b.mangotouch.sy,o=t-b.mangotouch.sx,n=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2)));if(0!=n){var r=0>i?-1:1,s=0>o?-1:1,a=+new Date;if(b.mangotouch.lazy&&clearTimeout(b.mangotouch.lazy),a-b.mangotouch.tm>80||b.mangotouch.dry!=r||b.mangotouch.drx!=s)b.scrollmom.stop(),b.scrollmom.reset(t,e),b.mangotouch.sy=e,b.mangotouch.ly=e,b.mangotouch.sx=t,b.mangotouch.lx=t,b.mangotouch.dry=r,b.mangotouch.drx=s,b.mangotouch.tm=a;else{b.scrollmom.stop(),b.scrollmom.update(b.mangotouch.sx-o,b.mangotouch.sy-i),a-b.mangotouch.tm,b.mangotouch.tm=a;var l=Math.max(Math.abs(b.mangotouch.ly-e),Math.abs(b.mangotouch.lx-t));b.mangotouch.ly=e,b.mangotouch.lx=t,l>2&&(b.mangotouch.lazy=setTimeout(function(){b.mangotouch.lazy=!1,b.mangotouch.dry=0,b.mangotouch.drx=0,b.mangotouch.tm=0,b.scrollmom.doMomentum(30)},100))}}};var k=b.getScrollTop(),T=b.getScrollLeft();b.mangotouch={sy:k,ly:k,dry:0,sx:T,lx:T,drx:0,lazy:!1,tm:0},b.bind(b.docscroll,"scroll",b.onmangotouch)}else{if(S.cantouch||b.istouchcapable||b.opt.touchbehavior||S.hasmstouch){b.scrollmom=new w(b),b.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(b.hasmoving=!1,!b.locked){if(S.hasmstouch)for(var i=e.target?e.target:!1;i;){var o=c(i).getNiceScroll();if(o.length>0&&o[0].me==b.me)break;if(o.length>0)return!1;if("DIV"==i.nodeName&&i.id==b.id)break;i=i.parentNode?i.parentNode:!1}b.cancelScroll();var i=b.getTarget(e);if(i){var n=/INPUT/i.test(i.nodeName)&&/range/i.test(i.type);if(n)return b.stopPropagation(e)}if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),b.forcescreen){var r=e,e={original:e.original?e.original:e};e.clientX=r.screenX,e.clientY=r.screenY}if(b.rail.drag={x:e.clientX,y:e.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2,dl:!1},b.ispage||!b.opt.directionlockdeadzone)b.rail.drag.dl="f";else{var s={w:c(t).width(),h:c(t).height()},a={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},l=Math.max(0,a.h-s.h),d=Math.max(0,a.w-s.w);b.rail.drag.ck=!b.rail.scrollable&&b.railh.scrollable?l>0?"v":!1:b.rail.scrollable&&!b.railh.scrollable?d>0?"h":!1:!1,b.rail.drag.ck||(b.rail.drag.dl="f")}if(b.opt.touchbehavior&&b.isiframe&&S.isie){var u=b.win.position();b.rail.drag.x+=u.left,b.rail.drag.y+=u.top}if(b.hasmoving=!1,b.lastmouseup=!1,b.scrollmom.reset(e.clientX,e.clientY),!S.cantouch&&!this.istouchcapable&&!S.hasmstouch){var h=i?/INPUT|SELECT|TEXTAREA/i.test(i.nodeName):!1;if(!h)return!b.ispage&&S.hasmousecapture&&i.setCapture(),b.opt.touchbehavior?(i.onclick&&!i._onclick&&(i._onclick=i.onclick,i.onclick=function(e){return b.hasmoving?!1:(i._onclick.call(this,e),void 0)}),b.cancelEvent(e)):b.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(c(i).attr("type"))&&(pc={tg:i,click:!1},b.preventclick=pc)}}},b.ontouchend=function(e){return e.pointerType&&2!=e.pointerType?!1:b.rail.drag&&2==b.rail.drag.pt&&(b.scrollmom.doMomentum(),b.rail.drag=!1,b.hasmoving&&(b.lastmouseup=!0,b.hideCursor(),S.hasmousecapture&&document.releaseCapture(),!S.cantouch))?b.cancelEvent(e):void 0};var I=b.opt.touchbehavior&&b.isiframe&&!S.hasmousecapture;b.ontouchmove=function(e,t){if(e.pointerType&&2!=e.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt){if(S.cantouch&&"undefined"==typeof e.original)return!0;b.hasmoving=!0,b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick);var i=c.extend({original:e},e);if(e=i,"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),b.forcescreen){var o=e,e={original:e.original?e.original:e};e.clientX=o.screenX,e.clientY=o.screenY}var n=ofy=0;if(I&&!t){var r=b.win.position();n=-r.left,ofy=-r.top}var s=e.clientY+ofy,a=s-b.rail.drag.y,l=e.clientX+n,d=l-b.rail.drag.x,u=b.rail.drag.st-a;if(b.ishwscroll&&b.opt.bouncescroll?0>u?u=Math.round(u/2):u>b.page.maxh&&(u=b.page.maxh+Math.round((u-b.page.maxh)/2)):(0>u&&(u=0,s=0),u>b.page.maxh&&(u=b.page.maxh,s=0)),b.railh&&b.railh.scrollable){var h=b.rail.drag.sl-d;b.ishwscroll&&b.opt.bouncescroll?0>h?h=Math.round(h/2):h>b.page.maxw&&(h=b.page.maxw+Math.round((h-b.page.maxw)/2)):(0>h&&(h=0,l=0),h>b.page.maxw&&(h=b.page.maxw,l=0))}var p=!1;if(b.rail.drag.dl)p=!0,"v"==b.rail.drag.dl?h=b.rail.drag.sl:"h"==b.rail.drag.dl&&(u=b.rail.drag.st);else{var f=Math.abs(a),m=Math.abs(d),g=b.opt.directionlockdeadzone;if("v"==b.rail.drag.ck){if(f>g&&.3*f>=m)return b.rail.drag=!1,!0;m>g&&(b.rail.drag.dl="f",c("body").scrollTop(c("body").scrollTop()))}else if("h"==b.rail.drag.ck){if(m>g&&.3*m>=f)return b.rail.drag=!1,!0;f>g&&(b.rail.drag.dl="f",c("body").scrollLeft(c("body").scrollLeft()))}}if(b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.prepareTransition(0),b.rail.scrollable&&b.setScrollTop(u),b.scrollmom.update(l,s),b.railh&&b.railh.scrollable?(b.setScrollLeft(h),b.showCursor(u,h)):b.showCursor(u),S.isie10&&document.selection.clear())}),S.ischrome&&b.istouchcapable&&(p=!1),p)return b.cancelEvent(e)}}}b.onmousedown=function(e,t){if(!b.rail.drag||1==b.rail.drag.pt){if(b.locked)return b.cancelEvent(e);b.cancelScroll(),b.rail.drag={x:e.clientX,y:e.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:!!t};var i=b.getTarget(e);return!b.ispage&&S.hasmousecapture&&i.setCapture(),b.isiframe&&!S.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"})),b.hasmoving=!1,b.cancelEvent(e)}},b.onmouseup=function(e){if(b.rail.drag){if(S.hasmousecapture&&document.releaseCapture(),b.isiframe&&!S.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),1!=b.rail.drag.pt)return;return b.rail.drag=!1,b.hasmoving&&b.triggerScrollEnd(),b.cancelEvent(e)}},b.onmousemove=function(e){if(b.rail.drag){if(1!=b.rail.drag.pt)return;if(S.ischrome&&0==e.which)return b.onmouseup(e);if(b.cursorfreezed=!0,b.hasmoving=!0,b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(e.clientX-b.rail.drag.x),b.scroll.x<0&&(b.scroll.x=0);var t=b.scrollvaluemaxw;b.scroll.x>t&&(b.scroll.x=t)}else{b.scroll.y=b.rail.drag.sy+(e.clientY-b.rail.drag.y),b.scroll.y<0&&(b.scroll.y=0);var i=b.scrollvaluemax;b.scroll.y>i&&(b.scroll.y=i)}return b.synched("mousemove",function(){b.rail.drag&&1==b.rail.drag.pt&&(b.showCursor(),b.rail.drag.hr?b.doScrollLeft(Math.round(b.scroll.x*b.scrollratio.x),b.opt.cursordragspeed):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y),b.opt.cursordragspeed))}),b.cancelEvent(e)}},S.cantouch||b.opt.touchbehavior?(b.onpreventclick=function(e){return b.preventclick?(b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=!1,b.cancelEvent(e)):void 0},b.bind(b.win,"mousedown",b.ontouchstart),b.onclick=S.isios?!1:function(e){return b.lastmouseup?(b.lastmouseup=!1,b.cancelEvent(e)):!0},b.opt.grabcursorenabled&&S.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:S.cursorgrabvalue}),b.css(b.rail,{cursor:S.cursorgrabvalue}))):(b.hasTextSelected="getSelection"in document?function(){return document.getSelection().rangeCount>0}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},b.onselectionstart=function(){b.ispage||(b.selectiondrag=b.win.offset())},b.onselectionend=function(){b.selectiondrag=!1},b.onselectiondrag=function(t){b.selectiondrag&&b.hasTextSelected()&&b.debounced("selectionscroll",function(){e(t)},250)}),S.hasmstouch&&(b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(document,"MSPointerUp",b.ontouchend),b.bind(document,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(e){e.preventDefault()}),b.bind(b.cursor,"contextmenu",function(e){e.preventDefault()})),this.istouchcapable&&(b.bind(b.win,"touchstart",b.ontouchstart),b.bind(document,"touchend",b.ontouchend),b.bind(document,"touchcancel",b.ontouchend),b.bind(document,"touchmove",b.ontouchmove)),b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mouseup",b.onmouseup),b.railh&&(b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.bind(b.cursorh,"mouseup",b.onmouseup)),(b.opt.cursordragontouch||!S.cantouch&&!b.opt.touchbehavior)&&(b.rail.css({cursor:"default"}),b.railh&&b.railh.css({cursor:"default"}),b.jqbind(b.rail,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.rail,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()
}),b.opt.sensitiverail&&(b.bind(b.rail,"click",function(e){b.doRailClick(e,!1,!1)}),b.bind(b.rail,"dblclick",function(e){b.doRailClick(e,!0,!1)}),b.bind(b.cursor,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursor,"dblclick",function(e){b.cancelEvent(e)})),b.railh&&(b.jqbind(b.railh,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.railh,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.railh,"click",function(e){b.doRailClick(e,!1,!0)}),b.bind(b.railh,"dblclick",function(e){b.doRailClick(e,!0,!0)}),b.bind(b.cursorh,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursorh,"dblclick",function(e){b.cancelEvent(e)})))),S.cantouch||b.opt.touchbehavior?(b.bind(S.hasmousecapture?b.win:document,"mouseup",b.ontouchend),b.bind(document,"mousemove",b.ontouchmove),b.onclick&&b.bind(document,"click",b.onclick),b.opt.cursordragontouch&&(b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mousemove",b.onmousemove),b.cursorh&&b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.cursorh&&b.bind(b.cursorh,"mousemove",b.onmousemove))):(b.bind(S.hasmousecapture?b.win:document,"mouseup",b.onmouseup),b.bind(document,"mousemove",b.onmousemove),b.onclick&&b.bind(document,"click",b.onclick),!b.ispage&&b.opt.enablescrollonselection&&(b.bind(b.win[0],"mousedown",b.onselectionstart),b.bind(document,"mouseup",b.onselectionend),b.bind(b.cursor,"mouseup",b.onselectionend),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onselectionend),b.bind(document,"mousemove",b.onselectiondrag)),b.zoom&&(b.jqbind(b.zoom,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.zoom,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}))),b.opt.enablemousewheel&&(b.isiframe||b.bind(S.isie&&b.ispage?document:b.win,"mousewheel",b.onmousewheel),b.bind(b.rail,"mousewheel",b.onmousewheel),b.railh&&b.bind(b.railh,"mousewheel",b.onmousewheelhr)),b.ispage||S.cantouch||/HTML|BODY/.test(b.win[0].nodeName)||(b.win.attr("tabindex")||b.win.attr({tabindex:s++}),b.jqbind(b.win,"focus",function(e){n=b.getTarget(e).id||!0,b.hasfocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"blur",function(){n=!1,b.hasfocus=!1}),b.jqbind(b.win,"mouseenter",function(e){r=b.getTarget(e).id||!0,b.hasmousefocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"mouseleave",function(){r=!1,b.hasmousefocus=!1,b.rail.drag||b.hideCursor()}))}if(b.onkeypress=function(e){if(b.locked&&0==b.page.maxh)return!0;e=e?e:t.e;var i=b.getTarget(e);if(i&&/INPUT|TEXTAREA|SELECT|OPTION/.test(i.nodeName)){var o=i.getAttribute("type")||i.type||!1;if(!o||!/submit|button|cancel/i.tp)return!0}if(b.hasfocus||b.hasmousefocus&&!n||b.ispage&&!n&&!r){var s=e.keyCode;if(b.locked&&27!=s)return b.cancelEvent(e);var a=e.ctrlKey||!1,l=e.shiftKey||!1,c=!1;switch(s){case 38:case 63233:b.doScrollBy(72),c=!0;break;case 40:case 63235:b.doScrollBy(-72),c=!0;break;case 37:case 63232:b.railh&&(a?b.doScrollLeft(0):b.doScrollLeftBy(72),c=!0);break;case 39:case 63234:b.railh&&(a?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:b.doScrollBy(b.view.h),c=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h),c=!0;break;case 36:case 63273:b.railh&&a?b.doScrollPos(0,0):b.doScrollTo(0),c=!0;break;case 35:case 63275:b.railh&&a?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh),c=!0;break;case 32:b.opt.spacebarenabled&&(l?b.doScrollBy(b.view.h):b.doScrollBy(-b.view.h),c=!0);break;case 27:b.zoomactive&&(b.doZoom(),c=!0)}if(c)return b.cancelEvent(e)}},b.opt.enablekeyboard&&b.bind(document,S.isopera&&!S.isopera12?"keypress":"keydown",b.onkeypress),b.bind(t,"resize",b.lazyResize),b.bind(t,"orientationchange",b.lazyResize),b.bind(t,"load",b.lazyResize),S.ischrome&&!b.ispage&&!b.haswrapper){var M=b.win.attr("style"),E=parseFloat(b.win.css("width"))+1;b.win.css("width",E),b.synched("chromefix",function(){b.win.attr("style",M)})}b.onAttributeChange=function(){b.lazyResize(250)},b.ispage||b.haswrapper||(g!==!1?(b.observer=new g(function(e){e.forEach(b.onAttributeChange)}),b.observer.observe(b.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),b.observerremover=new g(function(e){e.forEach(function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(e.removedNodes[t]==b.win[0])return b.remove()})}),b.observerremover.observe(b.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(b.bind(b.win,S.isie&&!S.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),S.isie9&&b.win[0].attachEvent("onpropertychange",b.onAttributeChange),b.bind(b.win,"DOMNodeRemoved",function(e){e.target==b.win[0]&&b.remove()}))),!b.ispage&&b.opt.boxzoom&&b.bind(t,"resize",b.resizeZoom),b.istextarea&&b.bind(b.win,"mouseup",b.lazyResize),b.checkrtlmode=!0,b.lazyResize(30)}"IFRAME"==this.doc[0].nodeName&&(this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){i.call(b.doc[0],!1)},500),b.bind(this.doc,"load",i))},this.showCursor=function(e,t){b.cursortimeout&&(clearTimeout(b.cursortimeout),b.cursortimeout=0),b.rail&&(b.autohidedom&&(b.autohidedom.stop().css({opacity:b.opt.cursoropacitymax}),b.cursoractive=!0),b.rail.drag&&1==b.rail.drag.pt||("undefined"!=typeof e&&e!==!1&&(b.scroll.y=Math.round(1*e/b.scrollratio.y)),"undefined"!=typeof t&&(b.scroll.x=Math.round(1*t/b.scrollratio.x))),b.cursor.css({height:b.cursorheight,top:b.scroll.y}),b.cursorh&&(!b.rail.align&&b.rail.visibility?b.cursorh.css({width:b.cursorwidth,left:b.scroll.x+b.rail.width}):b.cursorh.css({width:b.cursorwidth,left:b.scroll.x}),b.cursoractive=!0),b.zoom&&b.zoom.stop().css({opacity:b.opt.cursoropacitymax}))},this.hideCursor=function(e){b.cursortimeout||b.rail&&b.autohidedom&&(b.hasmousefocus&&"leave"==b.opt.autohidemode||(b.cursortimeout=setTimeout(function(){b.rail.active&&b.showonmouseevent||(b.autohidedom.stop().animate({opacity:b.opt.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:b.opt.cursoropacitymin}),b.cursoractive=!1),b.cursortimeout=0},e||b.opt.hidecursordelay)))},this.noticeCursor=function(e,t,i){b.showCursor(t,i),b.rail.active||b.hideCursor(e)},this.getContentSize=b.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc.outerWidth()+parseInt(b.win.css("paddingLeft"))+parseInt(b.win.css("paddingRight")),h:b.doc.outerHeight()+parseInt(b.win.css("paddingTop"))+parseInt(b.win.css("paddingBottom"))}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!b||!b.win)return!1;if(!b.haswrapper&&!b.ispage){if("none"==b.win.css("display"))return b.visibility&&b.hideRail().hideRailHr(),!1;b.hidden||b.visibility||b.showRail().showRailHr()}var i=b.page.maxh,o=b.page.maxw,n={h:b.view.h,w:b.view.w};if(b.view={w:b.ispage?b.win.width():parseInt(b.win[0].clientWidth),h:b.ispage?b.win.height():parseInt(b.win[0].clientHeight)},b.page=t?t:b.getContentSize(),b.page.maxh=Math.max(0,b.page.h-b.view.h),b.page.maxw=Math.max(0,b.page.w-b.view.w),b.page.maxh==i&&b.page.maxw==o&&b.view.w==n.w){if(b.ispage)return b;var r=b.win.offset();if(b.lastposition){var s=b.lastposition;if(s.top==r.top&&s.left==r.left)return b}b.lastposition=r}if(0==b.page.maxh?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail.scrollable=!1):b.rail.scrollable=!0,0==b.page.maxw?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh.scrollable=!1):b.railh.scrollable=!0,b.locked=0==b.page.maxh&&0==b.page.maxw,b.locked)return b.ispage||b.updateScrollBar(b.view),!1;b.hidden||b.visibility?b.hidden||b.railh.visibility||b.showRailHr():b.showRail().showRailHr(),b.istextarea&&b.win.css("resize")&&"none"!=b.win.css("resize")&&(b.view.h-=20),b.cursorheight=Math.min(b.view.h,Math.round(b.view.h*(b.view.h/b.page.h))),b.cursorheight=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorheight),b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w*(b.view.w/b.page.w))),b.cursorwidth=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorwidth),b.scrollvaluemax=b.view.h-b.cursorheight-b.cursor.hborder,b.railh&&(b.railh.width=b.page.maxh>0?b.view.w-b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-b.cursorh.wborder),b.checkrtlmode&&b.railh&&(b.checkrtlmode=!1,b.opt.rtlmode&&0==b.scroll.x&&b.setScrollLeft(b.page.maxw)),b.ispage||b.updateScrollBar(b.view),b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax};var a=b.getScrollTop();return a>b.page.maxh?b.doScrollTop(b.page.maxh):(b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)),b.cursoractive&&b.noticeCursor()),b.scroll.y&&0==b.getScrollTop()&&b.doScrollTo(Math.floor(b.scroll.y*b.scrollratio.y)),b},this.resize=b.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,b.delayed("resize",b.resize,e),b},this._bind=function(e,t,i,o){b.events.push({e:e,n:t,f:i,b:o,q:!1}),e.addEventListener?e.addEventListener(t,i,o||!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},this.jqbind=function(e,t,i){b.events.push({e:e,n:t,f:i,q:!0}),c(e).bind(t,i)},this.bind=function(e,i,o,n){var r="jquery"in e?e[0]:e;if("mousewheel"==i)if("onwheel"in b.win)b._bind(r,"wheel",o,n||!1);else{var s="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll";f(r,s,o,n||!1),"DOMMouseScroll"==s&&f(r,"MozMousePixelScroll",o,n||!1)}else if(r.addEventListener){if(S.cantouch&&/mouseup|mousedown|mousemove/.test(i)){var a="mousedown"==i?"touchstart":"mouseup"==i?"touchend":"touchmove";b._bind(r,a,function(e){if(e.touches){if(e.touches.length<2){var t=e.touches.length?e.touches[0]:e;t.original=e,o.call(this,t)}}else if(e.changedTouches){var t=e.changedTouches[0];t.original=e,o.call(this,t)}},n||!1)}b._bind(r,i,o,n||!1),S.cantouch&&"mouseup"==i&&b._bind(r,"touchcancel",o,n||!1)}else b._bind(r,i,function(e){return e=e||t.event||!1,e&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),o.call(r,e)===!1||n===!1?b.cancelEvent(e):!0})},this._unbind=function(e,t,i,o){e.removeEventListener?e.removeEventListener(t,i,o):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=!1},this.unbindAll=function(){for(var e=0;e<b.events.length;e++){var t=b.events[e];t.q?t.e.unbind(t.n,t.f):b._unbind(t.e,t.n,t.f,t.b)}},this.cancelEvent=function(e){var e=e.original?e.original:e?e:t.event||!1;return e?(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1):!1},this.stopPropagation=function(e){var e=e.original?e.original:e?e:t.event||!1;return e?e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1):!1},this.showRail=function(){return 0==b.page.maxh||!b.ispage&&"none"==b.win.css("display")||(b.visibility=!0,b.rail.visibility=!0,b.rail.css("display","block")),b},this.showRailHr=function(){return b.railh?(0==b.page.maxw||!b.ispage&&"none"==b.win.css("display")||(b.railh.visibility=!0,b.railh.css("display","block")),b):b},this.hideRail=function(){return b.visibility=!1,b.rail.visibility=!1,b.rail.css("display","none"),b},this.hideRailHr=function(){return b.railh?(b.railh.visibility=!1,b.railh.css("display","none"),b):b},this.show=function(){return b.hidden=!1,b.locked=!1,b.showRail().showRailHr()},this.hide=function(){return b.hidden=!0,b.locked=!0,b.hideRail().hideRailHr()},this.toggle=function(){return b.hidden?b.show():b.hide()},this.remove=function(){b.stop(),b.cursortimeout&&clearTimeout(b.cursortimeout),b.doZoomOut(),b.unbindAll(),S.isie9&&b.win[0].detachEvent("onpropertychange",b.onAttributeChange),b.observer!==!1&&b.observer.disconnect(),b.observerremover!==!1&&b.observerremover.disconnect(),b.events=null,b.cursor&&b.cursor.remove(),b.cursorh&&b.cursorh.remove(),b.rail&&b.rail.remove(),b.railh&&b.railh.remove(),b.zoom&&b.zoom.remove();for(var e=0;e<b.saved.css.length;e++){var t=b.saved.css[e];t[0].css(t[1],"undefined"==typeof t[2]?"":t[2])}b.saved=!1,b.me.data("__nicescroll","");var i=c.nicescroll;i.each(function(e){if(this&&this.id===b.id){delete i[e];for(var t=++e;t<i.length;t++,e++)i[e]=i[t];i.length--,i.length&&delete i[i.length]}});for(var o in b)b[o]=null,delete b[o];b=null},this.scrollstart=function(e){return this.onscrollstart=e,b},this.scrollend=function(e){return this.onscrollend=e,b},this.scrollcancel=function(e){return this.onscrollcancel=e,b},this.zoomin=function(e){return this.onzoomin=e,b},this.zoomout=function(e){return this.onzoomout=e,b},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var i=c(t),o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:!1}return!1},this.getViewport=function(e){for(var t=e&&e.parentNode?e.parentNode:!1;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var i=c(t);if(/fixed|absolute/.test(i.css("position")))return i;var o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o)&&t.clientHeight!=t.scrollHeight)return i;if(i.getNiceScroll().length>0)return i;t=t.parentNode?t.parentNode:!1}return console.log(c(t).parents()),t?c(t):!1},this.triggerScrollEnd=function(){if(b.onscrollend){var e=b.getScrollLeft(),t=b.getScrollTop(),i={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};b.onscrollend.call(b,i)}},this.onmousewheel=function(e){if(b.locked)return b.debounced("checkunlock",b.resize,250),!0;if(b.rail.drag)return b.cancelEvent(e);if("auto"==b.opt.oneaxismousemode&&0!=e.deltaX&&(b.opt.oneaxismousemode=!1),b.opt.oneaxismousemode&&0==e.deltaX&&!b.rail.scrollable)return b.railh&&b.railh.scrollable?b.onmousewheelhr(e):!0;var t=+new Date,i=!1;if(b.opt.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),i=!0),b.checkarea=t,b.nativescrollingarea)return!0;var o=m(e,!1,i);return o&&(b.checkarea=0),o},this.onmousewheelhr=function(e){if(b.locked||!b.railh.scrollable)return!0;if(b.rail.drag)return b.cancelEvent(e);var t=+new Date,i=!1;return b.opt.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),i=!0),b.checkarea=t,b.nativescrollingarea?!0:b.locked?b.cancelEvent(e):m(e,!0,i)},this.stop=function(){return b.cancelScroll(),b.scrollmon&&b.scrollmon.stop(),b.cursorfreezed=!1,b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.noticeCursor(),b},this.getTransitionSpeed=function(e){var t=Math.round(10*b.opt.scrollspeed),i=Math.min(t,Math.round(e/20*b.opt.scrollspeed));return i>20?i:0},b.opt.smoothscroll?b.ishwscroll&&S.hastransition&&b.opt.usetransition?(this.prepareTransition=function(e,t){var i=t?e>20?e:0:b.getTransitionSpeed(e),o=i?S.prefixstyle+"transform "+i+"ms ease-out":"";return b.lasttransitionstyle&&b.lasttransitionstyle==o||(b.lasttransitionstyle=o,b.doc.css(S.transitionstyle,o)),i},this.doScrollLeft=function(e,t){var i=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var o=b.getScrollTop(),n=b.getScrollLeft();return((b.newscrolly-o)*(t-o)<0||(b.newscrollx-n)*(e-n)<0)&&b.cancelScroll(),0==b.opt.bouncescroll&&(0>t?t=0:t>b.page.maxh&&(t=b.page.maxh),0>e?e=0:e>b.page.maxw&&(e=b.page.maxw)),b.scrollrunning&&e==b.newscrollx&&t==b.newscrolly?!1:(b.newscrolly=t,b.newscrollx=e,b.newscrollspeed=i||!1,b.timer?!1:(b.timer=setTimeout(function(){var i=b.getScrollTop(),o=b.getScrollLeft(),n={};n.x=e-o,n.y=t-i,n.px=o,n.py=i;var r=Math.round(Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))),s=b.newscrollspeed&&b.newscrollspeed>1?b.newscrollspeed:b.getTransitionSpeed(r);if(b.newscrollspeed&&b.newscrollspeed<=1&&(s*=b.newscrollspeed),b.prepareTransition(s,!0),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),s>0){if(!b.scrollrunning&&b.onscrollstart){var a={type:"scrollstart",current:{x:o,y:i},request:{x:e,y:t},end:{x:b.newscrollx,y:b.newscrolly},speed:s};b.onscrollstart.call(b,a)}S.transitionend?b.scrollendtrapped||(b.scrollendtrapped=!0,b.bind(b.doc,S.transitionend,b.onScrollTransitionEnd,!1)):(b.scrollendtrapped&&clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollTransitionEnd,s));var l=i,c=o;b.timerscroll={bz:new BezierClass(l,b.newscrolly,s,0,0,.58,1),bh:new BezierClass(c,b.newscrollx,s,0,0,.58,1)},b.cursorfreezed||(b.timerscroll.tm=setInterval(function(){b.showCursor(b.getScrollTop(),b.getScrollLeft())},60))}b.synched("doScroll-set",function(){b.timer=0,b.scrollendtrapped&&(b.scrollrunning=!0),b.setScrollTop(b.newscrolly),b.setScrollLeft(b.newscrollx),b.scrollendtrapped||b.onScrollTransitionEnd()})},50),void 0))},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var e=b.getScrollTop(),t=b.getScrollLeft();return b.scrollrunning=!1,S.transitionend||clearTimeout(S.transitionend),b.scrollendtrapped=!1,b._unbind(b.doc,S.transitionend,b.onScrollTransitionEnd),b.prepareTransition(0),b.setScrollTop(e),b.railh&&b.setScrollLeft(t),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),b.timerscroll=!1,b.cursorfreezed=!1,b.showCursor(e,t),b},this.onScrollTransitionEnd=function(){b.scrollendtrapped&&b._unbind(b.doc,S.transitionend,b.onScrollTransitionEnd),b.scrollendtrapped=!1,b.prepareTransition(0),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),b.timerscroll=!1;var e=b.getScrollTop(),t=b.getScrollLeft();return b.setScrollTop(e),b.railh&&b.setScrollLeft(t),b.noticeCursor(!1,e,t),b.cursorfreezed=!1,0>e?e=0:e>b.page.maxh&&(e=b.page.maxh),0>t?t=0:t>b.page.maxw&&(t=b.page.maxw),e!=b.newscrolly||t!=b.newscrollx?b.doScrollPos(t,e,b.opt.snapbackspeed):(b.onscrollend&&b.scrollrunning&&b.triggerScrollEnd(),b.scrollrunning=!1,void 0)}):(this.doScrollLeft=function(e,t){var i=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){function o(){if(b.cancelAnimationFrame)return!0;if(b.scrollrunning=!0,d=1-d)return b.timer=h(o)||1;var e=0,t=sy=b.getScrollTop();if(b.dst.ay){t=b.bzscroll?b.dst.py+b.bzscroll.getNow()*b.dst.ay:b.newscrolly;var i=t-sy;(0>i&&t<b.newscrolly||i>0&&t>b.newscrolly)&&(t=b.newscrolly),b.setScrollTop(t),t==b.newscrolly&&(e=1)}else e=1;var n=sx=b.getScrollLeft();if(b.dst.ax){n=b.bzscroll?b.dst.px+b.bzscroll.getNow()*b.dst.ax:b.newscrollx;var i=n-sx;(0>i&&n<b.newscrollx||i>0&&n>b.newscrollx)&&(n=b.newscrollx),b.setScrollLeft(n),n==b.newscrollx&&(e+=1)}else e+=1;2==e?(b.timer=0,b.cursorfreezed=!1,b.bzscroll=!1,b.scrollrunning=!1,0>t?t=0:t>b.page.maxh&&(t=b.page.maxh),0>n?n=0:n>b.page.maxw&&(n=b.page.maxw),n!=b.newscrollx||t!=b.newscrolly?b.doScrollPos(n,t):b.onscrollend&&b.triggerScrollEnd()):b.timer=h(o)||1}var t="undefined"==typeof t||t===!1?b.getScrollTop(!0):t;if(b.timer&&b.newscrolly==t&&b.newscrollx==e)return!0;b.timer&&p(b.timer),b.timer=0;var n=b.getScrollTop(),r=b.getScrollLeft();((b.newscrolly-n)*(t-n)<0||(b.newscrollx-r)*(e-r)<0)&&b.cancelScroll(),b.newscrolly=t,b.newscrollx=e,b.bouncescroll&&b.rail.visibility||(b.newscrolly<0?b.newscrolly=0:b.newscrolly>b.page.maxh&&(b.newscrolly=b.page.maxh)),b.bouncescroll&&b.railh.visibility||(b.newscrollx<0?b.newscrollx=0:b.newscrollx>b.page.maxw&&(b.newscrollx=b.page.maxw)),b.dst={},b.dst.x=e-r,b.dst.y=t-n,b.dst.px=r,b.dst.py=n;var s=Math.round(Math.sqrt(Math.pow(b.dst.x,2)+Math.pow(b.dst.y,2)));b.dst.ax=b.dst.x/s,b.dst.ay=b.dst.y/s;var a=0,l=s;0==b.dst.x?(a=n,l=t,b.dst.ay=1,b.dst.py=0):0==b.dst.y&&(a=r,l=e,b.dst.ax=1,b.dst.px=0);var c=b.getTransitionSpeed(s);if(i&&1>=i&&(c*=i),b.bzscroll=c>0?b.bzscroll?b.bzscroll.update(l,c):new BezierClass(a,l,c,0,1,0,1):!1,!b.timer){(n==b.page.maxh&&t>=b.page.maxh||r==b.page.maxw&&e>=b.page.maxw)&&b.checkContentSize();var d=1;if(b.cancelAnimationFrame=!1,b.timer=1,b.onscrollstart&&!b.scrollrunning){var u={type:"scrollstart",current:{x:r,y:n},request:{x:e,y:t},end:{x:b.newscrollx,y:b.newscrolly},speed:c};b.onscrollstart.call(b,u)}o(),(n==b.page.maxh&&t>=n||r==b.page.maxw&&e>=r)&&b.checkContentSize(),b.noticeCursor()}},this.cancelScroll=function(){return b.timer&&p(b.timer),b.timer=0,b.bzscroll=!1,b.scrollrunning=!1,b}):(this.doScrollLeft=function(e,t){var i=b.getScrollTop();b.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=b.getScrollLeft();b.doScrollPos(i,e,t)},this.doScrollPos=function(e,t){var i=e>b.page.maxw?b.page.maxw:e;0>i&&(i=0);var o=t>b.page.maxh?b.page.maxh:t;0>o&&(o=0),b.synched("scroll",function(){b.setScrollTop(o),b.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var i=0;if(t)i=Math.floor((b.scroll.y-e)*b.scrollratio.y);else{var o=b.timer?b.newscrolly:b.getScrollTop(!0);i=o-e}if(b.bouncescroll){var n=Math.round(b.view.h/2);-n>i?i=-n:i>b.page.maxh+n&&(i=b.page.maxh+n)}return b.cursorfreezed=!1,py=b.getScrollTop(!0),0>i&&0>=py?b.noticeCursor():i>b.page.maxh&&py>=b.page.maxh?(b.checkContentSize(),b.noticeCursor()):(b.doScrollTop(i),void 0)},this.doScrollLeftBy=function(e,t){var i=0;if(t)i=Math.floor((b.scroll.x-e)*b.scrollratio.x);else{var o=b.timer?b.newscrollx:b.getScrollLeft(!0);i=o-e}if(b.bouncescroll){var n=Math.round(b.view.w/2);-n>i?i=-n:i>b.page.maxw+n&&(i=b.page.maxw+n)}return b.cursorfreezed=!1,px=b.getScrollLeft(!0),0>i&&0>=px?b.noticeCursor():i>b.page.maxw&&px>=b.page.maxw?b.noticeCursor():(b.doScrollLeft(i),void 0)},this.doScrollTo=function(e,t){var i=t?Math.round(e*b.scrollratio.y):e;0>i?i=0:i>b.page.maxh&&(i=b.page.maxh),b.cursorfreezed=!1,b.doScrollTop(e)},this.checkContentSize=function(){var e=b.getContentSize();(e.h!=b.page.h||e.w!=b.page.w)&&b.resize(!1,e)},b.onscroll=function(){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.railh&&(b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x))),b.noticeCursor()})},b.bind(b.docscroll,"scroll",b.onscroll),this.doZoomIn=function(e){if(!b.zoomactive){b.zoomactive=!0,b.zoomrestore={style:{}};var i=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],o=b.win[0].style;for(var n in i){var r=i[n];b.zoomrestore.style[r]="undefined"!=typeof o[r]?o[r]:""}b.zoomrestore.style.width=b.win.css("width"),b.zoomrestore.style.height=b.win.css("height"),b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()},S.isios4&&(b.zoomrestore.scrollTop=c(t).scrollTop(),c(t).scrollTop(0)),b.win.css({position:S.isios4?"absolute":"fixed",top:0,left:0,"z-index":l+100,margin:"0px"});var s=b.win.css("backgroundColor");return(""==s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&b.win.css("backgroundColor","#fff"),b.rail.css({"z-index":l+101}),b.zoom.css({"z-index":l+102}),b.zoom.css("backgroundPosition","0px -18px"),b.resizeZoom(),b.onzoomin&&b.onzoomin.call(b),b.cancelEvent(e)}},this.doZoomOut=function(e){return b.zoomactive?(b.zoomactive=!1,b.win.css("margin",""),b.win.css(b.zoomrestore.style),S.isios4&&c(t).scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.zindex}),b.zoom.css({"z-index":b.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0px 0px"),b.onResize(),b.onzoomout&&b.onzoomout.call(b),b.cancelEvent(e)):void 0},this.doZoom=function(e){return b.zoomactive?b.doZoomOut(e):b.doZoomIn(e)},this.resizeZoom=function(){if(b.zoomactive){var e=b.getScrollTop();b.win.css({width:c(t).width()-b.zoomrestore.padding.w+"px",height:c(t).height()-b.zoomrestore.padding.h+"px"}),b.onResize(),b.setScrollTop(Math.min(b.page.maxh,e))}},this.init(),c.nicescroll.push(this)},w=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(e,i){t.stop();var o=t.time();t.steptime=0,t.lasttime=o,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=i,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,i){var o=t.time();t.steptime=o-t.lasttime,t.lasttime=o;var n=i-t.lasty,r=e-t.lastx,s=t.nc.getScrollTop(),a=t.nc.getScrollLeft(),l=s+n,c=a+r;t.snapx=0>c||c>t.nc.page.maxw,t.snapy=0>l||l>t.nc.page.maxh,t.speedx=r,t.speedy=n,t.lastx=e,t.lasty=i},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,i){var o=!1;0>i?(i=0,o=!0):i>t.nc.page.maxh&&(i=t.nc.page.maxh,o=!0),0>e?(e=0,o=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,o=!0),o?t.nc.doScrollPos(e,i,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var i=t.time(),o=e?i+e:t.lasttime,n=t.nc.getScrollLeft(),r=t.nc.getScrollTop(),s=t.nc.page.maxh,a=t.nc.page.maxw;t.speedx=a>0?Math.min(60,t.speedx):0,t.speedy=s>0?Math.min(60,t.speedy):0;var l=o&&60>=i-o;(0>r||r>s||0>n||n>a)&&(l=!1);var c=t.speedy&&l?t.speedy:!1,d=t.speedx&&l?t.speedx:!1;if(c||d){var u=Math.max(16,t.steptime);if(u>50){var h=u/50;t.speedx*=h,t.speedy*=h,u=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var p=t.lastscrollx,f=t.lastscrolly,m=function(){var e=t.time()-i>600?.04:.02;t.speedx&&(p=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=p,(0>p||p>a)&&(e=.1)),t.speedy&&(f=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=f,(0>f||f>s)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){if(t.speedx){var e=t.nc.getScrollLeft();e!=t.chkx&&t.stop(),t.chkx=p,t.nc.setScrollLeft(p)}if(t.speedy){var i=t.nc.getScrollTop();i!=t.chky&&t.stop(),t.chky=f,t.nc.setScrollTop(f)}t.timer||(t.nc.hideCursor(),t.doSnapy(p,f))}),t.demulxy<1?t.timer=setTimeout(m,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(p,f))};m()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},x=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e){var t=c.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.getScrollTop():x.call(e)},set:function(e,t){var i=c.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(t)):x.call(e,t),this}},e.fn.scrollTop=function(e){if("undefined"==typeof e){var t=this[0]?c.data(this[0],"__nicescroll")||!1:!1;return t&&t.ishwscroll?t.getScrollTop():x.call(this)}return this.each(function(){var t=c.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):x.call(c(this),e)})};var S=e.fn.scrollLeft;c.cssHooks.pageXOffset={get:function(e){var t=c.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.getScrollLeft():S.call(e)},set:function(e,t){var i=c.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(t)):S.call(e,t),this}},e.fn.scrollLeft=function(e){if("undefined"==typeof e){var t=this[0]?c.data(this[0],"__nicescroll")||!1:!1;return t&&t.ishwscroll?t.getScrollLeft():S.call(this)}return this.each(function(){var t=c.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):S.call(c(this),e)})};var C=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var i=0,o=0;i<t.length;i++)e.call(t[i],o++);return t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var i=0;i<e.length;i++){var o=c.data(e[i],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};o(C.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(e){if("undefined"==typeof e)return new C(this);var t=this[e]&&c.data(this[e],"__nicescroll")||!1;return t},e.extend(e.expr[":"],{nicescroll:function(e){return c.data(e,"__nicescroll")?!0:!1}}),c.fn.niceScroll=function(e,t){"undefined"==typeof t&&("object"!=typeof e||"jquery"in e||(t=e,e=!1));var i=new C;"undefined"==typeof t&&(t={}),e&&(t.doc=c(e),t.win=c(this));var o=!("doc"in t);return o||"win"in t||(t.win=c(this)),this.each(function(){var e=c(this).data("__nicescroll")||!1;e||(t.doc=o?c(this):t.doc,e=new b(t,c(this)),c(this).data("__nicescroll",e)),i.push(e)}),1==i.length?i[0]:i},t.NiceScroll={getjQuery:function(){return e}},c.nicescroll||(c.nicescroll=new C,c.nicescroll.options=v)}(jQuery),!function(e){var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,i,o,n=this.element,r=n.closest("ul:not(.dropdown-menu)"),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),n.parent("li").hasClass("active")||(t=r.find(".active:last a")[0],o=e.Event("show",{relatedTarget:t}),n.trigger(o),o.isDefaultPrevented()||(i=e(s),this.activate(n.parent("li"),r),this.activate(i,i.parent(),function(){n.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,i,o){function n(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),o&&o()}var r=i.find("> .active"),s=o&&e.support.transition&&r.hasClass("fade");s?r.one(e.support.transition.end,n):n(),r.removeClass("in")}};var i=e.fn.tab;e.fn.tab=function(i){return this.each(function(){var o=e(this),n=o.data("tab");n||o.data("tab",n=new t(this)),"string"==typeof i&&n[i]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(t.jQuery),o.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,o.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),o.prototype.deviceIsIOS4=o.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o.prototype.deviceIsIOSWithBadTarget=o.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),o.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},o.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},o.prototype.sendClick=function(e,i){"use strict";var o,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=i.changedTouches[0],o=document.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,t,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),o.forwardedTouchEvent=!0,e.dispatchEvent(o)},o.prototype.focus=function(e){"use strict";var t;this.deviceIsIOS&&e.setSelectionRange?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},o.prototype.updateScrollParent=function(e){"use strict";var t,i;if(t=e.fastClickScrollParent,!t||!t.contains(e)){i=e;do{if(i.scrollHeight>i.offsetHeight){t=i,e.fastClickScrollParent=i;break}i=i.parentElement}while(i)}t&&(t.fastClickLastScrollTop=t.scrollTop)},o.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},o.prototype.onTouchStart=function(e){"use strict";var i,o,n;if(e.targetTouches.length>1)return!0;if(i=this.getTargetElementFromEventTarget(e.target),o=e.targetTouches[0],this.deviceIsIOS){if(n=t.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;
if(!this.deviceIsIOS4){if(o.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=o.identifier,this.updateScrollParent(i)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=i,this.touchStartX=o.pageX,this.touchStartY=o.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},o.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i?!0:!1},o.prototype.onTouchMove=function(e){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},o.prototype.findControl=function(e){"use strict";return e.control!==i?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},o.prototype.onTouchEnd=function(e){"use strict";var i,o,n,r,s,a=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.lastClickTime=e.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(s=e.changedTouches[0],a=document.elementFromPoint(s.pageX-t.pageXOffset,s.pageY-t.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=a.tagName.toLowerCase(),"label"===n){if(i=this.findControl(a)){if(this.focus(a),this.deviceIsAndroid)return!1;a=i}}else if(this.needsFocus(a))return e.timeStamp-o>100||this.deviceIsIOS&&t.top!==t&&"input"===n?(this.targetElement=null,!1):(this.focus(a),this.deviceIsIOS4&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(r=a.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(a)||(e.preventDefault(),this.sendClick(a,e)),!1)},o.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},o.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0:!0},o.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},o.prototype.destroy=function(){"use strict";var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},o.notNeeded=function(e){"use strict";var i;if("undefined"==typeof t.ontouchstart)return!0;if(/Chrome\/[0-9]+/.test(navigator.userAgent)){if(!o.prototype.deviceIsAndroid)return!0;if(i=document.querySelector("meta[name=viewport]"),i&&-1!==i.content.indexOf("user-scalable=no"))return!0}return"none"===e.style.msTouchAction?!0:!1},o.attach=function(e){"use strict";return new o(e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return o}):"undefined"!=typeof module&&module.exports?(module.exports=o.attach,module.exports.FastClick=o):t.FastClick=o,function(e){function i(i,r,s,a,l){function c(){m.unbind("webkitTransitionEnd transitionend otransitionend oTransitionEnd"),r&&o(r,s,a,l),l.startOrder=[],l.newOrder=[],l.origSort=[],l.checkSort=[],f.removeStyle(l.prefix+"filter, filter, "+l.prefix+"transform, transform, opacity, display").css(l.clean).removeAttr("data-checksum"),t.atob||f.css({display:"none",opacity:"0"}),m.removeStyle(l.prefix+"transition, transition, "+l.prefix+"perspective, perspective, "+l.prefix+"perspective-origin, perspective-origin, "+(l.resizeContainer?"height":"")),"list"==l.layoutMode?(g.css({display:l.targetDisplayList,opacity:"1"}),l.origDisplay=l.targetDisplayList):(g.css({display:l.targetDisplayGrid,opacity:"1"}),l.origDisplay=l.targetDisplayGrid),l.origLayout=l.layoutMode,setTimeout(function(){if(f.removeStyle(l.prefix+"transition, transition"),l.mixing=!1,"function"==typeof l.onMixEnd){var e=l.onMixEnd.call(this,l);l=e?e:l}})}if(clearInterval(l.failsafe),l.mixing=!0,l.filter=i,"function"==typeof l.onMixStart){var d=l.onMixStart.call(this,l);l=d?d:l}for(var u=l.transitionSpeed,d=0;2>d;d++){var h=0==d?h=l.prefix:"";l.transition[h+"transition"]="all "+u+"ms linear",l.transition[h+"transform"]=h+"translate3d(0,0,0)",l.perspective[h+"perspective"]=l.perspectiveDistance+"px",l.perspective[h+"perspective-origin"]=l.perspectiveOrigin}var p=l.targetSelector,f=a.find(p);f.each(function(){this.data={}});var m=f.parent();m.css(l.perspective),l.easingFallback="ease-in-out","smooth"==l.easing&&(l.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==l.easing&&(l.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==l.easing&&(l.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",l.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==l.easing&&(l.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",l.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)"),d="list"==l.layoutMode&&null!=l.listEffects?l.listEffects:l.effects,Array.prototype.indexOf&&(l.fade=-1<d.indexOf("fade")?"0":"",l.scale=-1<d.indexOf("scale")?"scale(.01)":"",l.rotateZ=-1<d.indexOf("rotateZ")?"rotate(180deg)":"",l.rotateY=-1<d.indexOf("rotateY")?"rotateY(90deg)":"",l.rotateX=-1<d.indexOf("rotateX")?"rotateX(90deg)":"",l.blur=-1<d.indexOf("blur")?"blur(8px)":"",l.grayscale=-1<d.indexOf("grayscale")?"grayscale(100%)":"");var g=e(),v=e(),y=[],_=!1;"string"==typeof i?y=n(i):(_=!0,e.each(i,function(e){y[e]=n(this)})),"or"==l.filterLogic?(""==y[0]&&y.shift(),1>y.length?v=v.add(a.find(p+":visible")):f.each(function(){var t=e(this);if(_){var i=0;e.each(y,function(){this.length?t.is("."+this.join(", ."))&&i++:i>0&&i++}),i==y.length?g=g.add(t):v=v.add(t)}else t.is("."+y.join(", ."))?g=g.add(t):v=v.add(t)})):(g=g.add(m.find(p+"."+y.join("."))),v=v.add(m.find(p+":not(."+y.join(".")+"):visible"))),i=g.length;var b=e(),w=e(),x=e();if(v.each(function(){var t=e(this);"none"!=t.css("display")&&(b=b.add(t),x=x.add(t))}),g.filter(":visible").length==i&&!b.length&&!r){if(l.origLayout==l.layoutMode)return c(),!1;if(1==g.length)return"list"==l.layoutMode?(a.addClass(l.listClass),a.removeClass(l.gridClass),x.css("display",l.targetDisplayList)):(a.addClass(l.gridClass),a.removeClass(l.listClass),x.css("display",l.targetDisplayGrid)),c(),!1}if(l.origHeight=m.height(),g.length){if(a.removeClass(l.failClass),g.each(function(){var t=e(this);"none"==t.css("display")?w=w.add(t):x=x.add(t)}),l.origLayout!=l.layoutMode&&0==l.animateGridList)return"list"==l.layoutMode?(a.addClass(l.listClass),a.removeClass(l.gridClass),x.css("display",l.targetDisplayList)):(a.addClass(l.gridClass),a.removeClass(l.listClass),x.css("display",l.targetDisplayGrid)),c(),!1;if(!t.atob)return c(),!1;if(f.css(l.clean),x.each(function(){this.data.origPos=e(this).offset()}),"list"==l.layoutMode?(a.addClass(l.listClass),a.removeClass(l.gridClass),w.css("display",l.targetDisplayList)):(a.addClass(l.gridClass),a.removeClass(l.listClass),w.css("display",l.targetDisplayGrid)),w.each(function(){this.data.showInterPos=e(this).offset()}),b.each(function(){this.data.hideInterPos=e(this).offset()}),x.each(function(){this.data.preInterPos=e(this).offset()}),"list"==l.layoutMode?x.css("display",l.targetDisplayList):x.css("display",l.targetDisplayGrid),r&&o(r,s,a,l),i=r)e:if(i=l.origSort,d=l.checkSort,i.length!=d.length)i=!1;else{for(h=0;h<d.length;h++)if(i[h].compare&&!i[h].compare(d[h])||i[h]!==d[h]){i=!1;break e}i=!0}if(i)return c(),!1;for(b.hide(),w.each(function(){this.data.finalPos=e(this).offset()}),x.each(function(){this.data.finalPrePos=e(this).offset()}),l.newHeight=m.height(),r&&o("reset",null,a,l),w.hide(),x.css("display",l.origDisplay),"block"==l.origDisplay?(a.addClass(l.listClass),w.css("display",l.targetDisplayList)):(a.removeClass(l.listClass),w.css("display",l.targetDisplayGrid)),l.resizeContainer&&m.css("height",l.origHeight+"px"),i={},d=0;2>d;d++)h=0==d?h=l.prefix:"",i[h+"transform"]=l.scale+" "+l.rotateX+" "+l.rotateY+" "+l.rotateZ,i[h+"filter"]=l.blur+" "+l.grayscale;w.css(i),x.each(function(){var t=this.data,i=e(this);i.hasClass("mix_tohide")?(t.preTX=t.origPos.left-t.hideInterPos.left,t.preTY=t.origPos.top-t.hideInterPos.top):(t.preTX=t.origPos.left-t.preInterPos.left,t.preTY=t.origPos.top-t.preInterPos.top);for(var o={},n=0;2>n;n++){var r=0==n?r=l.prefix:"";o[r+"transform"]="translate("+t.preTX+"px,"+t.preTY+"px)"}i.css(o)}),"list"==l.layoutMode?(a.addClass(l.listClass),a.removeClass(l.gridClass)):(a.addClass(l.gridClass),a.removeClass(l.listClass)),setTimeout(function(){if(l.resizeContainer){for(var t={},i=0;2>i;i++){var o=0==i?o=l.prefix:"";t[o+"transition"]="all "+u+"ms ease-in-out",t.height=l.newHeight+"px"}m.css(t)}for(b.css("opacity",l.fade),w.css("opacity",1),w.each(function(){var t=this.data;t.tX=t.finalPos.left-t.showInterPos.left,t.tY=t.finalPos.top-t.showInterPos.top;for(var i={},o=0;2>o;o++){var n=0==o?n=l.prefix:"";i[n+"transition-property"]=n+"transform, "+n+"filter, opacity",i[n+"transition-timing-function"]=l.easing+", linear, linear",i[n+"transition-duration"]=u+"ms",i[n+"transition-delay"]="0",i[n+"transform"]="translate("+t.tX+"px,"+t.tY+"px)",i[n+"filter"]="none"}e(this).css("-webkit-transition","all "+u+"ms "+l.easingFallback).css(i)}),x.each(function(){var t=this.data;t.tX=0!=t.finalPrePos.left?t.finalPrePos.left-t.preInterPos.left:0,t.tY=0!=t.finalPrePos.left?t.finalPrePos.top-t.preInterPos.top:0;for(var i={},o=0;2>o;o++){var n=0==o?n=l.prefix:"";i[n+"transition"]="all "+u+"ms "+l.easing,i[n+"transform"]="translate("+t.tX+"px,"+t.tY+"px)"}e(this).css("-webkit-transition","all "+u+"ms "+l.easingFallback).css(i)}),t={},i=0;2>i;i++)o=0==i?o=l.prefix:"",t[o+"transition"]="all "+u+"ms "+l.easing+", "+o+"filter "+u+"ms linear, opacity "+u+"ms linear",t[o+"transform"]=l.scale+" "+l.rotateX+" "+l.rotateY+" "+l.rotateZ,t[o+"filter"]=l.blur+" "+l.grayscale,t.opacity=l.fade;b.css(t),m.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(t){(-1<t.originalEvent.propertyName.indexOf("transform")||-1<t.originalEvent.propertyName.indexOf("opacity"))&&(-1<p.indexOf(".")?e(t.target).hasClass(p.replace(".",""))&&c():e(t.target).is(p)&&c())})},10),l.failsafe=setTimeout(function(){l.mixing&&c()},u+400)}else{if(l.resizeContainer&&m.css("height",l.origHeight+"px"),!t.atob)return c(),!1;b=v,setTimeout(function(){if(m.css(l.perspective),l.resizeContainer){for(var e={},t=0;2>t;t++){var i=0==t?i=l.prefix:"";e[i+"transition"]="height "+u+"ms ease-in-out",e.height=l.minHeight+"px"}m.css(e)}if(f.css(l.transition),v.length){for(e={},t=0;2>t;t++)i=0==t?i=l.prefix:"",e[i+"transform"]=l.scale+" "+l.rotateX+" "+l.rotateY+" "+l.rotateZ,e[i+"filter"]=l.blur+" "+l.grayscale,e.opacity=l.fade;b.css(e),m.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(e){(-1<e.originalEvent.propertyName.indexOf("transform")||-1<e.originalEvent.propertyName.indexOf("opacity"))&&(a.addClass(l.failClass),c())})}else l.mixing=!1},10)}}function o(t,i,o,n){function r(e,i){var o=isNaN(1*e.attr(t))?e.attr(t).toLowerCase():1*e.attr(t),n=isNaN(1*i.attr(t))?i.attr(t).toLowerCase():1*i.attr(t);return n>o?-1:o>n?1:0}function s(e){"asc"==i?a.prepend(e).prepend(" "):a.append(e).append(" ")}o.find(n.targetSelector).wrapAll('<div class="mix_sorter"/>');var a=o.find(".mix_sorter");if(n.origSort.length||a.find(n.targetSelector+":visible").each(function(){e(this).wrap("<s/>"),n.origSort.push(e(this).parent().html().replace(/\s+/g,"")),e(this).unwrap()}),a.empty(),"reset"==t)e.each(n.startOrder,function(){a.append(this).append(" ")});else if("default"==t)e.each(n.origOrder,function(){s(this)});else if("random"==t){if(!n.newOrder.length){for(var l=n.startOrder.slice(),c=l.length,d=c;d--;){var u=parseInt(Math.random()*c),h=l[d];l[d]=l[u],l[u]=h}n.newOrder=l}e.each(n.newOrder,function(){a.append(this).append(" ")})}else if("custom"==t)e.each(i,function(){s(this)});else{if("undefined"==typeof n.origOrder[0].attr(t))return console.log("No such attribute found. Terminating"),!1;n.newOrder.length||(e.each(n.origOrder,function(){n.newOrder.push(e(this))}),n.newOrder.sort(r)),e.each(n.newOrder,function(){s(this)})}n.checkSort=[],a.find(n.targetSelector+":visible").each(function(t){var i=e(this);0==t&&i.attr("data-checksum","1"),i.wrap("<s/>"),n.checkSort.push(i.parent().html().replace(/\s+/g,"")),i.unwrap()}),o.find(n.targetSelector).unwrap()}function n(t){t=t.replace(/\s{2,}/g," ");var i=t.split(" ");return e.each(i,function(e){"all"==this&&(i[e]="mix_all")}),""==i[0]&&i.shift(),i}var r={init:function(t){return this.each(function(){var n={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};t&&e.extend(n,t),this.config=n,e.support.touch="ontouchend"in document,e.support.touch&&(n.isTouch=!0,n.resetDelay=350),n.container=e(this);var r,s=n.container;e:{r=s[0];for(var a=["Webkit","Moz","O","ms"],l=0;l<a.length;l++)if(a[l]+"Transition"in r.style){r=a[l];break e}r="transition"in r.style?"":!1}if(n.prefix=r,n.prefix=n.prefix?"-"+n.prefix.toLowerCase()+"-":"",s.find(n.targetSelector).each(function(){n.origOrder.push(e(this))}),n.sortOnLoad){var c;e.isArray(n.sortOnLoad)?(r=n.sortOnLoad[0],c=n.sortOnLoad[1],e(n.sortSelector+"[data-sort="+n.sortOnLoad[0]+"][data-order="+n.sortOnLoad[1]+"]").addClass("active")):(e(n.sortSelector+"[data-sort="+n.sortOnLoad+"]").addClass("active"),r=n.sortOnLoad,n.sortOnLoad="desc"),o(r,c,s,n)}for(c=0;2>c;c++)r=0==c?r=n.prefix:"",n.transition[r+"transition"]="all "+n.transitionSpeed+"ms ease-in-out",n.perspective[r+"perspective"]=n.perspectiveDistance+"px",n.perspective[r+"perspective-origin"]=n.perspectiveOrigin;for(c=0;2>c;c++)r=0==c?r=n.prefix:"",n.clean[r+"transition"]="none";"list"==n.layoutMode?(s.addClass(n.listClass),n.origDisplay=n.targetDisplayList):(s.addClass(n.gridClass),n.origDisplay=n.targetDisplayGrid),n.origLayout=n.layoutMode,c=n.showOnLoad.split(" "),e.each(c,function(){e(n.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),s.find(n.targetSelector).addClass("mix_all"),"all"==c[0]&&(c[0]="mix_all",n.showOnLoad="mix_all");var d=e();e.each(c,function(){d=d.add(e("."+this))}),d.each(function(){var t=e(this);"list"==n.layoutMode?t.css("display",n.targetDisplayList):t.css("display",n.targetDisplayGrid),t.css(n.transition)}),setTimeout(function(){n.mixing=!0,d.css("opacity","1"),setTimeout(function(){if("list"==n.layoutMode?d.removeStyle(n.prefix+"transition, transition").css({display:n.targetDisplayList,opacity:1}):d.removeStyle(n.prefix+"transition, transition").css({display:n.targetDisplayGrid,opacity:1}),n.mixing=!1,"function"==typeof n.onMixLoad){var e=n.onMixLoad.call(this,n);n=e?e:n}},n.transitionSpeed)},10),n.filter=n.showOnLoad,e(n.sortSelector).bind(n.buttonEvent,function(){if(!n.mixing){var t=e(this),o=t.attr("data-sort"),r=t.attr("data-order");if(t.hasClass("active")){if("random"!=o)return!1}else e(n.sortSelector).removeClass("active"),t.addClass("active");s.find(n.targetSelector).each(function(){n.startOrder.push(e(this))}),i(n.filter,o,r,s,n)}}),e(n.filterSelector).bind(n.buttonEvent,function(){if(!n.mixing){var t=e(this);if(0==n.multiFilter)e(n.filterSelector).removeClass("active"),t.addClass("active"),n.filter=t.attr("data-filter"),e(n.filterSelector+'[data-filter="'+n.filter+'"]').addClass("active");else{var o=t.attr("data-filter");t.hasClass("active")?(t.removeClass("active"),n.filter=n.filter.replace(RegExp("(\\s|^)"+o),"")):(t.addClass("active"),n.filter=n.filter+" "+o)}i(n.filter,null,null,s,n)}})})},toGrid:function(){return this.each(function(){var t=this.config;"grid"!=t.layoutMode&&(t.layoutMode="grid",i(t.filter,null,null,e(this),t))})},toList:function(){return this.each(function(){var t=this.config;"list"!=t.layoutMode&&(t.layoutMode="list",i(t.filter,null,null,e(this),t))})},filter:function(t){return this.each(function(){var o=this.config;o.mixing||(e(o.filterSelector).removeClass("active"),e(o.filterSelector+'[data-filter="'+t+'"]').addClass("active"),i(t,null,null,e(this),o))})},sort:function(t){return this.each(function(){var o=this.config,n=e(this);if(!o.mixing){if(e(o.sortSelector).removeClass("active"),e.isArray(t)){var r=t[0],s=t[1];e(o.sortSelector+'[data-sort="'+t[0]+'"][data-order="'+t[1]+'"]').addClass("active")}else e(o.sortSelector+'[data-sort="'+t+'"]').addClass("active"),r=t,s="desc";n.find(o.targetSelector).each(function(){o.startOrder.push(e(this))}),i(o.filter,r,s,n,o)}})},multimix:function(t){return this.each(function(){var o=this.config,n=e(this);multiOut={filter:o.filter,sort:null,order:"desc",layoutMode:o.layoutMode},e.extend(multiOut,t),o.mixing||(e(o.filterSelector).add(o.sortSelector).removeClass("active"),e(o.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),"undefined"!=typeof multiOut.sort&&(e(o.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),n.find(o.targetSelector).each(function(){o.startOrder.push(e(this))})),o.layoutMode=multiOut.layoutMode,i(multiOut.filter,multiOut.sort,multiOut.order,n,o))})},remix:function(t){return this.each(function(){var o=this.config,n=e(this);o.origOrder=[],n.find(o.targetSelector).each(function(){var t=e(this);t.addClass("mix_all"),o.origOrder.push(t)}),!o.mixing&&"undefined"!=typeof t&&(e(o.filterSelector).removeClass("active"),e(o.filterSelector+'[data-filter="'+t+'"]').addClass("active"),i(t,null,null,n,o))})}};e.fn.mixitup=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void 0:r.init.apply(this,arguments)},e.fn.removeStyle=function(t){return this.each(function(){var i=e(this);t=t.replace(/\s+/g,"");var o=t.split(",");e.each(o,function(){var e=RegExp(this.toString()+"[^;]+;?","g");i.attr("style",function(t,i){return i?i.replace(e,""):void 0})})})}}(jQuery),function(e){"use strict";e.fn.djax=function(i,o,n){if(!history.pushState)return e(this);var r=this,s=i,a=o&&o.length?o:[],l=n?n:e.fn.replaceWith;t.history.replaceState({url:t.location.href,title:e("title").text()},e("title").text(),t.location.href),r.clearDjaxing=function(){r.djaxing=!1},r.attachClick=function(i,o){var n=e(i),s=!1;return e.each(a,function(e,i){-1!==n.attr("href").indexOf(i)&&(s=!0),-1!==t.location.href.indexOf(i)&&(s=!0)}),s?e(i):(o.preventDefault(),r.djaxing?(setTimeout(r.clearDjaxing,1e3),e(i)):(e(t).trigger("djaxClick",[i]),r.reqUrl=n.attr("href"),r.triggered=!1,r.navigate(n.attr("href"),!0),void 0))},r.navigate=function(i,o){var n=e(s);r.djaxing=!0,e(t).trigger("djaxLoading",[{url:i}]);var a=function(a){if(i!==r.reqUrl)return r.navigate(r.reqUrl,!1),!0;var c=e(a),d=e(c).find(s);o&&t.history.pushState({url:i,title:e(c).filter("title").text()},e(c).filter("title").text(),i),e("title").text(e(c).filter("title").text()),n.each(function(){var t="#"+e(this).attr("id"),i=d.filter(t),o=e(this);e("a",i).filter(function(){return this.hostname===location.hostname}).addClass("dJAX_internal").on("click",function(e){return r.attachClick(this,e)}),i.length?o.html()!==i.html()&&l.call(o,i):o.remove()}),e.each(d,function(){var t,i=e(this),o="#"+e(this).attr("id");e(o).length||(t=e(c).find(o).prev(),t.length?i.insertAfter("#"+t.attr("id")):i.prependTo("#"+i.parent().attr("id"))),e("a",i).filter(function(){return this.hostname===location.hostname}).addClass("dJAX_internal").on("click",function(e){return r.attachClick(this,e)})}),r.triggered||(e(t).trigger("djaxLoad",[{url:i,title:e(c).filter("title").text(),response:a}]),r.triggered=!0,r.djaxing=!1)};e.get(i,function(e){a(e)}).error(function(e){console.log("error",e),a(e.responseText)})},e(this).find("a").filter(function(){return this.hostname===location.hostname}).addClass("dJAX_internal").on("click",function(e){return r.attachClick(this,e)}),e(t).bind("popstate",function(e){r.triggered=!1,e.originalEvent.state&&(r.reqUrl=e.originalEvent.state.url,r.navigate(e.originalEvent.state.url,!1))})}}(jQuery,t),function(e){function i(i,o){var n,r,s=this,a=navigator.userAgent.toLowerCase();s.uid=e.rsModules.uid++,s.ns=".rs"+s.uid;var l=document.createElement("div").style,c=["webkit","Moz","ms","O"],d="",u=0;for(n=0;n<c.length;n++)r=c[n],!d&&r+"Transform"in l&&(d=r),r=r.toLowerCase(),t.requestAnimationFrame||(t.requestAnimationFrame=t[r+"RequestAnimationFrame"],t.cancelAnimationFrame=t[r+"CancelAnimationFrame"]||t[r+"CancelRequestAnimationFrame"]);t.requestAnimationFrame||(t.requestAnimationFrame=function(e){var i=(new Date).getTime(),o=Math.max(0,16-(i-u)),n=t.setTimeout(function(){e(i+o)},o);return u=i+o,n}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){clearTimeout(e)}),s.isIPAD=a.match(/(ipad)/),c=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],n=c[1]||"",r=c[2]||"0",c={},n&&(c[n]=!0,c.version=r),c.chrome&&(c.webkit=!0),s._a=c,s.isAndroid=-1<a.indexOf("android"),s.slider=e(i),s.ev=e(s),s._b=e(document),s.st=e.extend({},e.fn.royalSlider.defaults,o),s._c=s.st.transitionSpeed,s._d=0,!s.st.allowCSS3||c.webkit&&!s.st.allowCSS3OnWebkit||(a=d+(d?"T":"t"),s._e=a+"ransform"in l&&a+"ransition"in l,s._e&&(s._f=d+(d?"P":"p")+"erspective"in l)),d=d.toLowerCase(),s._g="-"+d+"-",s._h="vertical"===s.st.slidesOrientation?!1:!0,s._i=s._h?"left":"top",s._j=s._h?"width":"height",s._k=-1,s._l="fade"===s.st.transitionType?!1:!0,s._l||(s.st.sliderDrag=!1,s._m=10),s._n="z-index:0; display:none; opacity:0;",s._o=0,s._p=0,s._q=0,e.each(e.rsModules,function(e,t){"uid"!==e&&t.call(s)}),s.slides=[],s._r=0,(s.st.slides?e(s.st.slides):s.slider.children().detach()).each(function(){s._s(this,!0)}),s.st.randomizeSlides&&s.slides.sort(function(){return.5-Math.random()}),s.numSlides=s.slides.length,s._t(),s.st.startSlideId?s.st.startSlideId>s.numSlides-1&&(s.st.startSlideId=s.numSlides-1):s.st.startSlideId=0,s._o=s.staticSlideId=s.currSlideId=s._u=s.st.startSlideId,s.currSlide=s.slides[s.currSlideId],s._v=0,s.msTouch=!1,s.slider.addClass((s._h?"rsHor":"rsVer")+(s._l?"":" rsFade")),l='<div class="rsOverflow"><div class="rsContainer">',s.slidesSpacing=s.st.slidesSpacing,s._w=(s._h?s.slider.width():s.slider.height())+s.st.slidesSpacing,s._x=Boolean(0<s._y),1>=s.numSlides&&(s._z=!1),s._a1=s._z&&s._l?2===s.numSlides?1:2:0,s._b1=6>s.numSlides?s.numSlides:6,s._c1=0,s._d1=0,s.slidesJQ=[];for(n=0;n<s.numSlides;n++)s.slidesJQ.push(e('<div style="'+(s._l?"":n!==s.currSlideId?s._n:"z-index:0;")+'" class="rsSlide "></div>'));s._e1=l=e(l+"</div></div>"),d=s.ns,s.msEnabled=t.navigator.msPointerEnabled,s.msEnabled?(s.msTouch=Boolean(1<t.navigator.msMaxTouchPoints),s.hasTouch=!1,s._n1=.2,s._j1="MSPointerDown"+d,s._k1="MSPointerMove"+d,s._l1="MSPointerUp"+d,s._m1="MSPointerCancel"+d):(s._j1="mousedown"+d,s._k1="mousemove"+d,s._l1="mouseup"+d,s._m1="mouseup"+d,"ontouchstart"in t||"createTouch"in document?(s.hasTouch=!0,s._j1+=" touchstart"+d,s._k1+=" touchmove"+d,s._l1+=" touchend"+d,s._m1+=" touchcancel"+d,s._n1=.5,s.st.sliderTouch&&(s._f1=!0)):(s.hasTouch=!1,s._n1=.2)),s.st.sliderDrag&&(s._f1=!0,c.msie||c.opera?s._g1=s._h1="move":c.mozilla?(s._g1="-moz-grab",s._h1="-moz-grabbing"):c.webkit&&-1!=navigator.platform.indexOf("Mac")&&(s._g1="-webkit-grab",s._h1="-webkit-grabbing"),s._i1()),s.slider.html(l),s._o1=s.st.controlsInside?s._e1:s.slider,s._p1=s._e1.children(".rsContainer"),s.msEnabled&&s._p1.css("-ms-touch-action",s._h?"pan-y":"pan-x"),s._q1=e('<div class="rsPreloader"></div>'),l=s._p1.children(".rsSlide"),s._r1=s.slidesJQ[s.currSlideId],s._s1=0,s._e?(s._t1="transition-property",s._u1="transition-duration",s._v1="transition-timing-function",s._w1=s._x1=s._g+"transform",s._f?(c.webkit&&!c.chrome&&s.slider.addClass("rsWebkit3d"),/iphone|ipad|ipod/gi.test(navigator.appVersion),s._y1="translate3d(",s._z1="px, ",s._a2="px, 0px)"):(s._y1="translate(",s._z1="px, ",s._a2="px)"),s._l?s._p1[s._g+s._t1]=s._g+"transform":(d={},d[s._g+s._t1]="opacity",d[s._g+s._u1]=s.st.transitionSpeed+"ms",d[s._g+s._v1]=s.st.css3easeInOut,l.css(d))):(s._x1="left",s._w1="top");var h;e(t).on("resize"+s.ns,function(){h&&clearTimeout(h),h=setTimeout(function(){s.updateSliderSize()},50)}),s.ev.trigger("rsAfterPropsSetup"),s.updateSliderSize(),s.st.keyboardNavEnabled&&s._b2(),s.st.arrowsNavHideOnTouch&&(s.hasTouch||s.msTouch)&&(s.st.arrowsNav=!1),s.st.arrowsNav&&(l=s._o1,e('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(l),s._c2=l.children(".rsArrowLeft").click(function(e){e.preventDefault(),s.prev()}),s._d2=l.children(".rsArrowRight").click(function(e){e.preventDefault(),s.next()}),s.st.arrowsNavAutoHide&&!s.hasTouch&&(s._c2.addClass("rsHidden"),s._d2.addClass("rsHidden"),l.one("mousemove.arrowshover",function(){s._c2.removeClass("rsHidden"),s._d2.removeClass("rsHidden")}),l.hover(function(){s._e2||(s._c2.removeClass("rsHidden"),s._d2.removeClass("rsHidden"))},function(){s._e2||(s._c2.addClass("rsHidden"),s._d2.addClass("rsHidden"))})),s.ev.on("rsOnUpdateNav",function(){s._f2()}),s._f2()),s._f1?s._p1.on(s._j1,function(e){s._g2(e)}):s.dragSuccess=!1;var p=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];s._p1.click(function(t){if(!s.dragSuccess){var i=e(t.target).attr("class");if(-1!==e.inArray(i,p)&&s.toggleVideo())return!1;if(s.st.navigateByClick&&!s._h2){if(e(t.target).closest(".rsNoDrag",s._r1).length)return!0;s._i2(t)}s.ev.trigger("rsSlideClick")}}).on("click.rs","a",function(){return s.dragSuccess?!1:(s._h2=!0,setTimeout(function(){s._h2=!1},3),void 0)}),s.ev.trigger("rsAfterInit")}e.rsModules||(e.rsModules={uid:0}),i.prototype={constructor:i,_i2:function(e){e=e[this._h?"pageX":"pageY"]-this._j2,e>=this._q?this.next():0>e&&this.prev()},_t:function(){var e;e=this.st.numImagesToPreload,(this._z=this.st.loop)&&(2===this.numSlides?(this._z=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._z=!1)),this._z&&e>0&&(4>=this.numSlides?e=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(e=Math.floor((this.numSlides-1)/2))),this._y=e},_s:function(t,i){function o(e,t){if(t?a.images.push(e.attr(t)):a.images.push(e.text()),l){l=!1,a.caption="src"===t?e.attr("alt"):e.contents(),a.image=a.images[0],a.videoURL=e.attr("data-rsVideo");var i=e.attr("data-rsw"),o=e.attr("data-rsh");"undefined"!=typeof i&&!1!==i&&"undefined"!=typeof o&&!1!==o?(a.iW=parseInt(i,10),a.iH=parseInt(o,10)):s.st.imgWidth&&s.st.imgHeight&&(a.iW=s.st.imgWidth,a.iH=s.st.imgHeight)}}var n,r,s=this,a={},l=!0;return t=e(t),s._k2=t,s.ev.trigger("rsBeforeParseNode",[t,a]),a.stopParsing?void 0:(t=s._k2,a.id=s._r,a.contentAdded=!1,s._r++,a.images=[],a.isBig=!1,a.hasCover||(t.hasClass("rsImg")?(r=t,n=!0):(r=t.find(".rsImg"),r.length&&(n=!0)),n?(a.bigImage=r.eq(0).attr("data-rsBigImg"),r.each(function(){var t=e(this);t.is("a")?o(t,"href"):t.is("img")?o(t,"src"):o(t)})):t.is("img")&&(t.addClass("rsImg rsMainSlideImage"),o(t,"src"))),r=t.find(".rsCaption"),r.length&&(a.caption=r.remove()),a.content=t,s.ev.trigger("rsAfterParseNode",[t,a]),i&&s.slides.push(a),0===a.images.length&&(a.isLoaded=!0,a.isRendered=!1,a.isLoading=!1,a.images=null),a)},_b2:function(){var e,t,i=this,o=function(e){37===e?i.prev():39===e&&i.next()};i._b.on("keydown"+i.ns,function(n){i._l2||(t=n.keyCode,37!==t&&39!==t||e)||(o(t),e=setInterval(function(){o(t)},700))}).on("keyup"+i.ns,function(){e&&(clearInterval(e),e=null)})},goTo:function(e,t){e!==this.currSlideId&&this._m2(e,this.st.transitionSpeed,!0,!t)},destroy:function(i){this.ev.trigger("rsBeforeDestroy"),this._b.off("keydown"+this.ns+" keyup"+this.ns+" "+this._k1+" "+this._l1),this._p1.off(this._j1+" click"),this.slider.data("royalSlider",null),e.removeData(this.slider,"royalSlider"),e(t).off("resize"+this.ns),i&&this.slider.remove(),this.ev=this.slider=this.slides=null},_n2:function(t,i){function o(i,o,s){i.isAdded?(n(o,i),r(o,i)):(s||(s=c.slidesJQ[o]),i.holder?s=i.holder:(s=c.slidesJQ[o]=e(s),i.holder=s),i.appendOnLoaded=!1,r(o,i,s),n(o,i),c._p2(i,s,t),i.isAdded=!0)}function n(e,i){i.contentAdded||(c.setItemHtml(i,t),t||(i.contentAdded=!0))}function r(e,t,i){c._l&&(i||(i=c.slidesJQ[e]),i.css(c._i,(e+c._d1+h)*c._w))}function s(e){if(d){if(e>u-1)return s(e-u);if(0>e)return s(u+e)}return e}var a,l,c=this,d=c._z,u=c.numSlides;if(!isNaN(i))return s(i);var h,p,f=c.currSlideId,m=t?Math.abs(c._o2-c.currSlideId)>=c.numSlides-1?0:1:c._y,g=Math.min(2,m),v=!1,y=!1;for(l=f;f+1+g>l;l++)if(p=s(l),(a=c.slides[p])&&(!a.isAdded||!a.positionSet)){v=!0;break}for(l=f-1;l>f-1-g;l--)if(p=s(l),(a=c.slides[p])&&(!a.isAdded||!a.positionSet)){y=!0;break}if(v)for(l=f;f+m+1>l;l++)p=s(l),h=Math.floor((c._u-(f-l))/c.numSlides)*c.numSlides,(a=c.slides[p])&&o(a,p);if(y)for(l=f-1;l>f-1-m;l--)p=s(l),h=Math.floor((c._u-(f-l))/u)*u,(a=c.slides[p])&&o(a,p);if(!t)for(g=s(f-m),f=s(f+m),m=g>f?0:g,l=0;u>l;l++)g>f&&l>g-1||!(m>l||l>f)||(a=c.slides[l])&&a.holder&&(a.holder.detach(),a.isAdded=!1)},setItemHtml:function(t,i){var o=this,n=function(){if(t.images){if(!t.isLoading){var i,n;if(t.content.hasClass("rsImg")?(i=t.content,n=!0):i=t.content.find(".rsImg:not(img)"),i&&!i.is("img")&&i.each(function(){var i=e(this),o='<img class="rsImg" src="'+(i.is("a")?i.attr("href"):i.text())+'" />';n?t.content=e(o):i.replaceWith(o)}),i=n?t.content:t.content.find("img.rsImg"),c(),i.eq(0).addClass("rsMainSlideImage"),t.iW&&t.iH&&(t.isLoaded||o._q2(t),a()),t.isLoading=!0,t.isBig)e("<img />").on("load.rs error.rs",function(){e(this).off("load.rs error.rs"),r([this],!0)}).attr("src",t.image);else{t.loaded=[],t.numStartedLoad=0,i=function(){e(this).off("load.rs error.rs"),t.loaded.push(this),t.loaded.length===t.numStartedLoad&&r(t.loaded,!1)};for(var s=0;s<t.images.length;s++){var l=e("<img />");t.numStartedLoad++,l.on("load.rs error.rs",i).attr("src",t.images[s])}}}}else t.isRendered=!0,t.isLoaded=!0,t.isLoading=!1,a(!0)},r=function(e,i){if(e.length){var o=e[0];if(i!==t.isBig)(o=t.holder.children())&&1<o.length&&d();else if(t.iW&&t.iH)s();else if(t.iW=o.width,t.iH=o.height,t.iW&&t.iH)s();else{var n=new Image;n.onload=function(){n.width?(t.iW=n.width,t.iH=n.height,s()):setTimeout(function(){n.width&&(t.iW=n.width,t.iH=n.height),s()},1e3)},n.src=o.src}}else s()},s=function(){t.isLoaded=!0,t.isLoading=!1,a(),d(),l()},a=function(){if(!t.isAppended&&o.ev){var e=o.st.visibleNearby,n=t.id-o._o;i||t.appendOnLoaded||!o.st.fadeinLoadedSlide||0!==n&&(!(e||o._r2||o._l2)||-1!==n&&1!==n)||(e={visibility:"visible",opacity:0},e[o._g+"transition"]="opacity 400ms ease-in-out",t.content.css(e),setTimeout(function(){t.content.css("opacity",1)},16)),t.holder.find(".rsPreloader").length?t.holder.append(t.content):t.holder.html(t.content),t.isAppended=!0,t.isLoaded&&(o._q2(t),l()),t.sizeReady||(t.sizeReady=!0,setTimeout(function(){o.ev.trigger("rsMaybeSizeReady",t)
},100))}},l=function(){!t.loadedTriggered&&o.ev&&(t.isLoaded=t.loadedTriggered=!0,t.holder.trigger("rsAfterContentSet"),o.ev.trigger("rsAfterContentSet",t))},c=function(){o.st.usePreloader&&t.holder.html(o._q1.clone())},d=function(){if(o.st.usePreloader){var e=t.holder.find(".rsPreloader");e.length&&e.remove()}};t.isLoaded?a():i?!o._l&&t.images&&t.iW&&t.iH?n():(t.holder.isWaiting=!0,c(),t.holder.slideId=-99):n()},_p2:function(e){this._p1.append(e.holder),e.appendOnLoaded=!1},_g2:function(t,i){var o,n=this,r="touchstart"===t.type;if(n._s2=r,n.ev.trigger("rsDragStart"),e(t.target).closest(".rsNoDrag",n._r1).length)return n.dragSuccess=!1,!0;if(!i&&n._r2&&(n._t2=!0,n._u2()),n.dragSuccess=!1,n._l2)r&&(n._v2=!0);else{if(r&&(n._v2=!1),n._w2(),r){var s=t.originalEvent.touches;if(!(s&&0<s.length))return;o=s[0],1<s.length&&(n._v2=!0)}else t.preventDefault(),o=t,n.msEnabled&&(o=o.originalEvent);n._l2=!0,n._b.on(n._k1,function(e){n._x2(e,i)}).on(n._l1,function(e){n._y2(e,i)}),n._z2="",n._a3=!1,n._b3=o.pageX,n._c3=o.pageY,n._d3=n._v=(i?n._e3:n._h)?o.pageX:o.pageY,n._f3=0,n._g3=0,n._h3=i?n._i3:n._p,n._j3=(new Date).getTime(),r&&n._e1.on(n._m1,function(e){n._y2(e,i)})}},_k3:function(e,t){if(this._l3){var i=this._m3,o=e.pageX-this._b3,n=e.pageY-this._c3,r=this._h3+o,s=this._h3+n,a=t?this._e3:this._h,r=a?r:s,s=this._z2;this._a3=!0,this._b3=e.pageX,this._c3=e.pageY,"x"===s&&0!==o?this._f3=o>0?1:-1:"y"===s&&0!==n&&(this._g3=n>0?1:-1),s=a?this._b3:this._c3,o=a?o:n,t?r>this._n3?r=this._h3+o*this._n1:r<this._o3&&(r=this._h3+o*this._n1):this._z||(0>=this.currSlideId&&0<s-this._d3&&(r=this._h3+o*this._n1),this.currSlideId>=this.numSlides-1&&0>s-this._d3&&(r=this._h3+o*this._n1)),this._h3=r,200<i-this._j3&&(this._j3=i,this._v=s),t?this._q3(this._h3):this._l&&this._p3(this._h3)}},_x2:function(e,t){var i,o=this,n="touchmove"===e.type;if(!o._s2||n){if(n){if(o._r3)return;var r=e.originalEvent.touches;if(!r)return;if(1<r.length)return;i=r[0]}else i=e,o.msEnabled&&(i=i.originalEvent);if(o._a3||(o._e&&(t?o._s3:o._p1).css(o._g+o._u1,"0s"),function s(){o._l2&&(o._t3=requestAnimationFrame(s),o._u3&&o._k3(o._u3,t))}()),o._l3)e.preventDefault(),o._m3=(new Date).getTime(),o._u3=i;else if(r=t?o._e3:o._h,i=Math.abs(i.pageX-o._b3)-Math.abs(i.pageY-o._c3)-(r?-7:7),i>7){if(r)e.preventDefault(),o._z2="x";else if(n)return o._v3(),void 0;o._l3=!0}else if(-7>i){if(r){if(n)return o._v3(),void 0}else e.preventDefault(),o._z2="y";o._l3=!0}}},_v3:function(){this._r3=!0,this._a3=this._l2=!1,this._y2()},_y2:function(t,i){function o(e){return 100>e?100:e>500?500:e}function n(e,t){(c._l||i)&&(a=(-c._u-c._d1)*c._w,l=Math.abs(c._p-a),c._c=l/t,e&&(c._c+=250),c._c=o(c._c),c._x3(a,!1))}var r,s,a,l,c=this;if(s="touchend"===t.type||"touchcancel"===t.type,!c._s2||s)if(c._s2=!1,c.ev.trigger("rsDragRelease"),c._u3=null,c._l2=!1,c._r3=!1,c._l3=!1,c._m3=0,cancelAnimationFrame(c._t3),c._a3&&(i?c._q3(c._h3):c._l&&c._p3(c._h3)),c._b.off(c._k1).off(c._l1),s&&c._e1.off(c._m1),c._i1(),!c._a3&&!c._v2&&i&&c._w3){var d=e(t.target).closest(".rsNavItem");d.length&&c.goTo(d.index())}else{if(r=i?c._e3:c._h,!c._a3||"y"===c._z2&&r||"x"===c._z2&&!r){if(i||!c._t2)return c._t2=!1,c.dragSuccess=!1,void 0;if(c._t2=!1,c.st.navigateByClick)return c._i2(c.msEnabled?t.originalEvent:t),c.dragSuccess=!0,void 0;c.dragSuccess=!0}else c.dragSuccess=!0;c._t2=!1,c._z2="";var u=c.st.minSlideOffset;s=s?t.originalEvent.changedTouches[0]:c.msEnabled?t.originalEvent:t;var h=r?s.pageX:s.pageY,p=c._d3;s=c._v;var f=c.currSlideId,m=c.numSlides,g=r?c._f3:c._g3,v=c._z;if(Math.abs(h-p),r=h-s,s=(new Date).getTime()-c._j3,s=Math.abs(r)/s,0===g||1>=m)n(!0,s);else{if(!v&&!i)if(0>=f){if(g>0)return n(!0,s),void 0}else if(f>=m-1&&0>g)return n(!0,s),void 0;if(i){if(a=c._i3,a>c._n3)a=c._n3;else if(a<c._o3)a=c._o3;else{if(u=s*s/.006,d=-c._i3,h=c._y3-c._z3+c._i3,r>0&&u>d?(d+=c._z3/(15/(.003*(u/s))),s=s*d/u,u=d):0>r&&u>h&&(h+=c._z3/(15/(.003*(u/s))),s=s*h/u,u=h),d=Math.max(Math.round(s/.003),50),a+=u*(0>r?-1:1),a>c._n3)return c._a4(a,d,!0,c._n3,200),void 0;if(a<c._o3)return c._a4(a,d,!0,c._o3,200),void 0}c._a4(a,d,!0)}else h>p+u?0>g?n(!1,s):c._m2("prev",o(Math.abs(c._p-(-c._u-c._d1+1)*c._w)/s),!1,!0,!0):p-u>h?g>0?n(!1,s):c._m2("next",o(Math.abs(c._p-(-c._u-c._d1-1)*c._w)/s),!1,!0,!0):n(!1,s)}}},_p3:function(e){e=this._p=e,this._e?this._p1.css(this._x1,this._y1+(this._h?e+this._z1+0:0+this._z1+e)+this._a2):this._p1.css(this._h?this._x1:this._w1,e)},updateSliderSize:function(e){var t,i;if(this.st.autoScaleSlider){var o=this.st.autoScaleSliderWidth,n=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(t=this.slider.width(),t!=this.width&&(this.slider.css("height",t*(n/o)),t=this.slider.width()),i=this.slider.height()):(i=this.slider.height(),i!=this.height&&(this.slider.css("width",i*(o/n)),i=this.slider.height()),t=this.slider.width())}else t=this.slider.width(),i=this.slider.height();if(e||t!=this.width||i!=this.height){for(this.width=t,this.height=i,this._b4=t,this._c4=i,this.ev.trigger("rsBeforeSizeSet"),this.ev.trigger("rsAfterSizePropSet"),this._e1.css({width:this._b4,height:this._c4}),this._w=(this._h?this._b4:this._c4)+this.st.slidesSpacing,this._d4=this.st.imageScalePadding,t=0;t<this.slides.length;t++)e=this.slides[t],e.positionSet=!1,e&&e.images&&e.isLoaded&&(e.isRendered=!1,this._q2(e));if(this._e4)for(t=0;t<this._e4.length;t++)e=this._e4[t],e.holder.css(this._i,(e.id+this._d1)*this._w);this._n2(),this._l&&(this._e&&this._p1.css(this._g+"transition-duration","0s"),this._p3((-this._u-this._d1)*this._w)),this.ev.trigger("rsOnUpdateNav")}this._j2=this._e1.offset(),this._j2=this._j2[this._i]},appendSlide:function(e,t){var i=this._s(e);(isNaN(t)||t>this.numSlides)&&(t=this.numSlides),this.slides.splice(t,0,i),this.slidesJQ.splice(t,0,'<div style="'+(this._l?"position:absolute;":this._n)+'" class="rsSlide"></div>'),t<this.currSlideId&&this.currSlideId++,this.ev.trigger("rsOnAppendSlide",[i,t]),this._f4(t),t===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(e){var t=this.slides[e];t&&(t.holder&&t.holder.remove(),e<this.currSlideId&&this.currSlideId--,this.slides.splice(e,1),this.slidesJQ.splice(e,1),this.ev.trigger("rsOnRemoveSlide",[e]),this._f4(e),e===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_f4:function(){var e=this,t=e.numSlides,t=0>=e._u?0:Math.floor(e._u/t);for(e.numSlides=e.slides.length,0===e.numSlides?(e.currSlideId=e._d1=e._u=0,e.currSlide=e._g4=null):e._u=t*e.numSlides+e.currSlideId,t=0;t<e.numSlides;t++)e.slides[t].id=t;e.currSlide=e.slides[e.currSlideId],e._r1=e.slidesJQ[e.currSlideId],e.currSlideId>=e.numSlides?e.goTo(e.numSlides-1):0>e.currSlideId&&e.goTo(0),e._t(),e._l&&e._z&&e._p1.css(e._g+e._u1,"0ms"),e._h4&&clearTimeout(e._h4),e._h4=setTimeout(function(){e._l&&e._p3((-e._u-e._d1)*e._w),e._n2(),e._l||e._r1.css({display:"block",opacity:1})},14),e.ev.trigger("rsOnUpdateNav")},_i1:function(){this._f1&&this._l&&(this._g1?this._e1.css("cursor",this._g1):(this._e1.removeClass("grabbing-cursor"),this._e1.addClass("grab-cursor")))},_w2:function(){this._f1&&this._l&&(this._h1?this._e1.css("cursor",this._h1):(this._e1.removeClass("grab-cursor"),this._e1.addClass("grabbing-cursor")))},next:function(e){this._m2("next",this.st.transitionSpeed,!0,!e)},prev:function(e){this._m2("prev",this.st.transitionSpeed,!0,!e)},_m2:function(e,t,i,o,n){var r,s,a,l=this;if(l.ev.trigger("rsBeforeMove",[e,o]),a="next"===e?l.currSlideId+1:"prev"===e?l.currSlideId-1:e=parseInt(e,10),!l._z){if(0>a)return l._i4("left",!o),void 0;if(a>=l.numSlides)return l._i4("right",!o),void 0}l._r2&&(l._u2(!0),i=!1),s=a-l.currSlideId,a=l._o2=l.currSlideId;var c=l.currSlideId+s;o=l._u;var d;l._z?(c=l._n2(!1,c),o+=s):o=c,l._o=c,l._g4=l.slidesJQ[l.currSlideId],l._u=o,l.currSlideId=l._o,l.currSlide=l.slides[l.currSlideId],l._r1=l.slidesJQ[l.currSlideId];var c=l.st.slidesDiff,u=Boolean(s>0);s=Math.abs(s);var h=Math.floor(a/l._y),p=Math.floor((a+(u?c:-c))/l._y),h=(u?Math.max(h,p):Math.min(h,p))*l._y+(u?l._y-1:0);if(h>l.numSlides-1?h=l.numSlides-1:0>h&&(h=0),a=u?h-a:a-h,a>l._y&&(a=l._y),s>a+c)for(l._d1+=(s-(a+c))*(u?-1:1),t*=1.4,a=0;a<l.numSlides;a++)l.slides[a].positionSet=!1;l._c=t,l._n2(!0),n||(d=!0),r=(-o-l._d1)*l._w,d?setTimeout(function(){l._j4=!1,l._x3(r,e,!1,i),l.ev.trigger("rsOnUpdateNav")},0):(l._x3(r,e,!1,i),l.ev.trigger("rsOnUpdateNav"))},_f2:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._c2.css("display","none"),this._d2.css("display","none")):(this._c2.css("display","block"),this._d2.css("display","block"),!this._z&&!this.st.loopRewind&&(0===this.currSlideId?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._d2.addClass("rsArrowDisabled"):this._d2.removeClass("rsArrowDisabled"))))},_x3:function(t,i,o,n,r){function s(){var e;a&&(e=a.data("rsTimeout"))&&(a!==l&&a.css({opacity:0,display:"none",zIndex:0}),clearTimeout(e),a.data("rsTimeout","")),(e=l.data("rsTimeout"))&&(clearTimeout(e),l.data("rsTimeout",""))}var a,l,c=this,d={};isNaN(c._c)&&(c._c=400),c._p=c._h3=t,c.ev.trigger("rsBeforeAnimStart"),c._e?c._l?(c._c=parseInt(c._c,10),o=c._g+c._v1,d[c._g+c._u1]=c._c+"ms",d[o]=n?e.rsCSS3Easing[c.st.easeInOut]:e.rsCSS3Easing[c.st.easeOut],c._p1.css(d),n||!c.hasTouch?setTimeout(function(){c._p3(t)},5):c._p3(t)):(c._c=c.st.transitionSpeed,a=c._g4,l=c._r1,l.data("rsTimeout")&&l.css("opacity",0),s(),a&&a.data("rsTimeout",setTimeout(function(){d[c._g+c._u1]="0ms",d.zIndex=0,d.display="none",a.data("rsTimeout",""),a.css(d),setTimeout(function(){a.css("opacity",0)},16)},c._c+60)),d.display="block",d.zIndex=c._m,d.opacity=0,d[c._g+c._u1]="0ms",d[c._g+c._v1]=e.rsCSS3Easing[c.st.easeInOut],l.css(d),l.data("rsTimeout",setTimeout(function(){l.css(c._g+c._u1,c._c+"ms"),l.data("rsTimeout",setTimeout(function(){l.css("opacity",1),l.data("rsTimeout","")},20))},20))):c._l?(d[c._h?c._x1:c._w1]=t+"px",c._p1.animate(d,c._c,n?c.st.easeInOut:c.st.easeOut)):(a=c._g4,l=c._r1,l.stop(!0,!0).css({opacity:0,display:"block",zIndex:c._m}),c._c=c.st.transitionSpeed,l.animate({opacity:1},c._c,c.st.easeInOut),s(),a&&a.data("rsTimeout",setTimeout(function(){a.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},c._c+60))),c._r2=!0,c.loadingTimeout&&clearTimeout(c.loadingTimeout),c.loadingTimeout=r?setTimeout(function(){c.loadingTimeout=null,r.call()},c._c+60):setTimeout(function(){c.loadingTimeout=null,c._k4(i)},c._c+60)},_u2:function(e){if(this._r2=!1,clearTimeout(this.loadingTimeout),this._l)if(this._e){if(!e){e=this._p;var t=this._h3=this._l4();this._p1.css(this._g+this._u1,"0ms"),e!==t&&this._p3(t)}}else this._p1.stop(!0),this._p=parseInt(this._p1.css(this._x1),10);else 20<this._m?this._m=10:this._m++},_l4:function(){var e=t.getComputedStyle(this._p1.get(0),null).getPropertyValue(this._g+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),i=0===e[0].indexOf("matrix3d");return parseInt(e[this._h?i?12:4:i?13:5],10)},_m4:function(e,t){return this._e?this._y1+(t?e+this._z1+0:0+this._z1+e)+this._a2:e},_k4:function(){this._l||(this._r1.css("z-index",0),this._m=10),this._r2=!1,this.staticSlideId=this.currSlideId,this._n2(),this._n4=!1,this.ev.trigger("rsAfterSlideChange")},_i4:function(e,t){var i=this,o=(-i._u-i._d1)*i._w;if(0!==i.numSlides&&!i._r2)if(i.st.loopRewind)i.goTo("left"===e?i.numSlides-1:0,t);else if(i._l){i._c=200;var n=function(){i._r2=!1};i._x3(o+("left"===e?30:-30),"",!1,!0,function(){i._r2=!1,i._x3(o,"",!1,!0,n)})}},_q2:function(e){if(!e.isRendered){var t,i,o=e.content,n="rsMainSlideImage",r=this.st.imageAlignCenter,s=this.st.imageScaleMode;if(e.videoURL&&(n="rsVideoContainer","fill"!==s?t=!0:(i=o,i.hasClass(n)||(i=i.find("."+n)),i.css({width:"100%",height:"100%"}),n="rsMainSlideImage")),o.hasClass(n)||(o=o.find("."+n)),o){var a=e.iW,n=e.iH;if(e.isRendered=!0,"none"!==s||r){e="fill"!==s?this._d4:0,i=this._b4-2*e;var l,c,d=this._c4-2*e,u={};"fit-if-smaller"===s&&(a>i||n>d)&&(s="fit"),("fill"===s||"fit"===s)&&(l=i/a,c=d/n,l="fill"==s?l>c?l:c:"fit"==s?c>l?l:c:1,a=Math.ceil(a*l,10),n=Math.ceil(n*l,10)),"none"!==s&&(u.width=a,u.height=n,t&&o.find(".rsImg").css({width:"100%",height:"100%"})),r&&(u.marginLeft=Math.floor((i-a)/2)+e,u.marginTop=Math.floor((d-n)/2)+e),o.css(u)}}}}},e.rsProto=i.prototype,e.fn.royalSlider=function(t){var o=arguments;return this.each(function(){var n=e(this);if("object"!=typeof t&&t){if((n=n.data("royalSlider"))&&n[t])return n[t].apply(n,Array.prototype.slice.call(o,1))}else n.data("royalSlider")||n.data("royalSlider",new i(n,t))})},e.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},e.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},e.extend(jQuery.easing,{easeInOutSine:function(e,t,i,o,n){return-o/2*(Math.cos(Math.PI*t/n)-1)+i},easeOutSine:function(e,t,i,o,n){return o*Math.sin(t/n*(Math.PI/2))+i},easeOutCubic:function(e,t,i,o,n){return o*((t=t/n-1)*t*t+1)+i}})}(jQuery,t),function(e){e.rsProto._o4=function(){var e,t=this;t.st.addActiveClass&&t.ev.on("rsOnUpdateNav",function(){e&&clearTimeout(e),e=setTimeout(function(){t._g4&&t._g4.removeClass("rsActiveSlide"),t._r1&&t._r1.addClass("rsActiveSlide"),e=null},50)})},e.rsModules.activeClass=e.rsProto._o4}(jQuery),function(e){e.extend(e.rsProto,{_p4:function(){function t(){var e=o.currSlide;if(o.currSlide&&o.currSlide.isLoaded&&o._t4!==e){if(0<o._s4.length){for(i=0;i<o._s4.length;i++)clearTimeout(o._s4[i]);o._s4=[]}if(0<o._r4.length){var t;for(i=0;i<o._r4.length;i++)(t=o._r4[i])&&(o._e?(t.block.css(o._g+o._u1,"0s"),t.block.css(t.css)):t.block.stop(!0).css(t.css),o._t4=null,e.animBlocksDisplayed=!1);o._r4=[]}e.animBlocks&&(e.animBlocksDisplayed=!0,o._t4=e,o._u4(e.animBlocks))}}var i,o=this;o._q4={fadeEffect:!0,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200},o.st.block=e.extend({},o._q4,o.st.block),o._r4=[],o._s4=[],o.ev.on("rsAfterInit",function(){t()}),o.ev.on("rsBeforeParseNode",function(t,i,o){i=e(i),o.animBlocks=i.find(".rsABlock").css("display","none"),o.animBlocks.length||(o.animBlocks=i.hasClass("rsABlock")?i.css("display","none"):!1)}),o.ev.on("rsAfterContentSet",function(e,i){i.id===o.slides[o.currSlideId].id&&setTimeout(function(){t()},o.st.fadeinLoadedSlide?300:0)}),o.ev.on("rsAfterSlideChange",function(){t()})},_v4:function(e,t){setTimeout(function(){e.css(t)},6)},_u4:function(t){var i,o,n,r,s,a,l,c=this;c._s4=[],t.each(function(t){i=e(this),o={},n={},r=null;var d=i.attr("data-move-offset"),d=d?parseInt(d,10):c.st.block.moveOffset;if(d>0&&((a=i.data("move-effect"))?(a=a.toLowerCase(),"none"===a?a=!1:"left"!==a&&"top"!==a&&"bottom"!==a&&"right"!==a&&(a=c.st.block.moveEffect,"none"===a&&(a=!1))):a=c.st.block.moveEffect,a&&"none"!==a)){var u;u="right"===a||"left"===a?!0:!1;var h;l=!1,c._e?(h=0,s=c._x1):(u?isNaN(parseInt(i.css("right"),10))?s="left":(s="right",l=!0):isNaN(parseInt(i.css("bottom"),10))?s="top":(s="bottom",l=!0),s="margin-"+s,l&&(d=-d),c._e?h=parseInt(i.css(s),10):(h=i.data("rs-start-move-prop"),void 0===h&&(h=parseInt(i.css(s),10),i.data("rs-start-move-prop",h)))),n[s]=c._m4("top"===a||"left"===a?h-d:h+d,u),o[s]=c._m4(h,u)}(d=i.attr("data-fade-effect"))?("none"===d.toLowerCase()||"false"===d.toLowerCase())&&(d=!1):d=c.st.block.fadeEffect,d&&(n.opacity=0,o.opacity=1),(d||a)&&(r={},r.hasFade=Boolean(d),Boolean(a)&&(r.moveProp=s,r.hasMove=!0),r.speed=i.data("speed"),isNaN(r.speed)&&(r.speed=c.st.block.speed),r.easing=i.data("easing"),r.easing||(r.easing=c.st.block.easing),r.css3Easing=e.rsCSS3Easing[r.easing],r.delay=i.data("delay"),isNaN(r.delay)&&(r.delay=c.st.block.delay*t)),d={},c._e&&(d[c._g+c._u1]="0ms"),d.moveProp=o.moveProp,d.opacity=o.opacity,d.display="none",c._r4.push({block:i,css:d}),c._v4(i,n),c._s4.push(setTimeout(function(e,t,i,o){return function(){if(e.css("display","block"),i){var n={};if(c._e){var r="";i.hasMove&&(r+=i.moveProp),i.hasFade&&(i.hasMove&&(r+=", "),r+="opacity"),n[c._g+c._t1]=r,n[c._g+c._u1]=i.speed+"ms",n[c._g+c._v1]=i.css3Easing,e.css(n),setTimeout(function(){e.css(t)},24)}else setTimeout(function(){e.animate(t,i.speed,i.easing)},16)}delete c._s4[o]}}(i,o,r,t),6>=r.delay?12:r.delay))})}}),e.rsModules.animatedBlocks=e.rsProto._p4}(jQuery),function(e){e.extend(e.rsProto,{_w4:function(){var e=this;if(e.st.autoHeight){var t,i,o,n=function(n){o=e.slides[e.currSlideId],(t=o.holder)&&(i=t.height())&&void 0!==i&&(e._c4=i,e._e||!n?e._e1.css("height",i):e._e1.stop(!0,!0).animate({height:i},e.st.transitionSpeed))};e.ev.on("rsMaybeSizeReady.rsAutoHeight",function(e,t){o===t&&n()}),e.ev.on("rsAfterContentSet.rsAutoHeight",function(e,t){o===t&&n()}),e.slider.addClass("rsAutoHeight"),e.ev.one("rsAfterInit",function(){setTimeout(function(){n(!1),setTimeout(function(){e.slider.append('<div style="clear:both; float: none;"></div>'),e._e&&e._e1.css(e._g+"transition","height "+e.st.transitionSpeed+"ms ease-in-out")},16)},16)}),e.ev.on("rsBeforeAnimStart",function(){n(!0)}),e.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){n(!1)},16)})}}}),e.rsModules.autoHeight=e.rsProto._w4}(jQuery),function(e){e.extend(e.rsProto,{_x4:function(){var i,o=this;o._y4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},!o.st.autoPlay&&o.st.autoplay&&(o.st.autoPlay=o.st.autoplay),o.st.autoPlay=e.extend({},o._y4,o.st.autoPlay),o.st.autoPlay.enabled&&(o.ev.on("rsBeforeParseNode",function(t,o,n){o=e(o),(i=o.attr("data-rsDelay"))&&(n.customDelay=parseInt(i,10))}),o.ev.one("rsAfterInit",function(){o._z4()}),o.ev.on("rsBeforeDestroy",function(){o.stopAutoPlay(),o.slider.off("mouseenter mouseleave"),e(t).off("blur"+o.ns+" focus"+o.ns)}))},_z4:function(){var i=this;i.startAutoPlay(),i.ev.on("rsAfterContentSet",function(e,t){!i._l2&&!i._r2&&i._a5&&t===i.currSlide&&i._b5()}),i.ev.on("rsDragRelease",function(){i._a5&&i._c5&&(i._c5=!1,i._b5())}),i.ev.on("rsAfterSlideChange",function(){i._a5&&i._c5&&(i._c5=!1,i.currSlide.isLoaded&&i._b5())}),i.ev.on("rsDragStart",function(){i._a5&&(i.st.autoPlay.stopAtAction?i.stopAutoPlay():(i._c5=!0,i._d5()))}),i.ev.on("rsBeforeMove",function(e,t,o){i._a5&&(o&&i.st.autoPlay.stopAtAction?i.stopAutoPlay():(i._c5=!0,i._d5()))}),i._e5=!1,i.ev.on("rsVideoStop",function(){i._a5&&(i._e5=!1,i._b5())}),i.ev.on("rsVideoPlay",function(){i._a5&&(i._c5=!1,i._d5(),i._e5=!0)}),e(t).on("blur"+i.ns,function(){i._a5&&(i._c5=!0,i._d5())}).on("focus"+i.ns,function(){i._a5&&i._c5&&(i._c5=!1,i._b5())}),i.st.autoPlay.pauseOnHover&&(i._f5=!1,i.slider.hover(function(){i._a5&&(i._c5=!1,i._d5(),i._f5=!0)},function(){i._a5&&(i._f5=!1,i._b5())}))},toggleAutoPlay:function(){this._a5?this.stopAutoPlay():this.startAutoPlay()},startAutoPlay:function(){this._a5=!0,this.currSlide.isLoaded&&this._b5()},stopAutoPlay:function(){this._e5=this._f5=this._c5=this._a5=!1,this._d5()},_b5:function(){var e=this;!e._f5&&!e._e5&&(e._g5=!0,e._h5&&clearTimeout(e._h5),e._h5=setTimeout(function(){var t;!e._z&&!e.st.loopRewind&&(t=!0,e.st.loopRewind=!0),e.next(!0),t&&(e.st.loopRewind=!1)},e.currSlide.customDelay?e.currSlide.customDelay:e.st.autoPlay.delay))},_d5:function(){!this._f5&&!this._e5&&(this._g5=!1,this._h5&&(clearTimeout(this._h5),this._h5=null))}}),e.rsModules.autoplay=e.rsProto._x4}(jQuery),function(e){e.extend(e.rsProto,{_i5:function(){var t=this;"bullets"===t.st.controlNavigation&&(t.ev.one("rsAfterPropsSetup",function(){t._j5=!0,t.slider.addClass("rsWithBullets");for(var i='<div class="rsNav rsBullets">',o=0;o<t.numSlides;o++)i+='<div class="rsNavItem rsBullet"><span></span></div>';t._k5=i=e(i+"</div>"),t._l5=i.appendTo(t.slider).children(),t._k5.on("click.rs",".rsNavItem",function(){t._m5||t.goTo(e(this).index())})}),t.ev.on("rsOnAppendSlide",function(e,i,o){o>=t.numSlides?t._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):t._l5.eq(o).before('<div class="rsNavItem rsBullet"><span></span></div>'),t._l5=t._k5.children()}),t.ev.on("rsOnRemoveSlide",function(e,i){var o=t._l5.eq(i);o&&o.length&&(o.remove(),t._l5=t._k5.children())}),t.ev.on("rsOnUpdateNav",function(){var e=t.currSlideId;t._n5&&t._n5.removeClass("rsNavSelected"),e=t._l5.eq(e),e.addClass("rsNavSelected"),t._n5=e}))}}),e.rsModules.bullets=e.rsProto._i5}(jQuery),function(e){e.extend(e.rsProto,{_o5:function(){var i,o,n,r=this;if(r._p5={enabled:!1,change:!1,prefix:""},r.st.deeplinking=e.extend({},r._p5,r.st.deeplinking),r.st.deeplinking.enabled){var s=r.st.deeplinking.change,a="#"+r.st.deeplinking.prefix,l=function(){var e=t.location.hash;return e&&(e=parseInt(e.substring(a.length),10),e>=0)?e-1:-1},c=l();-1!==c&&(r.st.startSlideId=c),s&&(e(t).on("hashchange"+r.ns,function(){if(!i){var e=l();0>e||(e>r.numSlides-1&&(e=r.numSlides-1),r.goTo(e))}}),r.ev.on("rsBeforeAnimStart",function(){o&&clearTimeout(o),n&&clearTimeout(n)}),r.ev.on("rsAfterSlideChange",function(){o&&clearTimeout(o),n&&clearTimeout(n),n=setTimeout(function(){i=!0,t.location.replace((""+t.location).split("#")[0]+a+(r.currSlideId+1)),o=setTimeout(function(){i=!1,o=null},60)},400)})),r.ev.on("rsBeforeDestroy",function(){o=n=null,s&&e(t).off("hashchange"+r.ns)})}}}),e.rsModules.deeplinking=e.rsProto._o5}(jQuery),function(e,t,i){function o(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var n,r=document,s=e.event.special,a=r.documentMode,l="onhashchange"in t&&(a===i||a>7);e.fn.hashchange=function(e){return e?this.bind("hashchange",e):this.trigger("hashchange")},e.fn.hashchange.delay=50,s.hashchange=e.extend(s.hashchange,{setup:function(){return l?!1:(e(n.start),void 0)},teardown:function(){return l?!1:(e(n.stop),void 0)}});var c,d=function(){var i=o(),n=p(u);i!==u?(h(u=i,n),e(t).trigger("hashchange")):n!==u&&(location.href=location.href.replace(/#.*/,"")+n),c=setTimeout(d,e.fn.hashchange.delay)},s={},u=o(),h=a=function(e){return e},p=a;if(s.start=function(){c||d()},s.stop=function(){c&&clearTimeout(c),c=i},t.attachEvent&&!t.addEventListener&&!l){var f,m;s.start=function(){f||(m=(m=e.fn.hashchange.src)&&m+o(),f=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){m||h(o()),d()}).attr("src",m||"javascript:0").insertAfter("body")[0].contentWindow,r.onpropertychange=function(){try{"title"===event.propertyName&&(f.document.title=r.title)}catch(e){}})},s.stop=a,p=function(){return o(f.location.href)},h=function(t,i){var o=f.document,n=e.fn.hashchange.domain;t!==i&&(o.title=r.title,o.open(),n&&o.write('<script>document.domain="'+n+'"</script>'),o.close(),f.location.hash=t)}}n=s}(jQuery,this),function(e){e.extend(e.rsProto,{_q5:function(){var t=this;t._r5={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0},t.st.fullscreen=e.extend({},t._r5,t.st.fullscreen),t.st.fullscreen.enabled&&t.ev.one("rsBeforeSizeSet",function(){t._s5()})},_s5:function(){var t=this;if(t._t5=!t.st.keyboardNavEnabled&&t.st.fullscreen.keyboardNav,t.st.fullscreen.nativeFS){t._u5={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};var i=["webkit","moz","o","ms","khtml"];if(!t.isAndroid)if("undefined"!=typeof document.cancelFullScreen)t._u5.supportsFullScreen=!0;else for(var o=0;o<i.length;o++)if(t._u5.prefix=i[o],"undefined"!=typeof document[t._u5.prefix+"CancelFullScreen"]){t._u5.supportsFullScreen=!0;break}t._u5.supportsFullScreen?(t.nativeFS=!0,t._u5.fullScreenEventName=t._u5.prefix+"fullscreenchange"+t.ns,t._u5.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},t._u5.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},t._u5.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}):t._u5=!1}t.st.fullscreen.buttonFS&&(t._v5=e('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(t._o1).on("click.rs",function(){t.isFullscreen?t.exitFullscreen():t.enterFullscreen()}))},enterFullscreen:function(i){var o=this;if(o._u5){if(!i)return o._b.on(o._u5.fullScreenEventName,function(){o._u5.isFullScreen()?o.enterFullscreen(!0):o.exitFullscreen(!0)}),o._u5.requestFullScreen(e("html")[0]),void 0;o._u5.requestFullScreen(e("html")[0])}if(!o._w5){o._w5=!0,o._b.on("keyup"+o.ns+"fullscreen",function(e){27===e.keyCode&&o.exitFullscreen()}),o._t5&&o._b2(),i=e(t),o._x5=i.scrollTop(),o._y5=i.scrollLeft(),o._z5=e("html").attr("style"),o._a6=e("body").attr("style"),o._b6=o.slider.attr("style"),e("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"}),o.slider.addClass("rsFullscreen");var n;for(n=0;n<o.numSlides;n++)i=o.slides[n],i.isRendered=!1,i.bigImage&&(i.isBig=!0,i.isMedLoaded=i.isLoaded,i.isMedLoading=i.isLoading,i.medImage=i.image,i.medIW=i.iW,i.medIH=i.iH,i.slideId=-99,i.bigImage!==i.medImage&&(i.sizeType="big"),i.isLoaded=i.isBigLoaded,i.isLoading=!1,i.image=i.bigImage,i.images[0]=i.bigImage,i.iW=i.bigIW,i.iH=i.bigIH,i.isAppended=i.contentAdded=!1,o._c6(i));o.isFullscreen=!0,o._w5=!1,o.updateSliderSize(),o.ev.trigger("rsEnterFullscreen")}},exitFullscreen:function(i){var o=this;if(o._u5){if(!i)return o._u5.cancelFullScreen(e("html")[0]),void 0;o._b.off(o._u5.fullScreenEventName)}if(!o._w5){o._w5=!0,o._b.off("keyup"+o.ns+"fullscreen"),o._t5&&o._b.off("keydown"+o.ns),e("html").attr("style",o._z5||""),e("body").attr("style",o._a6||"");var n;for(n=0;n<o.numSlides;n++)i=o.slides[n],i.isRendered=!1,i.bigImage&&(i.isBig=!1,i.slideId=-99,i.isBigLoaded=i.isLoaded,i.isBigLoading=i.isLoading,i.bigImage=i.image,i.bigIW=i.iW,i.bigIH=i.iH,i.isLoaded=i.isMedLoaded,i.isLoading=!1,i.image=i.medImage,i.images[0]=i.medImage,i.iW=i.medIW,i.iH=i.medIH,i.isAppended=i.contentAdded=!1,o._c6(i,!0),i.bigImage!==i.medImage&&(i.sizeType="med"));o.isFullscreen=!1,i=e(t),i.scrollTop(o._x5),i.scrollLeft(o._y5),o._w5=!1,o.slider.removeClass("rsFullscreen"),o.updateSliderSize(),setTimeout(function(){o.updateSliderSize()},1),o.ev.trigger("rsExitFullscreen")}},_c6:function(t){var i=t.isLoaded||t.isLoading?'<img class="rsImg rsMainSlideImage" src="'+t.image+'"/>':'<a class="rsImg rsMainSlideImage" href="'+t.image+'"></a>';t.content.hasClass("rsImg")?t.content=e(i):t.content.find(".rsImg").eq(0).replaceWith(i),!t.isLoaded&&!t.isLoading&&t.holder&&t.holder.html(t.content)}}),e.rsModules.fullscreen=e.rsProto._q5}(jQuery),function(e){e.extend(e.rsProto,{_d6:function(){var t=this;t.st.globalCaption&&(t.ev.on("rsAfterInit",function(){t.globalCaption=e('<div class="rsGCaption"></div>').appendTo(t.st.globalCaptionInside?t._e1:t.slider),t.globalCaption.html(t.currSlide.caption)}),t.ev.on("rsBeforeAnimStart",function(){t.globalCaption.html(t.currSlide.caption)}))}}),e.rsModules.globalCaption=e.rsProto._d6}(jQuery),function(e){e.extend(e.rsProto,{_e6:function(){var e=this;e.st.navAutoHide&&!e.hasTouch&&e.ev.one("rsAfterInit",function(){if(e._k5){e._k5.addClass("rsHidden");var t=e.slider;t.one("mousemove.controlnav",function(){e._k5.removeClass("rsHidden")}),t.hover(function(){e._k5.removeClass("rsHidden")},function(){e._k5.addClass("rsHidden")})}})}}),e.rsModules.autoHideNav=e.rsProto._e6}(jQuery),function(e){e.extend(e.rsProto,{_f6:function(){var t=this;"tabs"===t.st.controlNavigation&&(t.ev.on("rsBeforeParseNode",function(t,i,o){i=e(i),o.thumbnail=i.find(".rsTmb").remove(),o.thumbnail.length?o.thumbnail=e(document.createElement("div")).append(o.thumbnail).html():(o.thumbnail=i.attr("data-rsTmb"),o.thumbnail||(o.thumbnail=i.find(".rsImg").attr("data-rsTmb")),o.thumbnail=o.thumbnail?'<img src="'+o.thumbnail+'"/>':"")}),t.ev.one("rsAfterPropsSetup",function(){t._g6()}),t.ev.on("rsOnAppendSlide",function(e,i,o){o>=t.numSlides?t._k5.append('<div class="rsNavItem rsTab">'+i.thumbnail+"</div>"):t._l5.eq(o).before('<div class="rsNavItem rsTab">'+item.thumbnail+"</div>"),t._l5=t._k5.children()}),t.ev.on("rsOnRemoveSlide",function(e,i){var o=t._l5.eq(i);o&&(o.remove(),t._l5=t._k5.children())}),t.ev.on("rsOnUpdateNav",function(){var e=t.currSlideId;t._n5&&t._n5.removeClass("rsNavSelected"),e=t._l5.eq(e),e.addClass("rsNavSelected"),t._n5=e}))},_g6:function(){var t,i=this;i._j5=!0,t='<div class="rsNav rsTabs">';for(var o=0;o<i.numSlides;o++)t+='<div class="rsNavItem rsTab">'+i.slides[o].thumbnail+"</div>";t=e(t+"</div>"),i._k5=t,i._l5=t.children(".rsNavItem"),i.slider.append(t),i._k5.click(function(t){t=e(t.target).closest(".rsNavItem"),t.length&&i.goTo(t.index())})}}),e.rsModules.tabs=e.rsProto._f6}(jQuery),function(e){e.extend(e.rsProto,{_h6:function(){var t=this;"thumbnails"===t.st.controlNavigation&&(t._i6={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},t.st.thumbs=e.extend({},t._i6,t.st.thumbs),t._j6=!0,!1===t.st.thumbs.firstMargin?t.st.thumbs.firstMargin=0:!0===t.st.thumbs.firstMargin&&(t.st.thumbs.firstMargin=t.st.thumbs.spacing),t.ev.on("rsBeforeParseNode",function(t,i,o){i=e(i),o.thumbnail=i.find(".rsTmb").remove(),o.thumbnail.length?o.thumbnail=e(document.createElement("div")).append(o.thumbnail).html():(o.thumbnail=i.attr("data-rsTmb"),o.thumbnail||(o.thumbnail=i.find(".rsImg").attr("data-rsTmb")),o.thumbnail=o.thumbnail?'<img src="'+o.thumbnail+'"/>':"")}),t.ev.one("rsAfterPropsSetup",function(){t._k6()}),t._n5=null,t.ev.on("rsOnUpdateNav",function(){var i=e(t._l5[t.currSlideId]);i!==t._n5&&(t._n5&&(t._n5.removeClass("rsNavSelected"),t._n5=null),t._l6&&t._m6(t.currSlideId),t._n5=i.addClass("rsNavSelected"))}),t.ev.on("rsOnAppendSlide",function(e,i,o){e="<div"+t._n6+' class="rsNavItem rsThumb">'+t._o6+i.thumbnail+"</div>",o>=t.numSlides?t._s3.append(e):t._l5.eq(o).before(e),t._l5=t._s3.children(),t.updateThumbsSize()}),t.ev.on("rsOnRemoveSlide",function(e,i){var o=t._l5.eq(i);o&&(o.remove(),t._l5=t._s3.children(),t.updateThumbsSize())}))},_k6:function(){var t,i,o=this,n="rsThumbs",r=o.st.thumbs,s="",a=r.spacing;o._j5=!0,o._e3="vertical"===r.orientation?!1:!0,o._n6=t=a?' style="margin-'+(o._e3?"right":"bottom")+":"+a+'px;"':"",o._i3=0,o._p6=!1,o._m5=!1,o._l6=!1,o._q6=r.arrows&&r.navigation,i=o._e3?"Hor":"Ver",o.slider.addClass("rsWithThumbs rsWithThumbs"+i),s+='<div class="rsNav rsThumbs rsThumbs'+i+'"><div class="'+n+'Container">',o._o6=r.appendSpan?'<span class="thumbIco"></span>':"";for(var l=0;l<o.numSlides;l++)i=o.slides[l],s+="<div"+t+' class="rsNavItem rsThumb">'+i.thumbnail+o._o6+"</div>";s=e(s+"</div></div>"),t={},r.paddingTop&&(t[o._e3?"paddingTop":"paddingLeft"]=r.paddingTop),r.paddingBottom&&(t[o._e3?"paddingBottom":"paddingRight"]=r.paddingBottom),s.css(t),o._s3=e(s).find("."+n+"Container"),o._q6&&(n+="Arrow",r.arrowLeft?o._r6=r.arrowLeft:(o._r6=e('<div class="'+n+" "+n+'Left"><div class="'+n+'Icn"></div></div>'),s.append(o._r6)),r.arrowRight?o._s6=r.arrowRight:(o._s6=e('<div class="'+n+" "+n+'Right"><div class="'+n+'Icn"></div></div>'),s.append(o._s6)),o._r6.click(function(){var e=(Math.floor(o._i3/o._t6)+o._u6)*o._t6;o._a4(e>o._n3?o._n3:e)}),o._s6.click(function(){var e=(Math.floor(o._i3/o._t6)-o._u6)*o._t6;o._a4(e<o._o3?o._o3:e)}),r.arrowsAutoHide&&!o.hasTouch&&(o._r6.css("opacity",0),o._s6.css("opacity",0),s.one("mousemove.rsarrowshover",function(){o._l6&&(o._r6.css("opacity",1),o._s6.css("opacity",1))}),s.hover(function(){o._l6&&(o._r6.css("opacity",1),o._s6.css("opacity",1))
},function(){o._l6&&(o._r6.css("opacity",0),o._s6.css("opacity",0))}))),o._k5=s,o._l5=o._s3.children(),o.msEnabled&&o.st.thumbs.navigation&&o._s3.css("-ms-touch-action",o._e3?"pan-y":"pan-x"),o.slider.append(s),o._w3=!0,o._v6=a,r.navigation&&o._e&&o._s3.css(o._g+"transition-property",o._g+"transform"),o._k5.on("click.rs",".rsNavItem",function(){o._m5||o.goTo(e(this).index())}),o.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){o._w6=o._e3?o._c4:o._b4,o.updateThumbsSize(!0)})},updateThumbsSize:function(){var e=this,t=e._l5.first(),i={},o=e._l5.length;e._t6=(e._e3?t.outerWidth():t.outerHeight())+e._v6,e._y3=o*e._t6-e._v6,i[e._e3?"width":"height"]=e._y3+e._v6,e._z3=e._e3?e._k5.width():e._k5.height(),e._o3=-(e._y3-e._z3)-e.st.thumbs.firstMargin,e._n3=e.st.thumbs.firstMargin,e._u6=Math.floor(e._z3/e._t6),e._y3<e._z3?(e.st.thumbs.autoCenter&&e._q3((e._z3-e._y3)/2),e.st.thumbs.arrows&&e._r6&&(e._r6.addClass("rsThumbsArrowDisabled"),e._s6.addClass("rsThumbsArrowDisabled")),e._l6=!1,e._m5=!1,e._k5.off(e._j1)):e.st.thumbs.navigation&&!e._l6&&(e._l6=!0,!e.hasTouch&&e.st.thumbs.drag||e.hasTouch&&e.st.thumbs.touch)&&(e._m5=!0,e._k5.on(e._j1,function(t){e._g2(t,!0)})),e._e&&(i[e._g+"transition-duration"]="0ms"),e._s3.css(i),e._w3&&(e.isFullscreen||e.st.thumbs.fitInViewport)&&(e._e3?e._c4=e._w6-e._k5.outerHeight():e._b4=e._w6-e._k5.outerWidth())},setThumbsOrientation:function(e,t){this._w3&&(this.st.thumbs.orientation=e,this._k5.remove(),this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),this._k6(),this._k5.off(this._j1),t||this.updateSliderSize(!0))},_q3:function(e){this._i3=e,this._e?this._s3.css(this._x1,this._y1+(this._e3?e+this._z1+0:0+this._z1+e)+this._a2):this._s3.css(this._e3?this._x1:this._w1,e)},_a4:function(t,i,o,n,r){var s=this;if(s._l6){i||(i=s.st.thumbs.transitionSpeed),s._i3=t,s._x6&&clearTimeout(s._x6),s._p6&&(s._e||s._s3.stop(),o=!0);var a={};s._p6=!0,s._e?(a[s._g+"transition-duration"]=i+"ms",a[s._g+"transition-timing-function"]=o?e.rsCSS3Easing[s.st.easeOut]:e.rsCSS3Easing[s.st.easeInOut],s._s3.css(a),s._q3(t)):(a[s._e3?s._x1:s._w1]=t+"px",s._s3.animate(a,i,o?"easeOutCubic":s.st.easeInOut)),n&&(s._i3=n),s._y6(),s._x6=setTimeout(function(){s._p6=!1,r&&(s._a4(n,r,!0),r=null)},i)}},_y6:function(){this._q6&&(this._i3===this._n3?this._r6.addClass("rsThumbsArrowDisabled"):this._r6.removeClass("rsThumbsArrowDisabled"),this._i3===this._o3?this._s6.addClass("rsThumbsArrowDisabled"):this._s6.removeClass("rsThumbsArrowDisabled"))},_m6:function(e,t){var i,o=0,n=e*this._t6+2*this._t6-this._v6+this._n3,r=Math.floor(this._i3/this._t6);this._l6&&(this._j6&&(t=!0,this._j6=!1),n+this._i3>this._z3?(e===this.numSlides-1&&(o=1),r=-e+this._u6-2+o,i=r*this._t6+this._z3%this._t6+this._v6-this._n3):0!==e?(e-1)*this._t6<=-this._i3+this._n3&&e-1<=this.numSlides-this._u6&&(i=(-e+1)*this._t6+this._n3):i=this._n3,i!==this._i3&&(o=void 0===i?this._i3:i,o>this._n3?this._q3(this._n3):o<this._o3?this._q3(this._o3):void 0!==i&&(t?this._q3(i):this._a4(i))),this._y6())}}),e.rsModules.thumbnails=e.rsProto._h6}(jQuery),function(e){e.extend(e.rsProto,{_z6:function(){var t=this;t._a7={autoHideArrows:!0,autoHideControlNav:!1,autoHideBlocks:!1,autoHideCaption:!1,disableCSS3inFF:!0,youTubeCode:'<iframe src="http://www.youtube.com/embed/%id%?rel=1&autoplay=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',vimeoCode:'<iframe src="http://player.vimeo.com/video/%id%?byline=0&amp;portrait=0&amp;autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},t.st.video=e.extend({},t._a7,t.st.video),t.ev.on("rsBeforeSizeSet",function(){t._b7&&setTimeout(function(){var e=t._r1,e=e.hasClass("rsVideoContainer")?e:e.find(".rsVideoContainer");t._c7&&t._c7.css({width:e.width(),height:e.height()})},32)});var i=t._a.mozilla;t.ev.on("rsAfterParseNode",function(o,n,r){if(o=e(n),r.videoURL){t.st.video.disableCSS3inFF&&i&&(t._e=t._f=!1),n=e('<div class="rsVideoContainer"></div>');var s=e('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');o.hasClass("rsImg")?r.content=n.append(o).append(s):r.content.find(".rsImg").wrap(n).after(s)}}),t.ev.on("rsAfterSlideChange",function(){t.stopVideo()})},toggleVideo:function(){return this._b7?this.stopVideo():this.playVideo()},playVideo:function(){var t=this;if(!t._b7){var i=t.currSlide;if(!i.videoURL)return!1;var o,n,r=t._d7=i.content,i=i.videoURL;return i.match(/youtu\.be/i)||i.match(/youtube\.com/i)?(n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(n=i.match(n))&&11==n[7].length&&(o=n[7]),void 0!==o&&(t._c7=t.st.video.youTubeCode.replace("%id%",o))):i.match(/vimeo\.com/i)&&(n=/(www\.)?vimeo.com\/(\d+)($|\/)/,(n=i.match(n))&&(o=n[2]),void 0!==o&&(t._c7=t.st.video.vimeoCode.replace("%id%",o))),t.videoObj=e(t._c7),t.ev.trigger("rsOnCreateVideoElement",[i]),t.videoObj.length&&(t._c7=e('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'),t._c7.find(".rsPreloader").after(t.videoObj),r=r.hasClass("rsVideoContainer")?r:r.find(".rsVideoContainer"),t._c7.css({width:r.width(),height:r.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(e){return t.stopVideo(),e.preventDefault(),e.stopPropagation(),!1}),r.append(t._c7),t.isIPAD&&r.addClass("rsIOSVideo"),t._e7(!1),setTimeout(function(){t._c7.addClass("rsVideoActive")},10),t.ev.trigger("rsVideoPlay"),t._b7=!0),!0}return!1},stopVideo:function(){var e=this;return e._b7?(e.isIPAD&&e.slider.find(".rsCloseVideoBtn").remove(),e._e7(!0),setTimeout(function(){e.ev.trigger("rsOnDestroyVideoElement",[e.videoObj]);var t=e._c7.find("iframe");if(t.length)try{t.attr("src","")}catch(i){}e._c7.remove(),e._c7=null},16),e.ev.trigger("rsVideoStop"),e._b7=!1,!0):!1},_e7:function(e){var t=[],i=this.st.video;if(i.autoHideArrows&&(this._c2&&(t.push(this._c2,this._d2),this._e2=!e),this._v5&&t.push(this._v5)),i.autoHideControlNav&&this._k5&&t.push(this._k5),i.autoHideBlocks&&this.currSlide.animBlocks&&t.push(this.currSlide.animBlocks),i.autoHideCaption&&this.globalCaption&&t.push(this.globalCaption),t.length)for(i=0;i<t.length;i++)e?t[i].removeClass("rsHidden"):t[i].addClass("rsHidden")}}),e.rsModules.video=e.rsProto._z6}(jQuery),function(e){e.rsProto._f7=function(){var t=this;t.st.visibleNearby&&t.st.visibleNearby.enabled&&(t._g7={enabled:!0,centerArea:.6,center:!0,breakpoint:0,breakpointCenterArea:.8,hiddenOverflow:!0,navigateByCenterClick:!1},t.st.visibleNearby=e.extend({},t._g7,t.st.visibleNearby),t.ev.one("rsAfterPropsSetup",function(){t._h7=t._e1.css("overflow","visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent(),t.st.visibleNearby.hiddenOverflow||t._h7.css("overflow","visible"),t._o1=t.st.controlsInside?t._h7:t.slider}),t.ev.on("rsAfterSizePropSet",function(){var e,i=t.st.visibleNearby;e=i.breakpoint&&t.width<i.breakpoint?i.breakpointCenterArea:i.centerArea,t._h?(t._b4*=e,t._h7.css({height:t._c4,width:t._b4/e}),t._d=t._b4*(1-e)/2/e):(t._c4*=e,t._h7.css({height:t._c4/e,width:t._b4}),t._d=t._c4*(1-e)/2/e),i.navigateByCenterClick||(t._q=t._h?t._b4:t._c4),i.center&&t._e1.css("margin-"+(t._h?"left":"top"),t._d)}))},e.rsModules.visibleNearby=e.rsProto._f7}(jQuery),function(e){var o,n,r,s,a,l,c,d="Close",u="BeforeClose",h="AfterClose",p="BeforeAppend",f="MarkupParse",m="Open",g="Change",v="mfp",y="."+v,_="mfp-ready",b="mfp-removing",w="mfp-prevent-close",x=function(){},S=!!t.jQuery,C=e(t),k=function(e,t){o.ev.on(v+e+y,t)},T=function(t,i,o,n){var r=document.createElement("div");return r.className="mfp-"+t,o&&(r.innerHTML=o),n?i&&i.appendChild(r):(r=e(r),i&&r.appendTo(i)),r},I=function(t,i){o.ev.triggerHandler(v+t,i),o.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),o.st.callbacks[t]&&o.st.callbacks[t].apply(o,e.isArray(i)?i:[i]))},M=function(){(o.st.focus?o.content.find(o.st.focus).eq(0):o.wrap).focus()},E=function(t){return t===c&&o.currTemplate.closeBtn||(o.currTemplate.closeBtn=e(o.st.closeMarkup.replace("%title%",o.st.tClose)),c=t),o.currTemplate.closeBtn},z=function(){e.magnificPopup.instance||(o=new x,o.init(),e.magnificPopup.instance=o)},L=function(t){if(!e(t).hasClass(w)){var i=o.st.closeOnContentClick,n=o.st.closeOnBgClick;if(i&&n)return!0;if(!o.content||e(t).hasClass("mfp-close")||o.preloader&&t===o.preloader[0])return!0;if(t===o.content[0]||e.contains(o.content[0],t)){if(i)return!0}else if(n&&e.contains(document,t))return!0;return!1}},O=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(e.transition!==i)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};x.prototype={constructor:x,init:function(){var t=navigator.appVersion;o.isIE7=-1!==t.indexOf("MSIE 7."),o.isIE8=-1!==t.indexOf("MSIE 8."),o.isLowIE=o.isIE7||o.isIE8,o.isAndroid=/android/gi.test(t),o.isIOS=/iphone|ipad|ipod/gi.test(t),o.supportsTransition=O(),o.probablyMobile=o.isAndroid||o.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),r=e(document.body),s=e(document),o.popupsCache={}},open:function(t){var i;if(t.isObj===!1){o.items=t.items.toArray(),o.index=0;var n,r=t.items;for(i=0;i<r.length;i++)if(n=r[i],n.parsed&&(n=n.el[0]),n===t.el[0]){o.index=i;break}}else o.items=e.isArray(t.items)?t.items:[t.items],o.index=t.index||0;if(o.isOpen)return o.updateItemHTML(),void 0;o.types=[],l="",o.ev=t.mainEl&&t.mainEl.length?t.mainEl.eq(0):s,t.key?(o.popupsCache[t.key]||(o.popupsCache[t.key]={}),o.currTemplate=o.popupsCache[t.key]):o.currTemplate={},o.st=e.extend(!0,{},e.magnificPopup.defaults,t),o.fixedContentPos="auto"===o.st.fixedContentPos?!o.probablyMobile:o.st.fixedContentPos,o.st.modal&&(o.st.closeOnContentClick=!1,o.st.closeOnBgClick=!1,o.st.showCloseBtn=!1,o.st.enableEscapeKey=!1),o.bgOverlay||(o.bgOverlay=T("bg").on("click"+y,function(){o.close()}),o.wrap=T("wrap").attr("tabindex",-1).on("click"+y,function(e){L(e.target)&&o.close()}),o.container=T("container",o.wrap)),o.contentContainer=T("content"),o.st.preloader&&(o.preloader=T("preloader",o.container,o.st.tLoading));var a=e.magnificPopup.modules;for(i=0;i<a.length;i++){var c=a[i];c=c.charAt(0).toUpperCase()+c.slice(1),o["init"+c].call(o)}I("BeforeOpen"),o.st.showCloseBtn&&(o.st.closeBtnInside?(k(f,function(e,t,i,o){i.close_replaceWith=E(o.type)}),l+=" mfp-close-btn-in"):o.wrap.append(E())),o.st.alignTop&&(l+=" mfp-align-top"),o.fixedContentPos?o.wrap.css({overflow:o.st.overflowY,overflowX:"hidden",overflowY:o.st.overflowY}):o.wrap.css({top:C.scrollTop(),position:"absolute"}),(o.st.fixedBgPos===!1||"auto"===o.st.fixedBgPos&&!o.fixedContentPos)&&o.bgOverlay.css({height:s.height(),position:"absolute"}),o.st.enableEscapeKey&&s.on("keyup"+y,function(e){27===e.keyCode&&o.close()}),C.on("resize"+y,function(){o.updateSize()}),o.st.closeOnContentClick||(l+=" mfp-auto-cursor"),l&&o.wrap.addClass(l);var d=o.wH=C.height(),u={};if(o.fixedContentPos&&o._hasScrollBar(d)){var h=o._getScrollbarSize();h&&(u.paddingRight=h)}o.fixedContentPos&&(o.isIE7?e("body, html").css("overflow","hidden"):u.overflow="hidden");var p=o.st.mainClass;o.isIE7&&(p+=" mfp-ie7"),p&&o._addClassToMFP(p),o.updateItemHTML(),I("BuildControls"),e("html").css(u),o.bgOverlay.add(o.wrap).prependTo(document.body),o._lastFocusedEl=document.activeElement,setTimeout(function(){o.content?(o._addClassToMFP(_),M()):o.bgOverlay.addClass(_),s.on("focusin"+y,function(t){return t.target===o.wrap[0]||e.contains(o.wrap[0],t.target)?void 0:(M(),!1)})},16),o.isOpen=!0,o.updateSize(d),I(m)},close:function(){o.isOpen&&(I(u),o.isOpen=!1,o.st.removalDelay&&!o.isLowIE&&o.supportsTransition?(o._addClassToMFP(b),setTimeout(function(){o._close()},o.st.removalDelay)):o._close())},_close:function(){I(d);var t=b+" "+_+" ";if(o.bgOverlay.detach(),o.wrap.detach(),o.container.empty(),o.st.mainClass&&(t+=o.st.mainClass+" "),o._removeClassFromMFP(t),o.fixedContentPos){var i={paddingRight:""};o.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}s.off("keyup"+y+" focusin"+y),o.ev.off(y),o.wrap.attr("class","mfp-wrap").removeAttr("style"),o.bgOverlay.attr("class","mfp-bg"),o.container.attr("class","mfp-container"),!o.st.showCloseBtn||o.st.closeBtnInside&&o.currTemplate[o.currItem.type]!==!0||o.currTemplate.closeBtn&&o.currTemplate.closeBtn.detach(),o._lastFocusedEl&&e(o._lastFocusedEl).focus(),o.currItem=null,o.content=null,o.currTemplate=null,o.prevHeight=0,I(h)},updateSize:function(e){if(o.isIOS){var i=document.documentElement.clientWidth/t.innerWidth,n=t.innerHeight*i;o.wrap.css("height",n),o.wH=n}else o.wH=e||C.height();o.fixedContentPos||o.wrap.css("height",o.wH),I("Resize")},updateItemHTML:function(){var t=o.items[o.index];o.contentContainer.detach(),o.content&&o.content.detach(),t.parsed||(t=o.parseEl(o.index));var i=t.type;if(I("BeforeChange",[o.currItem?o.currItem.type:"",i]),o.currItem=t,!o.currTemplate[i]){var n=o.st[i]?o.st[i].markup:!1;I("FirstMarkupParse",n),o.currTemplate[i]=n?e(n):!0}a&&a!==t.type&&o.container.removeClass("mfp-"+a+"-holder");var r=o["get"+i.charAt(0).toUpperCase()+i.slice(1)](t,o.currTemplate[i]);o.appendContent(r,i),t.preloaded=!0,I(g,t),a=t.type,o.container.prepend(o.contentContainer),I("AfterChange")},appendContent:function(e,t){o.content=e,e?o.st.showCloseBtn&&o.st.closeBtnInside&&o.currTemplate[t]===!0?o.content.find(".mfp-close").length||o.content.append(E()):o.content=e:o.content="",I(p),o.container.addClass("mfp-"+t+"-holder"),o.contentContainer.append(o.content)},parseEl:function(t){var i=o.items[t],n=i.type;if(i=i.tagName?{el:e(i)}:{data:i,src:i.src},i.el){for(var r=o.types,s=0;s<r.length;s++)if(i.el.hasClass("mfp-"+r[s])){n=r[s];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=n||o.st.type||"inline",i.index=t,i.parsed=!0,o.items[t]=i,I("ElementParse",i),o.items[t]},addGroup:function(e,t){var i=function(i){i.mfpEl=this,o._openClick(i,e,t)};t||(t={});var n="click.magnificPopup";t.mainEl=e,t.items?(t.isObj=!0,e.off(n).on(n,i)):(t.isObj=!1,t.delegate?e.off(n).on(n,t.delegate,i):(t.items=e,e.off(n).on(n,i)))},_openClick:function(t,n,r){var s=r.midClick!==i?r.midClick:e.magnificPopup.defaults.midClick;if(s||2!==t.which&&!t.ctrlKey&&!t.metaKey){var a=r.disableOn!==i?r.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(o))return!0}else if(C.width()<a)return!0;t.type&&(t.preventDefault(),o.isOpen&&t.stopPropagation()),r.el=e(t.mfpEl),r.delegate&&(r.items=n.find(r.delegate)),o.open(r)}},updateStatus:function(e,t){if(o.preloader){n!==e&&o.container.removeClass("mfp-s-"+n),t||"loading"!==e||(t=o.st.tLoading);var i={status:e,text:t};I("UpdateStatus",i),e=i.status,t=i.text,o.preloader.html(t),o.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),o.container.addClass("mfp-s-"+e),n=e}},_addClassToMFP:function(e){o.bgOverlay.addClass(e),o.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),o.wrap.removeClass(e)},_hasScrollBar:function(e){return(o.isIE7?s.height():document.body.scrollHeight)>(e||C.height())},_parseMarkup:function(t,o,n){var r;n.data&&(o=e.extend(n.data,o)),I(f,[t,o,n]),e.each(o,function(e,o){if(o===i||o===!1)return!0;if(r=e.split("_"),r.length>1){var n=t.find(y+"-"+r[0]);if(n.length>0){var s=r[1];"replaceWith"===s?n[0]!==o[0]&&n.replaceWith(o):"img"===s?n.is("img")?n.attr("src",o):n.replaceWith('<img src="'+o+'" class="'+n.attr("class")+'" />'):n.attr(r[1],o)}}else t.find(y+"-"+e).html(o)})},_getScrollbarSize:function(){if(o.scrollbarSize===i){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),o.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return o.scrollbarSize}},e.magnificPopup={instance:null,proto:x.prototype,modules:[],open:function(e,t){return z(),e||(e={}),e.isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(t){z();var i=e(this);if("string"==typeof t)if("open"===t){var n,r=S?i.data("magnificPopup"):i[0].magnificPopup,s=parseInt(arguments[1],10)||0;r.items?n=r.items[s]:(n=i,r.delegate&&(n=n.find(r.delegate)),n=n.eq(s)),o._openClick({mfpEl:n},i,r)}else o.isOpen&&o[t].apply(o,Array.prototype.slice.call(arguments,1));else S?i.data("magnificPopup",t):i[0].magnificPopup=t,o.addGroup(i,t);return i};var P,A,B,N="inline",j=function(){B&&(A.after(B.addClass(P)).detach(),B=null)};e.magnificPopup.registerModule(N,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){o.types.push(N),k(d+"."+N,function(){j()})},getInline:function(t,i){if(j(),t.src){var n=o.st.inline,r=e(t.src);if(r.length){var s=r[0].parentNode;s&&s.tagName&&(A||(P=n.hiddenClass,A=T(P),P="mfp-"+P),B=r.after(A).detach().removeClass(P)),o.updateStatus("ready")}else o.updateStatus("error",n.tNotFound),r=e("<div>");return t.inlineElement=r,r}return o.updateStatus("ready"),o._parseMarkup(i,{},t),i}}});var D,H="ajax",F=function(){D&&r.removeClass(D)};e.magnificPopup.registerModule(H,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){o.types.push(H),D=o.st.ajax.cursor,k(d+"."+H,function(){F(),o.req&&o.req.abort()})},getAjax:function(t){D&&r.addClass(D),o.updateStatus("loading");var i=e.extend({url:t.src,success:function(i,n,r){var s={data:i,xhr:r};I("ParseAjax",s),o.appendContent(e(s.data),H),t.finished=!0,F(),M(),setTimeout(function(){o.wrap.addClass(_)},16),o.updateStatus("ready"),I("AjaxContentAdded")},error:function(){F(),t.finished=t.loadError=!0,o.updateStatus("error",o.st.ajax.tError.replace("%url%",t.src))}},o.st.ajax.settings);return o.req=e.ajax(i),""}}});var R,q=function(t){if(t.data&&t.data.title!==i)return t.data.title;var n=o.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(o,t);if(t.el)return t.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=o.st.image,t=".image";o.types.push("image"),k(m+t,function(){"image"===o.currItem.type&&e.cursor&&r.addClass(e.cursor)}),k(d+t,function(){e.cursor&&r.removeClass(e.cursor),C.off("resize"+y)}),k("Resize"+t,o.resizeImage),o.isLowIE&&k("AfterChange",o.resizeImage)},resizeImage:function(){var e=o.currItem;if(e&&e.img&&o.st.image.verticalFit){var t=0;o.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",o.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,R&&clearInterval(R),e.isCheckingImgSize=!1,I("ImageHasSize",e),e.imgHidden&&(o.content&&o.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,i=e.img[0],n=function(r){R&&clearInterval(R),R=setInterval(function(){return i.naturalWidth>0?(o._onImageHasSize(e),void 0):(t>200&&clearInterval(R),t++,3===t?n(10):40===t?n(50):100===t&&n(500),void 0)},r)};n(1)},getImage:function(t,i){var n=0,r=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===o.currItem&&(o._onImageHasSize(t),o.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,I("ImageLoadComplete")):(n++,200>n?setTimeout(r,100):s()))},s=function(){t&&(t.img.off(".mfploader"),t===o.currItem&&(o._onImageHasSize(t),o.updateStatus("error",a.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},a=o.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",t.img=e(c).on("load.mfploader",r).on("error.mfploader",s),c.src=t.src,l.is("img")&&(t.img=t.img.clone()),t.img[0].naturalWidth>0&&(t.hasSize=!0)}return o._parseMarkup(i,{title:q(t),img_replaceWith:t.img},t),o.resizeImage(),t.hasSize?(R&&clearInterval(R),t.loadError?(i.addClass("mfp-loading"),o.updateStatus("error",a.tError.replace("%url%",t.src))):(i.removeClass("mfp-loading"),o.updateStatus("ready")),i):(o.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,i.addClass("mfp-loading"),o.findImageSize(t)),i)}}});var W,X=function(){return W===i&&(W=document.createElement("p").style.MozTransform!==i),W};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e=o.st.zoom,t=".zoom";if(e.enabled&&o.supportsTransition){var i,n,r=e.duration,s=function(t){var i=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),o="all "+e.duration/1e3+"s "+e.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return n["-webkit-"+r]=n["-moz-"+r]=n["-o-"+r]=n[r]=o,i.css(n),i},a=function(){o.content.css("visibility","visible")};k("BuildControls"+t,function(){if(o._allowZoom()){if(clearTimeout(i),o.content.css("visibility","hidden"),image=o._getItemToZoom(),!image)return a(),void 0;n=s(image),n.css(o._getOffset()),o.wrap.append(n),i=setTimeout(function(){n.css(o._getOffset(!0)),i=setTimeout(function(){a(),setTimeout(function(){n.remove(),image=n=null,I("ZoomAnimationEnded")},16)},r)},16)}}),k(u+t,function(){if(o._allowZoom()){if(clearTimeout(i),o.st.removalDelay=r,!image){if(image=o._getItemToZoom(),!image)return;n=s(image)}n.css(o._getOffset(!0)),o.wrap.append(n),o.content.css("visibility","hidden"),setTimeout(function(){n.css(o._getOffset())},16)}}),k(d+t,function(){o._allowZoom()&&(a(),n&&n.remove())})}},_allowZoom:function(){return"image"===o.currItem.type},_getItemToZoom:function(){return o.currItem.hasSize?o.currItem.img:!1},_getOffset:function(i){var n;n=i?o.currItem.img:o.st.zoom.opener(o.currItem.el||o.currItem);var r=n.offset(),s=parseInt(n.css("padding-top"),10),a=parseInt(n.css("padding-bottom"),10);r.top-=e(t).scrollTop()-s;var l={width:n.width(),height:(S?n.innerHeight():n[0].offsetHeight)-a-s};return X()?l["-moz-transform"]=l.transform="translate("+r.left+"px,"+r.top+"px)":(l.left=r.left,l.top=r.top),l}}});var Y="iframe",Q="//about:blank",V=function(e){if(o.currTemplate[Y]){var t=o.currTemplate[Y].find("iframe");t.length&&(e||(t[0].src=Q),o.isIE8&&t.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(Y,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){o.types.push(Y),k("BeforeChange",function(e,t,i){t!==i&&(t===Y?V():i===Y&&V(!0))}),k(d+"."+Y,function(){V()})},getIframe:function(t,i){var n=t.src,r=o.st.iframe;e.each(r.patterns,function(){return n.indexOf(this.index)>-1?(this.id&&(n="string"==typeof this.id?n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):this.id.call(this,n)),n=this.src.replace("%id%",n),!1):void 0});var s={};return r.srcAction&&(s[r.srcAction]=n),o._parseMarkup(i,s,t),o.updateStatus("ready"),i}}});var U=function(e){var t=o.items.length;return e>t-1?e-t:0>e?t+e:e},Z=function(e,t,i){return e.replace("%curr%",t+1).replace("%total%",i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var t=o.st.gallery,i=".mfp-gallery",n=Boolean(e.fn.mfpFastClick);return o.direction=!0,t&&t.enabled?(l+=" mfp-gallery",k(m+i,function(){t.navigateByImgClick&&o.wrap.on("click"+i,".mfp-img",function(){return o.items.length>1?(o.next(),!1):void 0}),s.on("keydown"+i,function(e){37===e.keyCode?o.prev():39===e.keyCode&&o.next()})}),k("UpdateStatus"+i,function(e,t){t.text&&(t.text=Z(t.text,o.currItem.index,o.items.length))}),k(f+i,function(e,i,n,r){var s=o.items.length;n.counter=s>1?Z(t.tCounter,r.index,s):""}),k("BuildControls"+i,function(){if(o.items.length>1&&t.arrows&&!o.arrowLeft){var i=t.arrowMarkup,r=o.arrowLeft=e(i.replace("%title%",t.tPrev).replace("%dir%","left")).addClass(w),s=o.arrowRight=e(i.replace("%title%",t.tNext).replace("%dir%","right")).addClass(w),a=n?"mfpFastClick":"click";r[a](function(){o.prev()}),s[a](function(){o.next()}),o.isIE7&&(T("b",r[0],!1,!0),T("a",r[0],!1,!0),T("b",s[0],!1,!0),T("a",s[0],!1,!0)),o.container.append(r.add(s))}}),k(g+i,function(){o._preloadTimeout&&clearTimeout(o._preloadTimeout),o._preloadTimeout=setTimeout(function(){o.preloadNearbyImages(),o._preloadTimeout=null},16)}),k(d+i,function(){s.off(i),o.wrap.off("click"+i),o.arrowLeft&&n&&o.arrowLeft.add(o.arrowRight).destroyMfpFastClick(),o.arrowRight=o.arrowLeft=null}),void 0):!1},next:function(){o.direction=!0,o.index=U(o.index+1),o.updateItemHTML()},prev:function(){o.direction=!1,o.index=U(o.index-1),o.updateItemHTML()},goTo:function(e){o.direction=e>=o.index,o.index=e,o.updateItemHTML()},preloadNearbyImages:function(){var e,t=o.st.gallery.preload,i=Math.min(t[0],o.items.length),n=Math.min(t[1],o.items.length);for(e=1;e<=(o.direction?n:i);e++)o._preloadItem(o.index+e);for(e=1;e<=(o.direction?i:n);e++)o._preloadItem(o.index-e)},_preloadItem:function(t){if(t=U(t),!o.items[t].preloaded){var i=o.items[t];i.parsed||(i=o.parseEl(t)),I("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,I("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var $="retina";e.magnificPopup.registerModule($,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(t.devicePixelRatio>1){var e=o.st.retina,i=e.ratio;i=isNaN(i)?i():i,i>1&&(k("ImageHasSize."+$,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),k("ElementParse."+$,function(t,o){o.src=e.replaceSrc(o,i)}))}}}}),function(){var i=1e3,o="ontouchstart"in t,n=function(){C.off("touchmove"+s+" touchend"+s)},r="mfpFastClick",s="."+r;e.fn.mfpFastClick=function(t){return e(this).each(function(){var r,a=e(this);if(o){var l,c,d,u,h,p;a.on("touchstart"+s,function(e){u=!1,p=1,h=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=h.clientX,d=h.clientY,C.on("touchmove"+s,function(e){h=e.originalEvent?e.originalEvent.touches:e.touches,p=h.length,h=h[0],(Math.abs(h.clientX-c)>10||Math.abs(h.clientY-d)>10)&&(u=!0,n())}).on("touchend"+s,function(e){n(),u||p>1||(r=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){r=!1},i),t())})})}a.on("click"+s,function(){r||t()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+s+" click"+s),o&&C.off("touchmove"+s+" touchend"+s)}}()}(t.jQuery||t.Zepto),function(e,i){function o(){A||(A={verbose:!1,queryLimit:{attempt:5,delay:250,random:250},classes:{Map:google.maps.Map,Marker:google.maps.Marker,InfoWindow:google.maps.InfoWindow,Circle:google.maps.Circle,Rectangle:google.maps.Rectangle,OverlayView:google.maps.OverlayView,StreetViewPanorama:google.maps.StreetViewPanorama,KmlLayer:google.maps.KmlLayer,TrafficLayer:google.maps.TrafficLayer,BicyclingLayer:google.maps.BicyclingLayer,GroundOverlay:google.maps.GroundOverlay,StyledMapType:google.maps.StyledMapType,ImageMapType:google.maps.ImageMapType},map:{mapTypeId:google.maps.MapTypeId.ROADMAP,center:[46.578498,2.457275],zoom:2},overlay:{pane:"floatPane",content:"",offset:{x:0,y:0}},geoloc:{getCurrentPosition:{maximumAge:6e4,timeout:5e3}}})}function n(e,t){return e!==i?e:"gmap3_"+(t?B+1:++B)}function r(e){var t,i=function(e){return parseInt(e,10)},o=google.maps.version.split(".").map(i);for(e=e.split(".").map(i),t=0;t<e.length;t++){if(!o.hasOwnProperty(t))return!1;if(o[t]<e[t])return!1}return!0}function s(t,i,o,n,r){if(i.todo.events||i.todo.onces){var s={id:n,data:i.todo.data,tag:i.todo.tag};i.todo.events&&e.each(i.todo.events,function(i,n){var a=t,l=n;e.isArray(n)&&(a=n[0],l=n[1]),google.maps.event.addListener(o,i,function(e){l.apply(a,[r?r:o,e,s])})}),i.todo.onces&&e.each(i.todo.onces,function(i,n){var a=t,l=n;e.isArray(n)&&(a=n[0],l=n[1]),google.maps.event.addListenerOnce(o,i,function(e){l.apply(a,[r?r:o,e,s])})})}}function a(){var e=[];this.empty=function(){return!e.length},this.add=function(t){e.push(t)},this.get=function(){return e.length?e[0]:!1},this.ack=function(){e.shift()}}function l(t,i,o){function n(e){var t={};return t[e]={},t}function r(){var e;for(e in o)if(!(e in a))return e}var s,a={},l=this,c={latLng:{map:!1,marker:!1,infowindow:!1,circle:!1,overlay:!1,getlatlng:!1,getmaxzoom:!1,getelevation:!1,streetviewpanorama:!1,getaddress:!0},geoloc:{getgeoloc:!0}};"string"==typeof o&&(o=n(o)),this.run=function(){for(var n,l;n=r();){if("function"==typeof t[n])return s=n,l=e.extend(!0,{},A[n]||{},o[n].options||{}),n in c.latLng?o[n].values?z(o[n].values,t,t[n],{todo:o[n],opts:l,session:a}):E(t,t[n],c.latLng[n],{todo:o[n],opts:l,session:a}):n in c.geoloc?L(t,t[n],{todo:o[n],opts:l,session:a}):t[n].apply(t,[{todo:o[n],opts:l,session:a}]),void 0;a[n]=null}i.apply(t,[o,a])},this.ack=function(e){a[s]=e,l.run.apply(l,[])}}function c(e){var t,i=[];for(t in e)i.push(t);return i}function d(t,i){var o={};if(t.todo)for(var n in t.todo)"options"!==n&&"values"!==n&&(o[n]=t.todo[n]);var r,s=["data","tag","id","events","onces"];for(r=0;r<s.length;r++)u(o,s[r],i,t.todo);return o.options=e.extend({},t.opts||{},i.options||{}),o}function u(e,t){for(var i=2;i<arguments.length;i++)if(t in arguments[i])return e[t]=arguments[i][t],void 0}function h(){var e=[];this.get=function(t){if(e.length){var i,o,n,r,s,a=c(t);for(i=0;i<e.length;i++){for(r=e[i],s=a.length==r.keys.length,o=0;o<a.length&&s;o++)n=a[o],s=n in r.request,s&&(s="object"==typeof t[n]&&"equals"in t[n]&&"function"==typeof t[n]?t[n].equals(r.request[n]):t[n]===r.request[n]);if(s)return r.results}}},this.store=function(t,i){e.push({request:t,keys:c(t),results:i})}}function p(t,i,o,n){var r=this,s=[];A.classes.OverlayView.call(this),this.setMap(t),this.onAdd=function(){var t=this.getPanes();i.pane in t&&e(t[i.pane]).append(n),e.each("dblclick click mouseover mousemove mouseout mouseup mousedown".split(" "),function(t,i){s.push(google.maps.event.addDomListener(n[0],i,function(t){e.Event(t).stopPropagation(),google.maps.event.trigger(r,i,[t]),r.draw()}))}),s.push(google.maps.event.addDomListener(n[0],"contextmenu",function(t){e.Event(t).stopPropagation(),google.maps.event.trigger(r,"rightclick",[t]),r.draw()}))},this.getPosition=function(){return o},this.draw=function(){var e=this.getProjection().fromLatLngToDivPixel(o);n.css("left",e.x+i.offset.x+"px").css("top",e.y+i.offset.y+"px")},this.onRemove=function(){for(var e=0;e<s.length;e++)google.maps.event.removeListener(s[e]);n.remove()},this.hide=function(){n.hide()},this.show=function(){n.show()},this.toggle=function(){n&&(n.is(":visible")?this.show():this.hide())},this.toggleDOM=function(){this.getMap()?this.setMap(null):this.setMap(t)},this.getDOMElement=function(){return n[0]}}function f(e){function t(){return this.onAdd=function(){},this.onRemove=function(){},this.draw=function(){},A.classes.OverlayView.apply(this,[])
}t.prototype=A.classes.OverlayView.prototype;var i=new t;return i.setMap(e),i}function m(t,i,o){function r(e){O[e]||(delete P[e].options.map,O[e]=new A.classes.Marker(P[e].options),s(t,{todo:P[e]},O[e],P[e].id))}function a(){return(v=N.getProjection())?(C=!0,M.push(google.maps.event.addListener(i,"zoom_changed",function(){h()})),M.push(google.maps.event.addListener(i,"bounds_changed",function(){h()})),m(),void 0):(setTimeout(function(){a.apply(I,[])},25),void 0)}function l(e){"object"==typeof E[e]?("function"==typeof E[e].obj.setMap&&E[e].obj.setMap(null),"function"==typeof E[e].obj.remove&&E[e].obj.remove(),"function"==typeof E[e].shadow.remove&&E[e].obj.remove(),"function"==typeof E[e].shadow.setMap&&E[e].shadow.setMap(null),delete E[e].obj,delete E[e].shadow):O[e]&&O[e].setMap(null),delete E[e]}function c(){var e,t,i,o,n,r,s,a;return arguments[0]instanceof google.maps.LatLng?(e=arguments[0].lat(),i=arguments[0].lng(),arguments[1]instanceof google.maps.LatLng?(t=arguments[1].lat(),o=arguments[1].lng()):(t=arguments[1],o=arguments[2])):(e=arguments[0],i=arguments[1],arguments[2]instanceof google.maps.LatLng?(t=arguments[2].lat(),o=arguments[2].lng()):(t=arguments[2],o=arguments[3])),n=Math.PI*e/180,r=Math.PI*i/180,s=Math.PI*t/180,a=Math.PI*o/180,6371e3*Math.acos(Math.min(Math.cos(n)*Math.cos(s)*Math.cos(r)*Math.cos(a)+Math.cos(n)*Math.sin(r)*Math.cos(s)*Math.sin(a)+Math.sin(n)*Math.sin(s),1))}function d(){var e=c(i.getCenter(),i.getBounds().getNorthEast()),t=new google.maps.Circle({center:i.getCenter(),radius:1.25*e});return t.getBounds()}function u(){var e,t={};for(e in E)t[e]=!0;return t}function h(){clearTimeout(g),g=setTimeout(function(){m()},25)}function p(e){var t=v.fromLatLngToDivPixel(e),i=v.fromDivPixelToLatLng(new google.maps.Point(t.x+o.radius,t.y-o.radius)),n=v.fromDivPixelToLatLng(new google.maps.Point(t.x-o.radius,t.y+o.radius));return new google.maps.LatLngBounds(n,i)}function m(){if(!w&&!S&&C){var t,n,r,s,a,c,h,f,m,g,v,b=[],T={},I=i.getZoom(),M="maxZoom"in o&&I>o.maxZoom,z=u(),L=!1;for(x=!1,I>3&&(a=d(),L=a.getSouthWest().lng()<a.getNorthEast().lng()),t=0;t<P.length;t++)!P[t]||L&&!a.contains(P[t].options.position)||y&&!y(B[t])||b.push(t);for(;;){for(t=0;T[t]&&t<b.length;)t++;if(t==b.length)break;if(s=[],k&&!M){v=10;do for(f=s,s=[],v--,h=f.length?a.getCenter():P[b[t]].options.position,a=p(h),n=t;n<b.length;n++)T[n]||a.contains(P[b[n]].options.position)&&s.push(n);while(f.length<s.length&&s.length>1&&v)}else for(n=t;n<b.length;n++)if(!T[n]){s.push(n);break}for(c={indexes:[],ref:[]},m=g=0,r=0;r<s.length;r++)T[s[r]]=!0,c.indexes.push(b[s[r]]),c.ref.push(b[s[r]]),m+=P[b[s[r]]].options.position.lat(),g+=P[b[s[r]]].options.position.lng();m/=s.length,g/=s.length,c.latLng=new google.maps.LatLng(m,g),c.ref=c.ref.join("-"),c.ref in z?delete z[c.ref]:(1===s.length&&(E[c.ref]=!0),_(c))}e.each(z,function(e){l(e)}),S=!1}}var g,v,y,_,b,w=!1,x=!1,S=!1,C=!1,k=!0,I=this,M=[],E={},z={},L={},O=[],P=[],B=[],N=f(i,o.radius);a(),this.getById=function(e){return e in z?(r(z[e]),O[z[e]]):!1},this.rm=function(e){var t=z[e];O[t]&&O[t].setMap(null),delete O[t],O[t]=!1,delete P[t],P[t]=!1,delete B[t],B[t]=!1,delete z[e],delete L[t],x=!0},this.clearById=function(e){return e in z?(this.rm(e),!0):void 0},this.clear=function(e,t,i){var o,n,r,s,a,l=[],c=T(i);for(e?(o=P.length-1,n=-1,r=-1):(o=0,n=P.length,r=1),s=o;s!=n&&(!P[s]||c&&!c(P[s].tag)||(l.push(L[s]),!t&&!e));s+=r);for(a=0;a<l.length;a++)this.rm(l[a])},this.add=function(e,t){e.id=n(e.id),this.clearById(e.id),z[e.id]=O.length,L[O.length]=e.id,O.push(null),P.push(e),B.push(t),x=!0},this.addMarker=function(e,i){i=i||{},i.id=n(i.id),this.clearById(i.id),i.options||(i.options={}),i.options.position=e.getPosition(),s(t,{todo:i},e,i.id),z[i.id]=O.length,L[O.length]=i.id,O.push(e),P.push(i),B.push(i.data||{}),x=!0},this.todo=function(e){return P[e]},this.value=function(e){return B[e]},this.marker=function(e){return e in O?(r(e),O[e]):!1},this.markerIsSet=function(e){return Boolean(O[e])},this.setMarker=function(e,t){O[e]=t},this.store=function(e,t,i){E[e.ref]={obj:t,shadow:i}},this.free=function(){for(var t=0;t<M.length;t++)google.maps.event.removeListener(M[t]);M=[],e.each(E,function(e){l(e)}),E={},e.each(P,function(e){P[e]=null}),P=[],e.each(O,function(e){O[e]&&(O[e].setMap(null),delete O[e])}),O=[],e.each(B,function(e){delete B[e]}),B=[],z={},L={}},this.filter=function(e){y=e,m()},this.enable=function(e){k!=e&&(k=e,m())},this.display=function(e){_=e},this.error=function(e){b=e},this.beginUpdate=function(){w=!0},this.endUpdate=function(){w=!1,x&&m()},this.autofit=function(e){for(var t=0;t<P.length;t++)P[t]&&e.extend(P[t].options.position)}}function g(e,t){this.id=function(){return e},this.filter=function(e){t.filter(e)},this.enable=function(){t.enable(!0)},this.disable=function(){t.enable(!1)},this.add=function(e,i,o){o||t.beginUpdate(),t.addMarker(e,i),o||t.endUpdate()},this.getById=function(e){return t.getById(e)},this.clearById=function(e,i){var o;return i||t.beginUpdate(),o=t.clearById(e),i||t.endUpdate(),o},this.clear=function(e,i,o,n){n||t.beginUpdate(),t.clear(e,i,o),n||t.endUpdate()}}function v(){function t(e){return{id:e.id,name:e.name,object:e.obj,tag:e.tag,data:e.data}}function o(e){"function"==typeof e.setMap&&e.setMap(null),"function"==typeof e.remove&&e.remove(),"function"==typeof e.free&&e.free(),e=null}var r={},s={};this.add=function(e,t,i,o){var a=e.todo||{},l=n(a.id);return r[t]||(r[t]=[]),l in s&&this.clearById(l),s[l]={obj:i,sub:o,name:t,id:l,tag:a.tag,data:a.data},r[t].push(l),l},this.getById=function(e,i,o){return e in s?i?s[e].sub:o?t(s[e]):s[e].obj:!1},this.get=function(e,i,o,n){var a,l,c=T(o);if(!r[e]||!r[e].length)return null;for(a=r[e].length;a;)if(a--,l=r[e][i?a:r[e].length-a-1],l&&s[l]){if(c&&!c(s[l].tag))continue;return n?t(s[l]):s[l].obj}return null},this.all=function(e,o,n){var a=[],l=T(o),c=function(e){var i,o;for(i=0;i<r[e].length;i++)if(o=r[e][i],o&&s[o]){if(l&&!l(s[o].tag))continue;a.push(n?t(s[o]):s[o].obj)}};if(e in r)c(e);else if(e===i)for(e in r)c(e);return a},this.rm=function(e,t,i){var o,n;if(!r[e])return!1;if(t)if(i)for(o=r[e].length-1;o>=0&&(n=r[e][o],!t(s[n].tag));o--);else for(o=0;o<r[e].length&&(n=r[e][o],!t(s[n].tag));o++);else o=i?r[e].length-1:0;return o in r[e]?this.clearById(r[e][o],o):!1},this.clearById=function(e,t){if(e in s){var n,a=s[e].name;for(n=0;t===i&&n<r[a].length;n++)e===r[a][n]&&(t=n);return o(s[e].obj),s[e].sub&&o(s[e].sub),delete s[e],r[a].splice(t,1),!0}return!1},this.objGetById=function(e){var t;if(r.clusterer)for(var i in r.clusterer)if((t=s[r.clusterer[i]].obj.getById(e))!==!1)return t;return!1},this.objClearById=function(e){if(r.clusterer)for(var t in r.clusterer)if(s[r.clusterer[t]].obj.clearById(e))return!0;return null},this.clear=function(e,t,i,o){var n,s,a,l=T(o);if(e&&e.length)e=k(e);else{e=[];for(n in r)e.push(n)}for(s=0;s<e.length;s++)if(a=e[s],t)this.rm(a,l,!0);else if(i)this.rm(a,l,!1);else for(;this.rm(a,l,!1););},this.objClear=function(t,i,o,n){if(r.clusterer&&(e.inArray("marker",t)>=0||!t.length))for(var a in r.clusterer)s[r.clusterer[a]].obj.clear(i,o,n)}}function y(){return N.geocoder||(N.geocoder=new google.maps.Geocoder),N.geocoder}function _(){return N.directionsService||(N.directionsService=new google.maps.DirectionsService),N.directionsService}function b(){return N.elevationService||(N.elevationService=new google.maps.ElevationService),N.elevationService}function w(){return N.maxZoomService||(N.maxZoomService=new google.maps.MaxZoomService),N.maxZoomService}function x(){return N.distanceMatrixService||(N.distanceMatrixService=new google.maps.DistanceMatrixService),N.distanceMatrixService}function S(){if(A.verbose){var e,i=[];if(t.console&&"function"==typeof console.error){for(e=0;e<arguments.length;e++)i.push(arguments[e]);console.error.apply(console,i)}else{for(i="",e=0;e<arguments.length;e++)i+=arguments[e].toString()+" ";alert(i)}}}function C(e){return("number"==typeof e||"string"==typeof e)&&""!==e&&!isNaN(e)}function k(e){var t,o=[];if(e!==i)if("object"==typeof e)if("number"==typeof e.length)o=e;else for(t in e)o.push(e[t]);else o.push(e);return o}function T(t){return t?"function"==typeof t?t:(t=k(t),function(o){if(o===i)return!1;if("object"==typeof o){for(var n=0;n<o.length;n++)if(e.inArray(o[n],t)>=0)return!0;return!1}return e.inArray(o,t)>=0}):void 0}function I(t,i,o){var n=i?t:null;return t&&"string"!=typeof t?t.latLng?I(t.latLng):t instanceof google.maps.LatLng?t:C(t.lat)?new google.maps.LatLng(t.lat,t.lng):!o&&e.isArray(t)?C(t[0])&&C(t[1])?new google.maps.LatLng(t[0],t[1]):n:n:n}function M(t){var i,o;return!t||t instanceof google.maps.LatLngBounds?t||null:(e.isArray(t)?2==t.length?(i=I(t[0]),o=I(t[1])):4==t.length&&(i=I([t[0],t[1]]),o=I([t[2],t[3]])):"ne"in t&&"sw"in t?(i=I(t.ne),o=I(t.sw)):"n"in t&&"e"in t&&"s"in t&&"w"in t&&(i=I([t.n,t.e]),o=I([t.s,t.w])),i&&o?new google.maps.LatLngBounds(o,i):null)}function E(e,t,i,o,n){var r=i?I(o.todo,!1,!0):!1,s=r?{latLng:r}:o.todo.address?"string"==typeof o.todo.address?{address:o.todo.address}:o.todo.address:!1,a=s?j.get(s):!1,l=this;s?(n=n||0,a?(o.latLng=a.results[0].geometry.location,o.results=a.results,o.status=a.status,t.apply(e,[o])):(s.location&&(s.location=I(s.location)),s.bounds&&(s.bounds=M(s.bounds)),y().geocode(s,function(r,a){a===google.maps.GeocoderStatus.OK?(j.store(s,{results:r,status:a}),o.latLng=r[0].geometry.location,o.results=r,o.status=a,t.apply(e,[o])):a===google.maps.GeocoderStatus.OVER_QUERY_LIMIT&&n<A.queryLimit.attempt?setTimeout(function(){E.apply(l,[e,t,i,o,n+1])},A.queryLimit.delay+Math.floor(Math.random()*A.queryLimit.random)):(S("geocode failed",a,s),o.latLng=o.results=!1,o.status=a,t.apply(e,[o]))}))):(o.latLng=I(o.todo,!1,!0),t.apply(e,[o]))}function z(t,i,o,n){function r(){do a++;while(a<t.length&&!("address"in t[a]));return a>=t.length?(o.apply(i,[n]),void 0):(E(s,function(i){delete i.todo,e.extend(t[a],i),r.apply(s,[])},!0,{todo:t[a]}),void 0)}var s=this,a=-1;r()}function L(e,t,i){var o=!1;navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){o||(o=!0,i.latLng=new google.maps.LatLng(n.coords.latitude,n.coords.longitude),t.apply(e,[i]))},function(){o||(o=!0,i.latLng=!1,t.apply(e,[i]))},i.opts.getCurrentPosition):(i.latLng=!1,t.apply(e,[i]))}function O(t){function o(){!T&&(T=z.get())&&T.run()}function c(){T=null,z.ack(),o.call(E)}function u(i){if(i.todo.callback){var o=Array.prototype.slice.call(arguments,1);"function"==typeof i.todo.callback?i.todo.callback.apply(t,o):e.isArray(i.todo.callback)&&"function"==typeof i.todo.callback[1]&&i.todo.callback[1].apply(i.todo.callback[0],o)}}function h(e,i,o){o&&s(t,e,i,o),u(e,i),T.ack(i)}function f(i,o){if(o=o||{},O)o.todo&&o.todo.options&&(o.todo.options.center&&(o.todo.options.center=I(o.todo.options.center)),O.setOptions(o.todo.options));else{var n=o.opts||e.extend(!0,{},A.map,o.todo&&o.todo.options?o.todo.options:{});n.center=i||I(n.center),O=new A.classes.Map(t.get(0),n)}}function y(i,o,n){var r=[],a="values"in i.todo;return a||(i.todo.values=[{options:i.opts}]),i.todo.values.length?(f(),e.each(i.todo.values,function(a,l){var c,u,h,p,f=d(i,l);if(f.options[n])if(f.options[n][0][0]&&e.isArray(f.options[n][0][0]))for(u=0;u<f.options[n].length;u++)for(h=0;h<f.options[n][u].length;h++)f.options[n][u][h]=I(f.options[n][u][h]);else for(u=0;u<f.options[n].length;u++)f.options[n][u]=I(f.options[n][u]);f.options.map=O,p=new google.maps[o](f.options),r.push(p),c=L.add({todo:f},o.toLowerCase(),p),s(t,{todo:f},p,c)}),h(i,a?r:r[0]),void 0):(h(i,!1),void 0)}function C(o){var n,r,a=new m(t,O,o),l={},c={},d=[],u=/^[0-9]+$/;for(r in o)u.test(r)?(d.push(1*r),c[r]=o[r],c[r].width=c[r].width||0,c[r].height=c[r].height||0):l[r]=o[r];return d.sort(function(e,t){return e>t}),n=l.calculator?function(i){var o=[];return e.each(i,function(e,t){o.push(a.value(t))}),l.calculator.apply(t,[o])}:function(e){return e.length},a.error(function(){S.apply(E,arguments)}),a.display(function(r){var u,h,p,f,m,g=n(r.indexes);if(o.force||g>1)for(u=0;u<d.length;u++)d[u]<=g&&(h=c[d[u]]);h?(m=h.offset||[-h.width/2,-h.height/2],p=e.extend({},l),p.options=e.extend({pane:"overlayLayer",content:h.content?h.content.replace("CLUSTER_COUNT",g):"",offset:{x:("x"in m?m.x:m[0])||0,y:("y"in m?m.y:m[1])||0}},l.options||{}),f=E.overlay({todo:p,opts:p.options,latLng:I(r)},!0),p.options.pane="floatShadow",p.options.content=e(document.createElement("div")).width(h.width+"px").height(h.height+"px").css({cursor:"pointer"}),shadow=E.overlay({todo:p,opts:p.options,latLng:I(r)},!0),l.data={latLng:I(r),markers:[]},e.each(r.indexes,function(e,t){l.data.markers.push(a.value(t)),a.markerIsSet(t)&&a.marker(t).setMap(null)}),s(t,{todo:l},shadow,i,{main:f,shadow:shadow}),a.store(r,f,shadow)):e.each(r.indexes,function(e,t){a.marker(t).setMap(O)})}),a}var T,E=this,z=new a,L=new v,O=null;this._plan=function(e){for(var t=0;t<e.length;t++)z.add(new l(E,c,e[t]));o()},this.map=function(e){f(e.latLng,e),s(t,e,O),h(e,O)},this.destroy=function(e){L.clear(),t.empty(),O&&(O=null),h(e,!0)},this.infowindow=function(o){var n=[],r="values"in o.todo;r||(o.latLng&&(o.opts.position=o.latLng),o.todo.values=[{options:o.opts}]),e.each(o.todo.values,function(e,a){var l,c,u=d(o,a);u.options.position=u.options.position?I(u.options.position):I(a.latLng),O||f(u.options.position),c=new A.classes.InfoWindow(u.options),c&&(u.open===i||u.open)&&(r?c.open(O,u.anchor?u.anchor:i):c.open(O,u.anchor?u.anchor:o.latLng?i:o.session.marker?o.session.marker:i)),n.push(c),l=L.add({todo:u},"infowindow",c),s(t,{todo:u},c,l)}),h(o,r?n:n[0])},this.circle=function(i){var o=[],n="values"in i.todo;return n||(i.opts.center=i.latLng||I(i.opts.center),i.todo.values=[{options:i.opts}]),i.todo.values.length?(e.each(i.todo.values,function(e,n){var r,a,l=d(i,n);l.options.center=l.options.center?I(l.options.center):I(n),O||f(l.options.center),l.options.map=O,a=new A.classes.Circle(l.options),o.push(a),r=L.add({todo:l},"circle",a),s(t,{todo:l},a,r)}),h(i,n?o:o[0]),void 0):(h(i,!1),void 0)},this.overlay=function(i,o){var n=[],r="values"in i.todo;return r||(i.todo.values=[{latLng:i.latLng,options:i.opts}]),i.todo.values.length?(p.__initialised||(p.prototype=new A.classes.OverlayView,p.__initialised=!0),e.each(i.todo.values,function(r,a){var l,c,u=d(i,a),h=e(document.createElement("div")).css({border:"none",borderWidth:"0px",position:"absolute"});h.append(u.options.content),c=new p(O,u.options,I(u)||I(a),h),n.push(c),h=null,o||(l=L.add(i,"overlay",c),s(t,{todo:u},c,l))}),o?n[0]:(h(i,r?n:n[0]),void 0)):(h(i,!1),void 0)},this.getaddress=function(e){u(e,e.results,e.status),T.ack()},this.getlatlng=function(e){u(e,e.results,e.status),T.ack()},this.getmaxzoom=function(e){w().getMaxZoomAtLatLng(e.latLng,function(t){u(e,t.status===google.maps.MaxZoomStatus.OK?t.zoom:!1,status),T.ack()})},this.getelevation=function(e){var t,i=[],o=function(t,i){u(e,i===google.maps.ElevationStatus.OK?t:!1,i),T.ack()};if(e.latLng)i.push(e.latLng);else for(i=k(e.todo.locations||[]),t=0;t<i.length;t++)i[t]=I(i[t]);if(i.length)b().getElevationForLocations({locations:i},o);else{if(e.todo.path&&e.todo.path.length)for(t=0;t<e.todo.path.length;t++)i.push(I(e.todo.path[t]));i.length?b().getElevationAlongPath({path:i,samples:e.todo.samples},o):T.ack()}},this.defaults=function(t){e.each(t.todo,function(t,i){A[t]="object"==typeof A[t]?e.extend({},A[t],i):i}),T.ack(!0)},this.rectangle=function(i){var o=[],n="values"in i.todo;return n||(i.todo.values=[{options:i.opts}]),i.todo.values.length?(e.each(i.todo.values,function(e,n){var r,a,l=d(i,n);l.options.bounds=l.options.bounds?M(l.options.bounds):M(n),O||f(l.options.bounds.getCenter()),l.options.map=O,a=new A.classes.Rectangle(l.options),o.push(a),r=L.add({todo:l},"rectangle",a),s(t,{todo:l},a,r)}),h(i,n?o:o[0]),void 0):(h(i,!1),void 0)},this.polyline=function(e){y(e,"Polyline","path")},this.polygon=function(e){y(e,"Polygon","paths")},this.trafficlayer=function(e){f();var t=L.get("trafficlayer");t||(t=new A.classes.TrafficLayer,t.setMap(O),L.add(e,"trafficlayer",t)),h(e,t)},this.bicyclinglayer=function(e){f();var t=L.get("bicyclinglayer");t||(t=new A.classes.BicyclingLayer,t.setMap(O),L.add(e,"bicyclinglayer",t)),h(e,t)},this.groundoverlay=function(e){e.opts.bounds=M(e.opts.bounds),e.opts.bounds&&f(e.opts.bounds.getCenter());var t,i=new A.classes.GroundOverlay(e.opts.url,e.opts.bounds,e.opts.opts);i.setMap(O),t=L.add(e,"groundoverlay",i),h(e,i,t)},this.streetviewpanorama=function(t){t.opts.opts||(t.opts.opts={}),t.latLng?t.opts.opts.position=t.latLng:t.opts.opts.position&&(t.opts.opts.position=I(t.opts.opts.position)),t.todo.divId?t.opts.container=document.getElementById(t.todo.divId):t.opts.container&&(t.opts.container=e(t.opts.container).get(0));var i,o=new A.classes.StreetViewPanorama(t.opts.container,t.opts.opts);o&&O.setStreetView(o),i=L.add(t,"streetviewpanorama",o),h(t,o,i)},this.kmllayer=function(i){var o=[],n="values"in i.todo;return n||(i.todo.values=[{options:i.opts}]),i.todo.values.length?(e.each(i.todo.values,function(e,n){var a,l,c,u=d(i,n);O||f(),c=u.options,u.options.opts&&(c=u.options.opts,u.options.url&&(c.url=u.options.url)),c.map=O,l=r("3.10")?new A.classes.KmlLayer(c):new A.classes.KmlLayer(c.url,c),o.push(l),a=L.add({todo:u},"kmllayer",l),s(t,{todo:u},l,a)}),h(i,n?o:o[0]),void 0):(h(i,!1),void 0)},this.panel=function(o){f();var n,r,s=0,a=0,l=e(document.createElement("div"));l.css({position:"absolute",zIndex:1e3,visibility:"hidden"}),o.opts.content&&(r=e(o.opts.content),l.append(r),t.first().prepend(l),o.opts.left!==i?s=o.opts.left:o.opts.right!==i?s=t.width()-r.width()-o.opts.right:o.opts.center&&(s=(t.width()-r.width())/2),o.opts.top!==i?a=o.opts.top:o.opts.bottom!==i?a=t.height()-r.height()-o.opts.bottom:o.opts.middle&&(a=(t.height()-r.height())/2),l.css({top:a,left:s,visibility:"visible"})),n=L.add(o,"panel",l),h(o,l,n),l=null},this.marker=function(i){var o="values"in i.todo,r=!O;if(o||(i.opts.position=i.latLng||I(i.opts.position),i.todo.values=[{options:i.opts}]),!i.todo.values.length)return h(i,!1),void 0;if(r&&f(),i.todo.cluster&&!O.getBounds())return google.maps.event.addListenerOnce(O,"bounds_changed",function(){E.marker.apply(E,[i])}),void 0;if(i.todo.cluster){var a,l;i.todo.cluster instanceof g?(a=i.todo.cluster,l=L.getById(a.id(),!0)):(l=C(i.todo.cluster),a=new g(n(i.todo.id,!0),l),L.add(i,"clusterer",a,l)),l.beginUpdate(),e.each(i.todo.values,function(e,t){var o=d(i,t);o.options.position=o.options.position?I(o.options.position):I(t),o.options.map=O,r&&(O.setCenter(o.options.position),r=!1),l.add(o,t)}),l.endUpdate(),h(i,a)}else{var c=[];e.each(i.todo.values,function(e,o){var n,a,l=d(i,o);l.options.position=l.options.position?I(l.options.position):I(o),l.options.map=O,r&&(O.setCenter(l.options.position),r=!1),a=new A.classes.Marker(l.options),c.push(a),n=L.add({todo:l},"marker",a),s(t,{todo:l},a,n)}),h(i,o?c:c[0])}},this.getroute=function(e){e.opts.origin=I(e.opts.origin,!0),e.opts.destination=I(e.opts.destination,!0),_().route(e.opts,function(t,i){u(e,i==google.maps.DirectionsStatus.OK?t:!1,i),T.ack()})},this.directionsrenderer=function(t){t.opts.map=O;var i,o=new google.maps.DirectionsRenderer(t.opts);t.todo.divId?o.setPanel(document.getElementById(t.todo.divId)):t.todo.container&&o.setPanel(e(t.todo.container).get(0)),i=L.add(t,"directionsrenderer",o),h(t,o,i)},this.getgeoloc=function(e){h(e,e.latLng)},this.styledmaptype=function(e){f();var t=new A.classes.StyledMapType(e.todo.styles,e.opts);O.mapTypes.set(e.todo.id,t),h(e,t)},this.imagemaptype=function(e){f();var t=new A.classes.ImageMapType(e.opts);O.mapTypes.set(e.todo.id,t),h(e,t)},this.autofit=function(t){var i=new google.maps.LatLngBounds;e.each(L.all(),function(e,t){t.getPosition?i.extend(t.getPosition()):t.getBounds?(i.extend(t.getBounds().getNorthEast()),i.extend(t.getBounds().getSouthWest())):t.getPaths?t.getPaths().forEach(function(e){e.forEach(function(e){i.extend(e)})}):t.getPath?t.getPath().forEach(function(e){i.extend(e)}):t.getCenter?i.extend(t.getCenter()):t instanceof g&&(t=L.getById(t.id(),!0),t&&t.autofit(i))}),i.isEmpty()||O.getBounds()&&O.getBounds().equals(i)||("maxZoom"in t.todo&&google.maps.event.addListenerOnce(O,"bounds_changed",function(){this.getZoom()>t.todo.maxZoom&&this.setZoom(t.todo.maxZoom)}),O.fitBounds(i)),h(t,!0)},this.clear=function(t){if("string"==typeof t.todo){if(L.clearById(t.todo)||L.objClearById(t.todo))return h(t,!0),void 0;t.todo={name:t.todo}}t.todo.id?e.each(k(t.todo.id),function(e,t){L.clearById(t)||L.objClearById(t)}):(L.clear(k(t.todo.name),t.todo.last,t.todo.first,t.todo.tag),L.objClear(k(t.todo.name),t.todo.last,t.todo.first,t.todo.tag)),h(t,!0)},this.exec=function(i){var o=this;e.each(k(i.todo.func),function(n,r){e.each(o.get(i.todo,!0,i.todo.hasOwnProperty("full")?i.todo.full:!0),function(e,i){r.call(t,i)})}),h(i,!0)},this.get=function(t,o,n){var r,s,a=o?t:t.todo;return o||(n=a.full),"string"==typeof a?(s=L.getById(a,!1,n)||L.objGetById(a),s===!1&&(r=a,a={})):r=a.name,"map"===r&&(s=O),s||(s=[],a.id?(e.each(k(a.id),function(e,t){s.push(L.getById(t,!1,n)||L.objGetById(t))}),e.isArray(a.id)||(s=s[0])):(e.each(r?k(r):[i],function(t,i){var o;a.first?(o=L.get(i,!1,a.tag,n),o&&s.push(o)):a.all?e.each(L.all(i,a.tag,n),function(e,t){s.push(t)}):(o=L.get(i,!0,a.tag,n),o&&s.push(o))}),a.all||e.isArray(r)||(s=s[0]))),s=e.isArray(s)||!a.all?s:[s],o?s:(h(t,s),void 0)},this.getdistance=function(e){var t;for(e.opts.origins=k(e.opts.origins),t=0;t<e.opts.origins.length;t++)e.opts.origins[t]=I(e.opts.origins[t],!0);for(e.opts.destinations=k(e.opts.destinations),t=0;t<e.opts.destinations.length;t++)e.opts.destinations[t]=I(e.opts.destinations[t],!0);x().getDistanceMatrix(e.opts,function(t,i){u(e,i===google.maps.DistanceMatrixStatus.OK?t:!1,i),T.ack()})},this.trigger=function(t){if("string"==typeof t.todo)google.maps.event.trigger(O,t.todo);else{var i=[O,t.todo.eventName];t.todo.var_args&&e.each(t.todo.var_args,function(e,t){i.push(t)}),google.maps.event.trigger.apply(google.maps.event,i)}u(t),T.ack()}}function P(e){var t;if(!e.hasOwnProperty("get"))return!1;for(t in e)if("get"!==t)return!1;return!e.get.hasOwnProperty("callback")}var A,B=0,N={},j=new h;e.fn.gmap3=function(){var t,i=[],n=!0,r=[];for(o(),t=0;t<arguments.length;t++)arguments[t]&&i.push(arguments[t]);return i.length||i.push("map"),e.each(this,function(){var t=e(this),o=t.data("gmap3");n=!1,o||(o=new O(t),t.data("gmap3",o)),1!==i.length||"get"!==i[0]&&!P(i[0])?o._plan(i):"get"===i[0]?r.push(o.get("map",!0)):r.push(o.get(i[0].get,!0,i[0].get.full))}),r.length?1===r.length?r[0]:r:this}}(jQuery),e(function(){f(),g()}),e(t).load(function(){var t="http://192.168.1.104/prism/";"undefined"!=typeof imagesArr&&(I||C||e.each(imagesArr,function(){var e=t+this,i=new Image;i.src=e})),w(),e("html").removeClass("loading"),e(".site-navigation--main").children().each(function(t,i){var o=e(i);setTimeout(function(){o.addClass("js--is-loaded")},50*(t+1))})}),e(t).bind("djaxClick",function(){e("html").addClass("loading"),e("html, body").animate({scrollTop:0},300),e("html").hasClass("navigation--is-visible")&&e("html").removeClass("navigation--is-visible"),x("out"),S("out");var t=e(".js-pixslider");t.length&&t.each(function(){var t=e(this).data("royalSlider");t.destroy()})}),e(t).bind("djaxLoad",function(t,i){i=i.response.replace(/(<\/?)body( .+?)?>/gi,"$1NOTBODY$2>",i);var o=e(i).filter("notbody").attr("class");e("body").attr("class",o),e("html").removeClass("loading"),_(),r(),p(),g()}),e(t).resize(function(){r(),a(),p()}),e(t).scroll(function(){})}(jQuery,window);